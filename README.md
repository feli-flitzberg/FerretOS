CHANGES FROM LFS 12.2
-- packages normally installed in LFS are in sources/base
-- packages not normally installed are in sources/extra
-- unpacked kernel source is left in sources
-- $LFS points to an unmounted directory in /opt
-- no extra drives or partitions are mounted for building
-- set up git and make commits while building
-- update expat to 2.6.4 (security)
-- update openssl to 3.3.2 (security)
-- update python3 to 3.12.7 (security)
-- update linux to 6.11.7 (move from EOL line)
-- link /usr/lib64 to /usr/lib to avoid lib displacement issues
--- ln -sfv lib $LFS/usr/lib64
-- easy ownership: chown -vfR root:root $LFS
-- config files are created outside chroot until editor is installed
-- no timezone set up by default (should default to hwclock output)
-- add --with-arch=x86-64 to gcc configure
-- add --with-tune=generic to gcc configure
-- use --disable-assembly for gmp
-- root password set
-- change ownership of gcc build directory before installation
-- install all of elfutils to ensure systemd-boot can build
--- remove /usr/lib/libelf.a
--- remove /usr/lib/libdw.a
--- remove /usr/lib/libasm.a
-- use --with-gcc-arch=x86-64 for libffi
-- set PAGE to letter for groff
-- grub not installed, still available for LFS building
-- replace vim with nano, still available for LFS building
--- create /etc/nanorc from sample.nanorc
-- add libunistring-1.2 as depencency for libidn2
-- add libidn2-2.3.7 as dependency for glibc & systemd
-- add pyelftools-0.31 to enable systemd-boot
--- pip3 wheel -w dist --no-cache-dir --no-build-isolation --no-deps $PWD
--- pip3 install --no-index --no-user --find-links dist pyelftools
-- add /etc/os-release for bootloader (configure fails otherwise)
--- symlink /usr/lib/os-release points to /etc/os-release
--- name=FerretOS
--- id=ferretos
--- id_like=lfs
--- pretty_name=FerretOS 1 (Solver)
--- version=1
--- version_id=1
--- version_codename=Solver
--- home_url=https://feli-flitzberg.github.io/ferretos.html
--- documentation_url=''
--- support_url='https://github.com/feli-flitzberg/FerretOS/discussions'
--- bug_report_url='https://github.com/feli-flitzberg/FerretOS/issues'
--- privacy_policy_url=''
--- default_hostname=solver
--- architecture=x86-64
-- systemd-boot is systemd-bootx64.efi
-- use 10-base.network for internet config
--- match: name=*
--- network: dhcp=yes
--- network: usedomains=true
-- set hostname to ferretos
-- set lang to en_us
-- add noclear.conf
-- skip creating fstab
-- add strip-all.sh
-- add remove-la-files.sh
-- add rpm2cpio script
-- add initramfs scripts
-- to have internet connection with systemd on a systemd OS:
--- mount -v --bind /run $LFS/run
-- set up /etc/skel before adding user
-- include starting scripts and LFS books in /etc/skel
-- include license files in /etc/skel
-- add user
--- ferretos
--- ferretos
-- add packages listed below before setting up boot
-- add rdfind package to source directory, not installed
-- install linux-firmware repository, save copy to source directory
NOTES:
delete /etc/machine-id or set to uninitialized
--- this breaks exiting the chroot cleanly after reinstalling dbus, host system needs reboot
