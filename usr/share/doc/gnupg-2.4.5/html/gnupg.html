<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This is the The GNU Privacy Guard Manual (version
2.4.5, March 2024).


© 2002, 2004, 2005, 2006, 2007, 2010 Free Software Foundation, Inc.

© 2013, 2014, 2015 Werner Koch.

© 2015, 2016, 2017 g10 Code GmbH.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU General Public License as published by the
Free Software Foundation; either version 3 of the License, or (at your
option) any later version. The text of the license can be found in the
section entitled "Copying". -->
<title>Using the GNU Privacy Guard</title>

<meta name="description" content="Using the GNU Privacy Guard">
<meta name="keywords" content="Using the GNU Privacy Guard">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="#Top" rel="start" title="Top">
<link href="#Option-Index" rel="index" title="Option Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="#Installation" rel="next" title="Installation">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter-printindex {text-decoration: none}
div.center {text-align:center}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
pre.display-preformatted {font-family: inherit}
span:hover a.copiable-link {visibility: visible}
td.printindex-index-entry {vertical-align: top}
td.printindex-index-section {vertical-align: top; padding-left: 1em}
th.entries-header-printindex {text-align:left}
th.sections-header-printindex {text-align:left; padding-left: 1em}
ul.mark-bullet {list-style-type: disc}
ul.toc-numbered-mark {list-style: none}
-->
</style>


</head>

<body lang="en">



























<div class="center"><img class="image" src="gnupg-logo-tr.png" alt="The GnuPG Logo">
</div>
<div class="top-level-extent" id="Top">
<div class="nav-panel">
<p>
Next: <a href="#Installation" accesskey="n" rel="next">A short installation guide</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<a class="top" id="SEC_Top"></a><p>This is the <cite class="cite">The GNU Privacy Guard Manual</cite> (version
2.4.5, March 2024).
</p>

<p>&copy; 2002, 2004, 2005, 2006, 2007, 2010 Free Software Foundation, Inc.<br>
&copy; 2013, 2014, 2015 Werner Koch.<br>
&copy; 2015, 2016, 2017 g10 Code GmbH.
</p>
<blockquote class="quotation">
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU General Public License as published by the
Free Software Foundation; either version 3 of the License, or (at your
option) any later version. The text of the license can be found in the
section entitled &ldquo;Copying&rdquo;.
</p></blockquote>

<p>This manual documents how to use the GNU Privacy Guard system as well as
the administration and the architecture.
</p>





<div class="element-shortcontents" id="SEC_Shortcontents">
<h2 class="shortcontents-heading">Short Table of Contents</h2>

<div class="shortcontents">
<ul class="toc-numbered-mark">
<li><a id="stoc-A-short-installation-guide" href="#toc-A-short-installation-guide">1 A short installation guide</a></li>
<li><a id="stoc-Invoking-GPG_002dAGENT-1" href="#toc-Invoking-GPG_002dAGENT-1">2 Invoking GPG-AGENT</a></li>
<li><a id="stoc-Invoking-DIRMNGR-1" href="#toc-Invoking-DIRMNGR-1">3 Invoking DIRMNGR</a></li>
<li><a id="stoc-Invoking-GPG-1" href="#toc-Invoking-GPG-1">4 Invoking GPG</a></li>
<li><a id="stoc-Invoking-GPGSM-1" href="#toc-Invoking-GPGSM-1">5 Invoking GPGSM</a></li>
<li><a id="stoc-Invoking-the-SCDAEMON" href="#toc-Invoking-the-SCDAEMON">6 Invoking the SCDAEMON</a></li>
<li><a id="stoc-How-to-Specify-a-User-Id" href="#toc-How-to-Specify-a-User-Id">7 How to Specify a User Id</a></li>
<li><a id="stoc-Trust-Values-1" href="#toc-Trust-Values-1">8 Trust Values</a></li>
<li><a id="stoc-Smart-Card-Tool-1" href="#toc-Smart-Card-Tool-1">9 Smart Card Tool</a></li>
<li><a id="stoc-Helper-Tools-1" href="#toc-Helper-Tools-1">10 Helper Tools</a></li>
<li><a id="stoc-Web-Key-Service-1" href="#toc-Web-Key-Service-1">11 Web Key Service</a></li>
<li><a id="stoc-How-to-do-certain-things" href="#toc-How-to-do-certain-things">12 How to do certain things</a></li>
<li><a id="stoc-Notes-pertaining-to-certain-OSes" href="#toc-Notes-pertaining-to-certain-OSes">13 Notes pertaining to certain OSes</a></li>
<li><a id="stoc-How-to-solve-problems" href="#toc-How-to-solve-problems">14 How to solve problems</a></li>
<li><a id="stoc-GNU-General-Public-License" href="#toc-GNU-General-Public-License">GNU General Public License</a></li>
<li><a id="stoc-Contributors-to-GnuPG" href="#toc-Contributors-to-GnuPG">Contributors to GnuPG</a></li>
<li><a id="stoc-Glossary-1" href="#toc-Glossary-1">Glossary</a></li>
<li><a id="stoc-Option-Index-1" href="#toc-Option-Index-1" rel="index">Option Index</a></li>
<li><a id="stoc-Environment-Variable-and-File-Index" href="#toc-Environment-Variable-and-File-Index" rel="index">Environment Variable and File Index</a></li>
<li><a id="stoc-Index-1" href="#toc-Index-1" rel="index">Index</a></li>
</ul>
</div>
</div>
<div class="element-contents" id="SEC_Contents">
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="toc-numbered-mark">
  <li><a id="toc-A-short-installation-guide" href="#Installation">1 A short installation guide</a></li>
  <li><a id="toc-Invoking-GPG_002dAGENT-1" href="#Invoking-GPG_002dAGENT">2 Invoking GPG-AGENT</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Commands" href="#Agent-Commands">2.1 Commands</a></li>
    <li><a id="toc-Option-Summary" href="#Agent-Options">2.2 Option Summary</a></li>
    <li><a id="toc-Configuration" href="#Agent-Configuration">2.3 Configuration</a></li>
    <li><a id="toc-Use-of-some-signals" href="#Agent-Signals">2.4 Use of some signals</a></li>
    <li><a id="toc-Examples" href="#Agent-Examples">2.5 Examples</a></li>
    <li><a id="toc-Agent_0027s-Assuan-Protocol" href="#Agent-Protocol">2.6 Agent&rsquo;s Assuan Protocol</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Decrypting-a-session-key" href="#Agent-PKDECRYPT">2.6.1 Decrypting a session key</a></li>
      <li><a id="toc-Signing-a-Hash" href="#Agent-PKSIGN">2.6.2 Signing a Hash</a></li>
      <li><a id="toc-Generating-a-Key" href="#Agent-GENKEY">2.6.3 Generating a Key</a></li>
      <li><a id="toc-Importing-a-Secret-Key" href="#Agent-IMPORT">2.6.4 Importing a Secret Key</a></li>
      <li><a id="toc-Export-a-Secret-Key" href="#Agent-EXPORT">2.6.5 Export a Secret Key</a></li>
      <li><a id="toc-Importing-a-Root-Certificate" href="#Agent-ISTRUSTED">2.6.6 Importing a Root Certificate</a></li>
      <li><a id="toc-Ask-for-a-passphrase" href="#Agent-GET_005fPASSPHRASE">2.6.7 Ask for a passphrase</a></li>
      <li><a id="toc-Remove-a-cached-passphrase" href="#Agent-CLEAR_005fPASSPHRASE">2.6.8 Remove a cached passphrase</a></li>
      <li><a id="toc-Set-a-passphrase-for-a-keygrip" href="#Agent-PRESET_005fPASSPHRASE">2.6.9 Set a passphrase for a keygrip</a></li>
      <li><a id="toc-Ask-for-confirmation" href="#Agent-GET_005fCONFIRMATION">2.6.10 Ask for confirmation</a></li>
      <li><a id="toc-Check-whether-a-key-is-available" href="#Agent-HAVEKEY">2.6.11 Check whether a key is available</a></li>
      <li><a id="toc-Register-a-smartcard" href="#Agent-LEARN">2.6.12 Register a smartcard</a></li>
      <li><a id="toc-Change-a-Passphrase" href="#Agent-PASSWD">2.6.13 Change a Passphrase</a></li>
      <li><a id="toc-Change-the-standard-display" href="#Agent-UPDATESTARTUPTTY">2.6.14 Change the standard display</a></li>
      <li><a id="toc-Get-the-Event-Counters" href="#Agent-GETEVENTCOUNTER">2.6.15 Get the Event Counters</a></li>
      <li><a id="toc-Return-information-about-the-process" href="#Agent-GETINFO">2.6.16 Return information about the process</a></li>
      <li><a id="toc-Set-options-for-the-session" href="#Agent-OPTION">2.6.17 Set options for the session</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Invoking-DIRMNGR-1" href="#Invoking-DIRMNGR">3 Invoking DIRMNGR</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Commands-1" href="#Dirmngr-Commands">3.1 Commands</a></li>
    <li><a id="toc-Option-Summary-1" href="#Dirmngr-Options">3.2 Option Summary</a></li>
    <li><a id="toc-Configuration-1" href="#Dirmngr-Configuration">3.3 Configuration</a></li>
    <li><a id="toc-Use-of-signals" href="#Dirmngr-Signals">3.4 Use of signals</a></li>
    <li><a id="toc-Examples-1" href="#Dirmngr-Examples">3.5 Examples</a></li>
    <li><a id="toc-Dirmngr_0027s-Assuan-Protocol" href="#Dirmngr-Protocol">3.6 Dirmngr&rsquo;s Assuan Protocol</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Return-the-certificate_0028s_0029-found" href="#Dirmngr-LOOKUP">3.6.1 Return the certificate(s) found</a></li>
      <li><a id="toc-Validate-a-certificate-using-a-CRL-or-OCSP" href="#Dirmngr-ISVALID">3.6.2 Validate a certificate using a CRL or OCSP</a></li>
      <li><a id="toc-Validate-a-certificate-using-a-CRL" href="#Dirmngr-CHECKCRL">3.6.3 Validate a certificate using a CRL</a></li>
      <li><a id="toc-Validate-a-certificate-using-OCSP" href="#Dirmngr-CHECKOCSP">3.6.4 Validate a certificate using OCSP</a></li>
      <li><a id="toc-Put-a-certificate-into-the-internal-cache" href="#Dirmngr-CACHECERT">3.6.5 Put a certificate into the internal cache</a></li>
      <li><a id="toc-Validate-a-certificate-for-debugging" href="#Dirmngr-VALIDATE">3.6.6 Validate a certificate for debugging</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Invoking-GPG-1" href="#Invoking-GPG">4 Invoking GPG</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Commands-2" href="#GPG-Commands">4.1 Commands</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Commands-not-specific-to-the-function" href="#General-GPG-Commands">4.1.1 Commands not specific to the function</a></li>
      <li><a id="toc-Commands-to-select-the-type-of-operation" href="#Operational-GPG-Commands">4.1.2 Commands to select the type of operation</a></li>
      <li><a id="toc-How-to-manage-your-keys" href="#OpenPGP-Key-Management">4.1.3 How to manage your keys</a></li>
    </ul></li>
    <li><a id="toc-Option-Summary-2" href="#GPG-Options">4.2 Option Summary</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-How-to-change-the-configuration" href="#GPG-Configuration-Options">4.2.1 How to change the configuration</a></li>
      <li><a id="toc-Key-related-options" href="#GPG-Key-related-Options">4.2.2 Key related options</a></li>
      <li><a id="toc-Input-and-Output-1" href="#GPG-Input-and-Output">4.2.3 Input and Output</a></li>
      <li><a id="toc-OpenPGP-protocol-specific-options" href="#OpenPGP-Options">4.2.4 OpenPGP protocol specific options</a></li>
      <li><a id="toc-Compliance-options" href="#Compliance-Options">4.2.5 Compliance options</a></li>
      <li><a id="toc-Doing-things-one-usually-doesn_0027t-want-to-do" href="#GPG-Esoteric-Options">4.2.6 Doing things one usually doesn&rsquo;t want to do</a></li>
      <li><a id="toc-Deprecated-options" href="#Deprecated-Options">4.2.7 Deprecated options</a></li>
    </ul></li>
    <li><a id="toc-Configuration-files" href="#GPG-Configuration">4.3 Configuration files</a></li>
    <li><a id="toc-Examples-2" href="#GPG-Examples">4.4 Examples</a></li>
    <li><a id="toc-Unattended-Usage-1" href="#Unattended-Usage-of-GPG">4.5 Unattended Usage</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Programmatic-use-of-GnuPG-1" href="#Programmatic-use-of-GnuPG">4.5.1 Programmatic use of GnuPG</a></li>
      <li><a id="toc-Ephemeral-home-directories-1" href="#Ephemeral-home-directories">4.5.2 Ephemeral home directories</a></li>
      <li><a id="toc-The-quick-key-manipulation-interface-1" href="#The-quick-key-manipulation-interface">4.5.3 The quick key manipulation interface</a></li>
      <li><a id="toc-Unattended-key-generation" href="#Unattended-GPG-key-generation">4.5.4 Unattended key generation</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Invoking-GPGSM-1" href="#Invoking-GPGSM">5 Invoking GPGSM</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Commands-3" href="#GPGSM-Commands">5.1 Commands</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Commands-not-specific-to-the-function-1" href="#General-GPGSM-Commands">5.1.1 Commands not specific to the function</a></li>
      <li><a id="toc-Commands-to-select-the-type-of-operation-1" href="#Operational-GPGSM-Commands">5.1.2 Commands to select the type of operation</a></li>
      <li><a id="toc-How-to-manage-the-certificates-and-keys" href="#Certificate-Management">5.1.3 How to manage the certificates and keys</a></li>
    </ul></li>
    <li><a id="toc-Option-Summary-3" href="#GPGSM-Options">5.2 Option Summary</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-How-to-change-the-configuration-1" href="#Configuration-Options">5.2.1 How to change the configuration</a></li>
      <li><a id="toc-Certificate-related-options" href="#Certificate-Options">5.2.2 Certificate related options</a></li>
      <li><a id="toc-Input-and-Output-2" href="#Input-and-Output">5.2.3 Input and Output</a></li>
      <li><a id="toc-How-to-change-how-the-CMS-is-created" href="#CMS-Options">5.2.4 How to change how the CMS is created</a></li>
      <li><a id="toc-Doing-things-one-usually-do-not-want-to-do" href="#Esoteric-Options">5.2.5 Doing things one usually do not want to do</a></li>
    </ul></li>
    <li><a id="toc-Configuration-files-1" href="#GPGSM-Configuration">5.3 Configuration files</a></li>
    <li><a id="toc-Examples-3" href="#GPGSM-Examples">5.4 Examples</a></li>
    <li><a id="toc-Unattended-Usage-2" href="#Unattended-Usage">5.5 Unattended Usage</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Automated-signature-checking-1" href="#Automated-signature-checking">5.5.1 Automated signature checking</a></li>
      <li><a id="toc-CSR-and-certificate-creation-1" href="#CSR-and-certificate-creation">5.5.2 CSR and certificate creation</a></li>
    </ul></li>
    <li><a id="toc-The-Protocol-the-Server-Mode-Uses" href="#GPGSM-Protocol">5.6 The Protocol the Server Mode Uses</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Encrypting-a-Message" href="#GPGSM-ENCRYPT">5.6.1 Encrypting a Message</a></li>
      <li><a id="toc-Decrypting-a-message" href="#GPGSM-DECRYPT">5.6.2 Decrypting a message</a></li>
      <li><a id="toc-Signing-a-Message" href="#GPGSM-SIGN">5.6.3 Signing a Message</a></li>
      <li><a id="toc-Verifying-a-Message" href="#GPGSM-VERIFY">5.6.4 Verifying a Message</a></li>
      <li><a id="toc-Generating-a-Key-1" href="#GPGSM-GENKEY">5.6.5 Generating a Key</a></li>
      <li><a id="toc-List-available-keys" href="#GPGSM-LISTKEYS">5.6.6 List available keys</a></li>
      <li><a id="toc-Export-certificates" href="#GPGSM-EXPORT">5.6.7 Export certificates</a></li>
      <li><a id="toc-Import-certificates" href="#GPGSM-IMPORT">5.6.8 Import certificates</a></li>
      <li><a id="toc-Delete-certificates" href="#GPGSM-DELETE">5.6.9 Delete certificates</a></li>
      <li><a id="toc-Retrieve-an-audit-log" href="#GPGSM-GETAUDITLOG">5.6.10 Retrieve an audit log</a></li>
      <li><a id="toc-Return-information-about-the-process-1" href="#GPGSM-GETINFO">5.6.11 Return information about the process</a></li>
      <li><a id="toc-Session-options" href="#GPGSM-OPTION">5.6.12 Session options</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Invoking-the-SCDAEMON" href="#Invoking-SCDAEMON">6 Invoking the SCDAEMON</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Commands-4" href="#Scdaemon-Commands">6.1 Commands</a></li>
    <li><a id="toc-Option-Summary-4" href="#Scdaemon-Options">6.2 Option Summary</a></li>
    <li><a id="toc-Description-of-card-applications" href="#Card-applications">6.3 Description of card applications</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-The-OpenPGP-card-application-_0060_0060openpgp_0027_0027" href="#OpenPGP-Card">6.3.1 The OpenPGP card application &ldquo;openpgp&rdquo;</a></li>
      <li><a id="toc-The-Telesec-NetKey-card-_0060_0060nks_0027_0027" href="#NKS-Card">6.3.2 The Telesec NetKey card &ldquo;nks&rdquo;</a></li>
      <li><a id="toc-The-DINSIG-card-application-_0060_0060dinsig_0027_0027" href="#DINSIG-Card">6.3.3 The DINSIG card application &ldquo;dinsig&rdquo;</a></li>
      <li><a id="toc-The-PKCS_002315-card-application-_0060_0060p15_0027_0027" href="#PKCS_002315-Card">6.3.4 The PKCS#15 card application &ldquo;p15&rdquo;</a></li>
      <li><a id="toc-The-Geldkarte-card-application-_0060_0060geldkarte_0027_0027" href="#Geldkarte-Card">6.3.5 The Geldkarte card application &ldquo;geldkarte&rdquo;</a></li>
      <li><a id="toc-The-SmartCard_002dHSM-card-application-_0060_0060sc_002dhsm_0027_0027" href="#SmartCard_002dHSM">6.3.6 The SmartCard-HSM card application &ldquo;sc-hsm&rdquo;</a></li>
      <li><a id="toc-The-Undefined-card-application-_0060_0060undefined_0027_0027" href="#Undefined-Card">6.3.7 The Undefined card application &ldquo;undefined&rdquo;</a></li>
    </ul></li>
    <li><a id="toc-Configuration-files-2" href="#Scdaemon-Configuration">6.4 Configuration files</a></li>
    <li><a id="toc-Examples-4" href="#Scdaemon-Examples">6.5 Examples</a></li>
    <li><a id="toc-Scdaemon_0027s-Assuan-Protocol" href="#Scdaemon-Protocol">6.6 Scdaemon&rsquo;s Assuan Protocol</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Return-the-serial-number" href="#Scdaemon-SERIALNO">6.6.1 Return the serial number</a></li>
      <li><a id="toc-Read-all-useful-information-from-the-card" href="#Scdaemon-LEARN">6.6.2 Read all useful information from the card</a></li>
      <li><a id="toc-Return-a-certificate" href="#Scdaemon-READCERT">6.6.3 Return a certificate</a></li>
      <li><a id="toc-Return-a-public-key" href="#Scdaemon-READKEY">6.6.4 Return a public key</a></li>
      <li><a id="toc-Signing-data-with-a-Smartcard" href="#Scdaemon-PKSIGN">6.6.5 Signing data with a Smartcard</a></li>
      <li><a id="toc-Decrypting-data-with-a-Smartcard" href="#Scdaemon-PKDECRYPT">6.6.6 Decrypting data with a Smartcard</a></li>
      <li><a id="toc-Read-an-attribute_0027s-value" href="#Scdaemon-GETATTR">6.6.7 Read an attribute&rsquo;s value</a></li>
      <li><a id="toc-Update-an-attribute_0027s-value" href="#Scdaemon-SETATTR">6.6.8 Update an attribute&rsquo;s value</a></li>
      <li><a id="toc-Write-a-key-to-a-card" href="#Scdaemon-WRITEKEY">6.6.9 Write a key to a card</a></li>
      <li><a id="toc-Generate-a-new-key-on_002dcard" href="#Scdaemon-GENKEY">6.6.10 Generate a new key on-card</a></li>
      <li><a id="toc-Return-random-bytes-generated-on_002dcard" href="#Scdaemon-RANDOM">6.6.11 Return random bytes generated on-card</a></li>
      <li><a id="toc-Change-PINs" href="#Scdaemon-PASSWD">6.6.12 Change PINs</a></li>
      <li><a id="toc-Perform-a-VERIFY-operation" href="#Scdaemon-CHECKPIN">6.6.13 Perform a VERIFY operation</a></li>
      <li><a id="toc-Perform-a-RESTART-operation" href="#Scdaemon-RESTART">6.6.14 Perform a RESTART operation</a></li>
      <li><a id="toc-Send-a-verbatim-APDU-to-the-card" href="#Scdaemon-APDU">6.6.15 Send a verbatim APDU to the card</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-How-to-Specify-a-User-Id" href="#Specify-a-User-ID">7 How to Specify a User Id</a></li>
  <li><a id="toc-Trust-Values-1" href="#Trust-Values">8 Trust Values</a></li>
  <li><a id="toc-Smart-Card-Tool-1" href="#Smart-Card-Tool">9 Smart Card Tool</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Administrate-smart-cards_002e" href="#gpg_002dcard">9.1 Administrate smart cards.</a></li>
  </ul></li>
  <li><a id="toc-Helper-Tools-1" href="#Helper-Tools">10 Helper Tools</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Read-logs-from-a-socket" href="#watchgnupg">10.1 Read logs from a socket</a></li>
    <li><a id="toc-Verify-OpenPGP-signatures" href="#gpgv">10.2 Verify OpenPGP signatures</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Examples-5" href="#Examples-5">10.2.1 Examples</a></li>
      <li><a id="toc-Environment" href="#Environment">10.2.2 Environment</a></li>
      <li><a id="toc-FILES" href="#FILES">10.2.3 FILES</a></li>
    </ul></li>
    <li><a id="toc-Create-_002egnupg-home-directories" href="#addgnupghome">10.3 Create .gnupg home directories</a></li>
    <li><a id="toc-Modify-_002egnupg-home-directories" href="#gpgconf">10.4 Modify .gnupg home directories</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Invoking-gpgconf-1" href="#Invoking-gpgconf">10.4.1 Invoking gpgconf</a></li>
      <li><a id="toc-Format-conventions-1" href="#Format-conventions">10.4.2 Format conventions</a></li>
      <li><a id="toc-Listing-components-1" href="#Listing-components">10.4.3 Listing components</a></li>
      <li><a id="toc-Checking-programs-1" href="#Checking-programs">10.4.4 Checking programs</a></li>
      <li><a id="toc-Listing-options-1" href="#Listing-options">10.4.5 Listing options</a></li>
      <li><a id="toc-Changing-options-1" href="#Changing-options">10.4.6 Changing options</a></li>
      <li><a id="toc-Listing-global-options-1" href="#Listing-global-options">10.4.7 Listing global options</a></li>
      <li><a id="toc-Get-and-compare-software-versions_002e" href="#Querying-versions">10.4.8 Get and compare software versions.</a></li>
      <li><a id="toc-Files-used-by-gpgconf-1" href="#Files-used-by-gpgconf">10.4.9 Files used by gpgconf</a></li>
    </ul></li>
    <li><a id="toc-Run-gpgconf-for-all-users" href="#applygnupgdefaults">10.5 Run gpgconf for all users</a></li>
    <li><a id="toc-Put-a-passphrase-into-the-cache" href="#gpg_002dpreset_002dpassphrase">10.6 Put a passphrase into the cache</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-List-of-all-commands-and-options" href="#Invoking-gpg_002dpreset_002dpassphrase">10.6.1 List of all commands and options</a></li>
    </ul></li>
    <li><a id="toc-Communicate-with-a-running-agent" href="#gpg_002dconnect_002dagent">10.7 Communicate with a running agent</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-List-of-all-options" href="#Invoking-gpg_002dconnect_002dagent">10.7.1 List of all options</a></li>
      <li><a id="toc-Control-commands" href="#Controlling-gpg_002dconnect_002dagent">10.7.2 Control commands</a></li>
    </ul></li>
    <li><a id="toc-The-Dirmngr-Client-Tool" href="#dirmngr_002dclient">10.8 The Dirmngr Client Tool</a></li>
    <li><a id="toc-Parse-a-mail-message-into-an-annotated-format" href="#gpgparsemail">10.9 Parse a mail message into an annotated format</a></li>
    <li><a id="toc-Encrypt-or-sign-files-into-an-archive" href="#gpgtar">10.10 Encrypt or sign files into an archive</a></li>
    <li><a id="toc-Check-a-passphrase-on-stdin-against-the-patternfile" href="#gpg_002dcheck_002dpattern">10.11 Check a passphrase on stdin against the patternfile</a></li>
  </ul></li>
  <li><a id="toc-Web-Key-Service-1" href="#Web-Key-Service">11 Web Key Service</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Send-requests-via-WKS" href="#gpg_002dwks_002dclient">11.1 Send requests via WKS</a></li>
    <li><a id="toc-Provide-the-Web-Key-Service" href="#gpg_002dwks_002dserver">11.2 Provide the Web Key Service</a></li>
  </ul></li>
  <li><a id="toc-How-to-do-certain-things" href="#Howtos">12 How to do certain things</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Creating-a-TLS-server-certificate" href="#Howto-Create-a-Server-Cert">12.1 Creating a TLS server certificate</a></li>
  </ul></li>
  <li><a id="toc-Notes-pertaining-to-certain-OSes" href="#System-Notes">13 Notes pertaining to certain OSes</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Microsoft-Windows-Notes" href="#W32-Notes">13.1 Microsoft Windows Notes</a></li>
  </ul></li>
  <li><a id="toc-How-to-solve-problems" href="#Debugging">14 How to solve problems</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Debugging-Tools-1" href="#Debugging-Tools">14.1 Debugging Tools</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-Scrutinizing-a-keybox-file" href="#kbxutil">14.1.1 Scrutinizing a keybox file</a></li>
    </ul></li>
    <li><a id="toc-Various-hints-on-debugging" href="#Debugging-Hints">14.2 Various hints on debugging</a></li>
    <li><a id="toc-Commonly-Seen-Problems" href="#Common-Problems">14.3 Commonly Seen Problems</a></li>
    <li><a id="toc-How-the-whole-thing-works-internally" href="#Architecture-Details">14.4 How the whole thing works internally</a>
    <ul class="toc-numbered-mark">
      <li><a id="toc-How-the-components-work-together" href="#Component-interaction">14.4.1 How the components work together</a></li>
      <li><a id="toc-Relationship-between-GnuPG-1_002e4-and-2_002ex" href="#GnuPG_002d1-and-GnuPG_002d2">14.4.2 Relationship between GnuPG 1.4 and 2.x</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-GNU-General-Public-License" href="#Copying">GNU General Public License</a>
  <ul class="toc-numbered-mark">
    <li><a id="toc-Preamble" href="#Preamble">Preamble</a></li>
    <li><a id="toc-How-to-Apply-These-Terms-to-Your-New-Programs" href="#How-to-Apply-These-Terms-to-Your-New-Programs">How to Apply These Terms to Your New Programs</a></li>
  </ul></li>
  <li><a id="toc-Contributors-to-GnuPG" href="#Contributors">Contributors to GnuPG</a></li>
  <li><a id="toc-Glossary-1" href="#Glossary">Glossary</a></li>
  <li><a id="toc-Option-Index-1" href="#Option-Index" rel="index">Option Index</a></li>
  <li><a id="toc-Environment-Variable-and-File-Index" href="#Environment-Index" rel="index">Environment Variable and File Index</a></li>
  <li><a id="toc-Index-1" href="#Index" rel="index">Index</a></li>
</ul>
</div>
</div>
<hr>
<div class="chapter-level-extent" id="Installation">
<div class="nav-panel">
<p>
Next: <a href="#Invoking-GPG_002dAGENT" accesskey="n" rel="next">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="A-short-installation-guide"><span>1 A short installation guide<a class="copiable-link" href="#A-short-installation-guide"> &para;</a></span></h2>

<p>Unfortunately the installation guide has not been finished in time.
Instead of delaying the release of GnuPG 2.0 even further, I decided to
release without that guide.  The chapter on gpg-agent and gpgsm do
include brief information on how to set up the whole thing.  Please
watch the GnuPG website for updates of the documentation.  In the
meantime you may search the GnuPG mailing list archives or ask on the
gnupg-users mailing list for advise on how to solve problems or how to
get that whole thing up and running.
</p>
<p>** Building the software
</p>
<p>Building the software is described in the file <samp class="file">INSTALL</samp>.  Given
that you are already reading this documentation we can only give some
extra hints.
</p>
<p>To comply with the rules on GNU systems you should have build time
configured <code class="command">gnupg</code> using:
</p>
<div class="example">
<pre class="example-preformatted">./configure --sysconfdir=/etc --localstatedir=/var
</pre></div>

<p>This is to make sure that system wide configuration files are searched
in the directory <samp class="file">/etc</samp> and variable data below <samp class="file">/var</samp>;
the default would be to also install them below <samp class="file">/usr/local</samp> where
the binaries get installed.  If you selected to use the
<samp class="option">--prefix=/</samp> you obviously don&rsquo;t need those option as they are
the default then.
</p>

<p>** Notes on setting a root CA key to trusted
</p>
<p>X.509 is based on a hierarchical key infrastructure.  At the root of the
tree a trusted anchor (root certificate) is required.  There are usually
no other means of verifying whether this root certificate is trustworthy
than looking it up in a list. GnuPG uses a file (<samp class="file">trustlist.txt</samp>)
to keep track of all root certificates it knows about.  There are 3 ways
to get certificates into this list:
</p>
<ul class="itemize mark-bullet">
<li>Use the list which comes with GnuPG. However this list only
contains a few root certificates.  Most installations will need more.

</li><li>Let <code class="command">gpgsm</code> ask you whether you want to insert a new root
certificate.  This feature is enabled by default; you may disable it
using the option <samp class="option">no-allow-mark-trusted</samp> into
<samp class="file">gpg-agent.conf</samp>.

</li><li>Manually maintain the list of trusted root certificates. For a multi
user installation this can be done once for all users on a machine.
Specific changes on a per-user base are also possible.
</li></ul>












<hr>
</div>
<div class="chapter-level-extent" id="Invoking-GPG_002dAGENT">
<div class="nav-panel">
<p>
Next: <a href="#Invoking-DIRMNGR" accesskey="n" rel="next">Invoking DIRMNGR</a>, Previous: <a href="#Installation" accesskey="p" rel="prev">A short installation guide</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Invoking-GPG_002dAGENT-1"><span>2 Invoking GPG-AGENT<a class="copiable-link" href="#Invoking-GPG_002dAGENT-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-GPG_002dAGENT-command-options"></a>
<a class="index-entry-id" id="index-command-options"></a>
<a class="index-entry-id" id="index-options_002c-GPG_002dAGENT-command"></a>






<p><code class="command">gpg-agent</code> is a daemon to manage secret (private) keys
independently from any protocol.  It is used as a backend for
<code class="command">gpg</code> and <code class="command">gpgsm</code> as well as for a couple of other
utilities.
</p>
<p>The agent is automatically started on demand by <code class="command">gpg</code>,
<code class="command">gpgsm</code>, <code class="command">gpgconf</code>, or <code class="command">gpg-connect-agent</code>.
Thus there is no reason to start it manually.  In case you want to use
the included Secure Shell Agent you may start the agent using:
</p>

<div class="example">
<pre class="example-preformatted">gpg-connect-agent /bye
</pre></div>

<p>If you want to manually terminate the currently-running agent, you can
safely do so with:
</p>
<div class="example">
<pre class="example-preformatted">gpgconf --kill gpg-agent
</pre></div>

<a class="index-entry-id" id="index-GPG_005fTTY"></a>
<p>You should always add the following lines to your <code class="code">.bashrc</code> or
whatever initialization file is used for all shell invocations:
</p>
<div class="example smallexample">
<pre class="example-preformatted">GPG_TTY=$(tty)
export GPG_TTY
</pre></div>

<p>It is important that this environment variable always reflects the
output of the <code class="code">tty</code> command.  For W32 systems this option is not
required.
</p>
<p>Please make sure that a proper pinentry program has been installed
under the default filename (which is system dependent) or use the
option <samp class="option">pinentry-program</samp> to specify the full name of that program.
It is often useful to install a symbolic link from the actual used
pinentry (e.g. <samp class="file">/usr/bin/pinentry-gtk</samp>) to the expected
one (e.g. <samp class="file">/usr/bin/pinentry</samp>).
</p>

<p>See <a class="xref" href="#Option-Index">Option Index</a>, for an index to <code class="command">GPG-AGENT</code>&rsquo;s commands and options.
</p>



<ul class="mini-toc">
<li><a href="#Agent-Commands" accesskey="1">Commands</a></li>
<li><a href="#Agent-Options" accesskey="2">Option Summary</a></li>
<li><a href="#Agent-Configuration" accesskey="3">Configuration</a></li>
<li><a href="#Agent-Signals" accesskey="4">Use of some signals</a></li>
<li><a href="#Agent-Examples" accesskey="5">Examples</a></li>
<li><a href="#Agent-Protocol" accesskey="6">Agent&rsquo;s Assuan Protocol</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Agent-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Agent-Options" accesskey="n" rel="next">Option Summary</a>, Up: <a href="#Invoking-GPG_002dAGENT" accesskey="u" rel="up">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Commands"><span>2.1 Commands<a class="copiable-link" href="#Commands"> &para;</a></span></h3>

<p>Commands are not distinguished from options except for the fact that
only one command is allowed.
</p>
<dl class="table">
<dt><a id="index-version"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version"> &para;</a></span></dt>
<dd><p>Print the program version and licensing information.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-help"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help"> &para;</a></span></dt>
<dt><code class="code">-h</code></dt>
<dd><p>Print a usage message summarizing the most useful command-line options.
Note that you cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-dump_002doptions"></a><span><code class="code">--dump-options</code><a class="copiable-link" href="#index-dump_002doptions"> &para;</a></span></dt>
<dd><p>Print a list of all available options and commands.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-server"></a><span><code class="code">--server</code><a class="copiable-link" href="#index-server"> &para;</a></span></dt>
<dd><p>Run in server mode and wait for commands on the <code class="code">stdin</code>.  The
default mode is to create a socket and listen for commands there.
</p>
</dd>
<dt><a id="index-daemon"></a><span><code class="code">--daemon [<var class="var">command line</var>]</code><a class="copiable-link" href="#index-daemon"> &para;</a></span></dt>
<dd><p>Start the gpg-agent as a daemon; that is, detach it from the console
and run it in the background.
</p>
<p>As an alternative you may create a new process as a child of
gpg-agent: <code class="code">gpg-agent --daemon /bin/sh</code>.  This way you get a new
shell with the environment setup properly; after you exit from this
shell, gpg-agent terminates within a few seconds.
</p>
</dd>
<dt><a id="index-supervised"></a><span><code class="code">--supervised</code><a class="copiable-link" href="#index-supervised"> &para;</a></span></dt>
<dd><p>Run in the foreground, sending logs by default to stderr, and
listening on provided file descriptors, which must already be bound to
listening sockets.  This option is deprecated and not supported on
Windows.
</p>
<p>If in <samp class="file">common.conf</samp> the option <samp class="option">no-autostart</samp> is set, any
start attempts will be ignored.
</p>
<p>In &ndash;supervised mode, different file descriptors can be provided for
use as different socket types (e.g. ssh, extra) as long as they are
identified in the environment variable <code class="code">LISTEN_FDNAMES</code> (see
sd_listen_fds(3) on some Linux distributions for more information on
this convention).
</p></dd>
</dl>


<hr>
</div>
<div class="section-level-extent" id="Agent-Options">
<div class="nav-panel">
<p>
Next: <a href="#Agent-Configuration" accesskey="n" rel="next">Configuration</a>, Previous: <a href="#Agent-Commands" accesskey="p" rel="prev">Commands</a>, Up: <a href="#Invoking-GPG_002dAGENT" accesskey="u" rel="up">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Option-Summary"><span>2.2 Option Summary<a class="copiable-link" href="#Option-Summary"> &para;</a></span></h3>

<p>Options may either be used on the command line or, after stripping off
the two leading dashes, in the configuration file.
</p>
<dl class="table">
<dd>
<a class="anchor" id="option-_002d_002doptions"></a></dd>
<dt><a id="index-options"></a><span><code class="code">--options <var class="var">file</var></code><a class="copiable-link" href="#index-options"> &para;</a></span></dt>
<dd><p>Reads configuration from <var class="var">file</var> instead of from the default
per-user configuration file.  The default configuration file is named
<samp class="file">gpg-agent.conf</samp> and expected in the <samp class="file">.gnupg</samp> directory
directly below the home directory of the user.  This option is ignored
if used in an options file.
</p>
<a class="anchor" id="option-_002d_002dhomedir"></a></dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir"></a>
<a id="index-homedir"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>

</dd>
<dt><a id="index-verbose"></a><span><code class="code">-v</code><a class="copiable-link" href="#index-verbose"> &para;</a></span></dt>
<dt><code class="code">--verbose</code></dt>
<dd><p>Outputs additional information while running.
You can increase the verbosity by giving several
verbose commands to <code class="command">gpg-agent</code>, such as &lsquo;<samp class="samp">-vv</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-quiet"></a><span><code class="code">-q</code><a class="copiable-link" href="#index-quiet"> &para;</a></span></dt>
<dt><code class="code">--quiet</code></dt>
<dd><p>Try to be as quiet as possible.
</p>
</dd>
<dt><a id="index-batch"></a><span><code class="code">--batch</code><a class="copiable-link" href="#index-batch"> &para;</a></span></dt>
<dd><p>Don&rsquo;t invoke a pinentry or do any other thing requiring human interaction.
</p>
</dd>
<dt><a id="index-faked_002dsystem_002dtime"></a><span><code class="code">--faked-system-time <var class="var">epoch</var></code><a class="copiable-link" href="#index-faked_002dsystem_002dtime"> &para;</a></span></dt>
<dd><p>This option is only useful for testing; it sets the system time back or
forth to <var class="var">epoch</var> which is the number of seconds elapsed since the year
1970.
</p>
</dd>
<dt><a id="index-debug_002dlevel"></a><span><code class="code">--debug-level <var class="var">level</var></code><a class="copiable-link" href="#index-debug_002dlevel"> &para;</a></span></dt>
<dd><p>Select the debug level for investigating problems. <var class="var">level</var> may be
a numeric value or a keyword:
</p>
<dl class="table">
<dt><code class="code">none</code></dt>
<dd><p>No debugging at all.  A value of less than 1 may be used instead of
the keyword.
</p></dd>
<dt><code class="code">basic</code></dt>
<dd><p>Some basic debug messages.  A value between 1 and 2 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">advanced</code></dt>
<dd><p>More verbose debug messages.  A value between 3 and 5 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">expert</code></dt>
<dd><p>Even more detailed messages.  A value between 6 and 8 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">guru</code></dt>
<dd><p>All of the debug messages you can get. A value greater than 8 may be
used instead of the keyword.  The creation of hash tracing files is
only enabled if the keyword is used.
</p></dd>
</dl>

<p>How these messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this program. They are
however carefully selected to best aid in debugging.
</p>
</dd>
<dt><a id="index-debug"></a><span><code class="code">--debug <var class="var">flags</var></code><a class="copiable-link" href="#index-debug"> &para;</a></span></dt>
<dd><p>Set debug flags.  All flags are or-ed and <var class="var">flags</var> may be given
in C syntax (e.g. 0x0042) or as a comma separated list of flag names.
To get a list of all supported flags the single word &quot;help&quot; can be
used. This option is only useful for debugging and the behavior may
change at any time without notice.
</p>
</dd>
<dt><a id="index-debug_002dall"></a><span><code class="code">--debug-all</code><a class="copiable-link" href="#index-debug_002dall"> &para;</a></span></dt>
<dd><p>Same as <code class="code">--debug=0xffffffff</code>
</p>
</dd>
<dt><a id="index-debug_002dwait"></a><span><code class="code">--debug-wait <var class="var">n</var></code><a class="copiable-link" href="#index-debug_002dwait"> &para;</a></span></dt>
<dd><p>When running in server mode, wait <var class="var">n</var> seconds before entering the
actual processing loop and print the pid.  This gives time to attach a
debugger.
</p>
</dd>
<dt><a id="index-debug_002dquick_002drandom"></a><span><code class="code">--debug-quick-random</code><a class="copiable-link" href="#index-debug_002dquick_002drandom"> &para;</a></span></dt>
<dd><p>This option inhibits the use of the very secure random quality level
(Libgcrypt’s <code class="code">GCRY_VERY_STRONG_RANDOM</code>) and degrades all request
down to standard random quality.  It is only used for testing and
should not be used for any production quality keys.  This option is
only effective when given on the command line.
</p>
<p>On GNU/Linux, another way to quickly generate insecure keys is to use
<code class="command">rngd</code> to fill the kernel&rsquo;s entropy pool with lower quality
random data.  <code class="command">rngd</code> is typically provided by the
<code class="command">rng-tools</code> package.  It can be run as follows: &lsquo;<samp class="samp">sudo
rngd -f -r /dev/urandom</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-debug_002dpinentry"></a><span><code class="code">--debug-pinentry</code><a class="copiable-link" href="#index-debug_002dpinentry"> &para;</a></span></dt>
<dd><p>This option enables extra debug information pertaining to the
Pinentry.  As of now it is only useful when used along with
<code class="code">--debug 1024</code>.
</p>
</dd>
<dt><a id="index-no_002ddetach"></a><span><code class="code">--no-detach</code><a class="copiable-link" href="#index-no_002ddetach"> &para;</a></span></dt>
<dd><p>Don&rsquo;t detach the process from the console.  This is mainly useful for
debugging.
</p>
</dd>
<dt><a id="index-steal_002dsocket"></a><span><code class="code">--steal-socket</code><a class="copiable-link" href="#index-steal_002dsocket"> &para;</a></span></dt>
<dd><p>In <samp class="option">--daemon</samp> mode, gpg-agent detects an already running
gpg-agent and does not allow one to start a new instance. This option can
be used to override this check: the new gpg-agent process will try to
take over the communication sockets from the already running process
and start anyway.  This option should in general not be used.
</p>

</dd>
<dt><a class="index-entry-id" id="index-csh"></a>
<a class="index-entry-id" id="index-SHELL"></a>
<a id="index-sh"></a><span><code class="code">-s</code><a class="copiable-link" href="#index-sh"> &para;</a></span></dt>
<dt><code class="code">--sh</code></dt>
<dt><code class="code">-c</code></dt>
<dt><code class="code">--csh</code></dt>
<dd><p>Format the info output in daemon mode for use with the standard Bourne
shell or the C-shell respectively.  The default is to guess it based on
the environment variable <code class="code">SHELL</code> which is correct in almost all
cases.
</p>

</dd>
<dt><a class="index-entry-id" id="index-no_002dgrab"></a>
<a id="index-grab"></a><span><code class="code">--grab</code><a class="copiable-link" href="#index-grab"> &para;</a></span></dt>
<dt><code class="code">--no-grab</code></dt>
<dd><p>Tell the pinentry to grab the keyboard and mouse.  This option should
be used on X-Servers to avoid X-sniffing attacks. Any use of the
option <samp class="option">--grab</samp> overrides an used option <samp class="option">--no-grab</samp>.
The default is <samp class="option">--no-grab</samp>.
</p>
<a class="anchor" id="option-_002d_002dlog_002dfile"></a></dd>
<dt><a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aDefaultLogFile"></a>
<a id="index-log_002dfile"></a><span><code class="code">--log-file <var class="var">file</var></code><a class="copiable-link" href="#index-log_002dfile"> &para;</a></span></dt>
<dd><p>Append all logging output to <var class="var">file</var>.  This is very helpful in
seeing what the agent actually does. Use <samp class="file">socket://</samp> to log to
socket.  If neither a log file nor a log file descriptor has been set
on a Windows platform, the Registry entry
<code class="code">HKCU\Software\GNU\GnuPG:DefaultLogFile</code>, if set, is used to
specify the logging output.
</p>

<a class="anchor" id="option-_002d_002dno_002dallow_002dmark_002dtrusted"></a></dd>
<dt><a id="index-no_002dallow_002dmark_002dtrusted"></a><span><code class="code">--no-allow-mark-trusted</code><a class="copiable-link" href="#index-no_002dallow_002dmark_002dtrusted"> &para;</a></span></dt>
<dd><p>Do not allow clients to mark keys as trusted, i.e. put them into the
<samp class="file">trustlist.txt</samp> file.  This makes it harder for users to inadvertently
accept Root-CA keys.
</p>

<a class="anchor" id="option-_002d_002dno_002duser_002dtrustlist"></a></dd>
<dt><a id="index-no_002duser_002dtrustlist"></a><span><code class="code">--no-user-trustlist</code><a class="copiable-link" href="#index-no_002duser_002dtrustlist"> &para;</a></span></dt>
<dd><p>Entirely ignore the user trust list and consider only the global
trustlist (<samp class="file">/etc/gnupg/trustlist.txt</samp>).  This
implies the <a class="ref" href="#option-_002d_002dno_002dallow_002dmark_002dtrusted">option --no-allow-mark-trusted</a>.
</p>
</dd>
<dt><a id="index-sys_002dtrustlist_002dname"></a><span><code class="code">--sys-trustlist-name <var class="var">file</var></code><a class="copiable-link" href="#index-sys_002dtrustlist_002dname"> &para;</a></span></dt>
<dd><p>Changes the default name for the global trustlist from &quot;trustlist.txt&quot;
to <var class="var">file</var>.  If <var class="var">file</var> does not contain any slashes and does
not start with &quot;~/&quot; it is searched in the system configuration
directory (<samp class="file">/etc/gnupg</samp>).
</p>
<a class="anchor" id="option-_002d_002dallow_002dpreset_002dpassphrase"></a></dd>
<dt><a id="index-allow_002dpreset_002dpassphrase"></a><span><code class="code">--allow-preset-passphrase</code><a class="copiable-link" href="#index-allow_002dpreset_002dpassphrase"> &para;</a></span></dt>
<dd><p>This option allows the use of <code class="command">gpg-preset-passphrase</code> to seed the
internal cache of <code class="command">gpg-agent</code> with passphrases.
</p>
<a class="anchor" id="option-_002d_002dno_002dallow_002dloopback_002dpinentry"></a></dd>
<dt><code class="code">--no-allow-loopback-pinentry</code></dt>
<dt><a class="index-entry-id" id="index-allow_002dloopback_002dpinentry"></a>
<a id="index-no_002dallow_002dloopback_002dpinentry"></a><span><code class="code">--allow-loopback-pinentry</code><a class="copiable-link" href="#index-no_002dallow_002dloopback_002dpinentry"> &para;</a></span></dt>
<dd><p>Disallow or allow clients to use the loopback pinentry features; see
the option <samp class="option">pinentry-mode</samp> for details.  Allow is the default.
</p>
<p>The <samp class="option">--force</samp> option of the Assuan command <code class="command">DELETE_KEY</code>
is also controlled by this option: The option is ignored if a loopback
pinentry is disallowed.
</p>
</dd>
<dt><a id="index-no_002dallow_002dexternal_002dcache"></a><span><code class="code">--no-allow-external-cache</code><a class="copiable-link" href="#index-no_002dallow_002dexternal_002dcache"> &para;</a></span></dt>
<dd><p>Tell Pinentry not to enable features which use an external cache for
passphrases.
</p>
<p>Some desktop environments prefer to unlock all
credentials with one master password and may have installed a Pinentry
which employs an additional external cache to implement such a policy.
By using this option the Pinentry is advised not to make use of such a
cache and instead always ask the user for the requested passphrase.
</p>
</dd>
<dt><a id="index-allow_002demacs_002dpinentry"></a><span><code class="code">--allow-emacs-pinentry</code><a class="copiable-link" href="#index-allow_002demacs_002dpinentry"> &para;</a></span></dt>
<dd><p>Tell Pinentry to allow features to divert the passphrase entry to a
running Emacs instance.  How this is exactly handled depends on the
version of the used Pinentry.
</p>
</dd>
<dt><a id="index-ignore_002dcache_002dfor_002dsigning"></a><span><code class="code">--ignore-cache-for-signing</code><a class="copiable-link" href="#index-ignore_002dcache_002dfor_002dsigning"> &para;</a></span></dt>
<dd><p>This option will let <code class="command">gpg-agent</code> bypass the passphrase cache for all
signing operation.  Note that there is also a per-session option to
control this behavior but this command line option takes precedence.
</p>
</dd>
<dt><a id="index-default_002dcache_002dttl"></a><span><code class="code">--default-cache-ttl <var class="var">n</var></code><a class="copiable-link" href="#index-default_002dcache_002dttl"> &para;</a></span></dt>
<dd><p>Set the time a cache entry is valid to <var class="var">n</var> seconds.  The default
is 600 seconds.  Each time a cache entry is accessed, the entry&rsquo;s
timer is reset.  To set an entry&rsquo;s maximum lifetime, use
<code class="command">max-cache-ttl</code>.  Note that a cached passphrase may not be
evicted immediately from memory if no client requests a cache
operation.  This is due to an internal housekeeping function which is
only run every few seconds.
</p>
</dd>
<dt><a id="index-default_002dcache_002dttl-1"></a><span><code class="code">--default-cache-ttl-ssh <var class="var">n</var></code><a class="copiable-link" href="#index-default_002dcache_002dttl-1"> &para;</a></span></dt>
<dd><p>Set the time a cache entry used for SSH keys is valid to <var class="var">n</var>
seconds.  The default is 1800 seconds.  Each time a cache entry is
accessed, the entry&rsquo;s timer is reset.  To set an entry&rsquo;s maximum
lifetime, use <code class="command">max-cache-ttl-ssh</code>.
</p>
</dd>
<dt><a id="index-max_002dcache_002dttl"></a><span><code class="code">--max-cache-ttl <var class="var">n</var></code><a class="copiable-link" href="#index-max_002dcache_002dttl"> &para;</a></span></dt>
<dd><p>Set the maximum time a cache entry is valid to <var class="var">n</var> seconds.  After
this time a cache entry will be expired even if it has been accessed
recently or has been set using <code class="command">gpg-preset-passphrase</code>.  The
default is 2 hours (7200 seconds).
</p>
</dd>
<dt><a id="index-max_002dcache_002dttl_002dssh"></a><span><code class="code">--max-cache-ttl-ssh <var class="var">n</var></code><a class="copiable-link" href="#index-max_002dcache_002dttl_002dssh"> &para;</a></span></dt>
<dd><p>Set the maximum time a cache entry used for SSH keys is valid to
<var class="var">n</var> seconds.  After this time a cache entry will be expired even
if it has been accessed recently or has been set using
<code class="command">gpg-preset-passphrase</code>.  The default is 2 hours (7200
seconds).
</p>
</dd>
<dt><a id="index-enforce_002dpassphrase_002dconstraints"></a><span><code class="code">--enforce-passphrase-constraints</code><a class="copiable-link" href="#index-enforce_002dpassphrase_002dconstraints"> &para;</a></span></dt>
<dd><p>Enforce the passphrase constraints by not allowing the user to bypass
them using the &ldquo;Take it anyway&rdquo; button.
</p>
</dd>
<dt><a id="index-min_002dpassphrase_002dlen"></a><span><code class="code">--min-passphrase-len <var class="var">n</var></code><a class="copiable-link" href="#index-min_002dpassphrase_002dlen"> &para;</a></span></dt>
<dd><p>Set the minimal length of a passphrase.  When entering a new passphrase
shorter than this value a warning will be displayed.  Defaults to 8.
</p>
</dd>
<dt><a id="index-min_002dpassphrase_002dnonalpha"></a><span><code class="code">--min-passphrase-nonalpha <var class="var">n</var></code><a class="copiable-link" href="#index-min_002dpassphrase_002dnonalpha"> &para;</a></span></dt>
<dd><p>Set the minimal number of digits or special characters required in a
passphrase.  When entering a new passphrase with less than this number
of digits or special characters a warning will be displayed.  Defaults
to 1.
</p>
</dd>
<dt><a class="index-entry-id" id="index-check_002dsym_002dpassphrase_002dpattern"></a>
<a id="index-check_002dpassphrase_002dpattern"></a><span><code class="code">--check-passphrase-pattern <var class="var">file</var></code><a class="copiable-link" href="#index-check_002dpassphrase_002dpattern"> &para;</a></span></dt>
<dt><code class="code">--check-sym-passphrase-pattern <var class="var">file</var></code></dt>
<dd><p>Check the passphrase against the pattern given in <var class="var">file</var>.  When
entering a new passphrase matching one of these pattern a warning will
be displayed.  If <var class="var">file</var> does not contain any slashes and does not
start with &quot;~/&quot; it is searched in the system configuration directory
(<samp class="file">/etc/gnupg</samp>).  The default is not to use any
pattern file.  The second version of this option is only used when
creating a new symmetric key to allow the use of different patterns
for such passphrases.
</p>
<p>Security note: It is known that checking a passphrase against a list of
pattern or even against a complete dictionary is not very effective to
enforce good passphrases.  Users will soon figure up ways to bypass such
a policy.  A better policy is to educate users on good security
behavior and optionally to run a passphrase cracker regularly on all
users passphrases to catch the very simple ones.
</p>
</dd>
<dt><a id="index-max_002dpassphrase_002ddays"></a><span><code class="code">--max-passphrase-days <var class="var">n</var></code><a class="copiable-link" href="#index-max_002dpassphrase_002ddays"> &para;</a></span></dt>
<dd><p>Ask the user to change the passphrase if <var class="var">n</var> days have passed since
the last change.  With <samp class="option">--enforce-passphrase-constraints</samp> set the
user may not bypass this check.
</p>
</dd>
<dt><a id="index-enable_002dpassphrase_002dhistory"></a><span><code class="code">--enable-passphrase-history</code><a class="copiable-link" href="#index-enable_002dpassphrase_002dhistory"> &para;</a></span></dt>
<dd><p>This option does nothing yet.
</p>
</dd>
<dt><a id="index-pinentry_002dinvisible_002dchar"></a><span><code class="code">--pinentry-invisible-char <var class="var">char</var></code><a class="copiable-link" href="#index-pinentry_002dinvisible_002dchar"> &para;</a></span></dt>
<dd><p>This option asks the Pinentry to use <var class="var">char</var> for displaying hidden
characters.  <var class="var">char</var> must be one character UTF-8 string.  A
Pinentry may or may not honor this request.
</p>
</dd>
<dt><a id="index-pinentry_002dtimeout"></a><span><code class="code">--pinentry-timeout <var class="var">n</var></code><a class="copiable-link" href="#index-pinentry_002dtimeout"> &para;</a></span></dt>
<dd><p>This option asks the Pinentry to timeout after <var class="var">n</var> seconds with no
user input.  The default value of 0 does not ask the pinentry to
timeout, however a Pinentry may use its own default timeout value in
this case.  A Pinentry may or may not honor this request.
</p>
</dd>
<dt><a id="index-pinentry_002dformatted_002dpassphrase"></a><span><code class="code">--pinentry-formatted-passphrase</code><a class="copiable-link" href="#index-pinentry_002dformatted_002dpassphrase"> &para;</a></span></dt>
<dd><p>This option asks the Pinentry to enable passphrase formatting when asking the
user for a new passphrase and masking of the passphrase is turned off.
</p>
<p>If passphrase formatting is enabled, then all non-breaking space characters
are stripped from the entered passphrase.  Passphrase formatting is mostly
useful in combination with passphrases generated with the GENPIN
feature of some Pinentries.  Note that such a generated
passphrase, if not modified by the user, skips all passphrase
constraints checking because such constraints would actually weaken
the generated passphrase.
</p>
</dd>
<dt><a id="index-pinentry_002dprogram"></a><span><code class="code">--pinentry-program <var class="var">filename</var></code><a class="copiable-link" href="#index-pinentry_002dprogram"> &para;</a></span></dt>
<dd><p>Use program <var class="var">filename</var> as the PIN entry.  The default is
installation dependent.  With the default configuration the name of
the default pinentry is <samp class="file">pinentry</samp>; if that file does not exist
but a <samp class="file">pinentry-basic</samp> exist the latter is used.
</p>
<p>On a Windows platform the default is to use the first existing program
from this list:
<samp class="file">bin\pinentry.exe</samp>,
<samp class="file">..\Gpg4win\bin\pinentry.exe</samp>,
<samp class="file">..\Gpg4win\pinentry.exe</samp>,
<samp class="file">..\GNU\GnuPG\pinentry.exe</samp>,
<samp class="file">..\GNU\bin\pinentry.exe</samp>,
<samp class="file">bin\pinentry-basic.exe</samp>
where the file names are relative to the GnuPG installation directory.
</p>

</dd>
<dt><a id="index-pinentry_002dtouch_002dfile"></a><span><code class="code">--pinentry-touch-file <var class="var">filename</var></code><a class="copiable-link" href="#index-pinentry_002dtouch_002dfile"> &para;</a></span></dt>
<dd><p>By default the filename of the socket gpg-agent is listening for
requests is passed to Pinentry, so that it can touch that file before
exiting (it does this only in curses mode).  This option changes the
file passed to Pinentry to <var class="var">filename</var>.  The special name
<code class="code">/dev/null</code> may be used to completely disable this feature.  Note
that Pinentry will not create that file, it will only change the
modification and access time.
</p>

</dd>
<dt><a id="index-scdaemon_002dprogram"></a><span><code class="code">--scdaemon-program <var class="var">filename</var></code><a class="copiable-link" href="#index-scdaemon_002dprogram"> &para;</a></span></dt>
<dd><p>Use program <var class="var">filename</var> as the Smartcard daemon.  The default is
installation dependent and can be shown with the <code class="command">gpgconf</code>
command.
</p>
</dd>
<dt><a id="index-disable_002dscdaemon"></a><span><code class="code">--disable-scdaemon</code><a class="copiable-link" href="#index-disable_002dscdaemon"> &para;</a></span></dt>
<dd><p>Do not make use of the scdaemon tool.  This option has the effect of
disabling the ability to do smartcard operations.  Note, that enabling
this option at runtime does not kill an already forked scdaemon.
</p>
</dd>
<dt><a id="index-disable_002dcheck_002down_002dsocket"></a><span><code class="code">--disable-check-own-socket</code><a class="copiable-link" href="#index-disable_002dcheck_002down_002dsocket"> &para;</a></span></dt>
<dd><p><code class="command">gpg-agent</code> employs a periodic self-test to detect a stolen
socket.  This usually means a second instance of <code class="command">gpg-agent</code>
has taken over the socket and <code class="command">gpg-agent</code> will then terminate
itself.  This option may be used to disable this self-test for
debugging purposes.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002duse_002dstandard_002dsocket"></a>
<a class="index-entry-id" id="index-use_002dstandard_002dsocket_002dp"></a>
<a id="index-use_002dstandard_002dsocket"></a><span><code class="code">--use-standard-socket</code><a class="copiable-link" href="#index-use_002dstandard_002dsocket"> &para;</a></span></dt>
<dt><code class="code">--no-use-standard-socket</code></dt>
<dt><code class="code">--use-standard-socket-p</code></dt>
<dd><p>Since GnuPG 2.1 the standard socket is always used.  These options
have no more effect.  The command <code class="code">gpg-agent
--use-standard-socket-p</code> will thus always return success.
</p>
</dd>
<dt><a class="index-entry-id" id="index-ttyname"></a>
<a class="index-entry-id" id="index-ttytype"></a>
<a class="index-entry-id" id="index-lc_002dctype"></a>
<a class="index-entry-id" id="index-lc_002dmessages"></a>
<a class="index-entry-id" id="index-xauthority"></a>
<a id="index-display"></a><span><code class="code">--display <var class="var">string</var></code><a class="copiable-link" href="#index-display"> &para;</a></span></dt>
<dt><code class="code">--ttyname <var class="var">string</var></code></dt>
<dt><code class="code">--ttytype <var class="var">string</var></code></dt>
<dt><code class="code">--lc-ctype <var class="var">string</var></code></dt>
<dt><code class="code">--lc-messages <var class="var">string</var></code></dt>
<dt><code class="code">--xauthority <var class="var">string</var></code></dt>
<dd><p>These options are used with the server mode to pass localization
information.
</p>
</dd>
<dt><a class="index-entry-id" id="index-keep_002ddisplay"></a>
<a id="index-keep_002dtty"></a><span><code class="code">--keep-tty</code><a class="copiable-link" href="#index-keep_002dtty"> &para;</a></span></dt>
<dt><code class="code">--keep-display</code></dt>
<dd><p>Ignore requests to change the current <code class="code">tty</code> or X window system&rsquo;s
<code class="code">DISPLAY</code> variable respectively.  This is useful to lock the
pinentry to pop up at the <code class="code">tty</code> or display you started the agent.
</p>
</dd>
<dt><a id="index-listen_002dbacklog"></a><span><code class="code">--listen-backlog <var class="var">n</var></code><a class="copiable-link" href="#index-listen_002dbacklog"> &para;</a></span></dt>
<dd><p>Set the size of the queue for pending connections.  The default is 64.
</p>
<a class="anchor" id="option-_002d_002dextra_002dsocket"></a></dd>
<dt><a id="index-extra_002dsocket"></a><span><code class="code">--extra-socket <var class="var">name</var></code><a class="copiable-link" href="#index-extra_002dsocket"> &para;</a></span></dt>
<dd><p>The extra socket is created by default, you may use this option to
change the name of the socket.  To disable the creation of the socket
use &ldquo;none&rdquo; or &ldquo;/dev/null&rdquo; for <var class="var">name</var>.
</p>
<p>Also listen on native gpg-agent connections on the given socket.  The
intended use for this extra socket is to setup a Unix domain socket
forwarding from a remote machine to this socket on the local machine.
A <code class="command">gpg</code> running on the remote machine may then connect to the
local gpg-agent and use its private keys.  This enables decrypting or
signing data on a remote machine without exposing the private keys to the
remote machine.
</p>
</dd>
<dt><a class="index-entry-id" id="index-disable_002dextended_002dkey_002dformat"></a>
<a id="index-enable_002dextended_002dkey_002dformat"></a><span><code class="code">--enable-extended-key-format</code><a class="copiable-link" href="#index-enable_002dextended_002dkey_002dformat"> &para;</a></span></dt>
<dt><code class="code">--disable-extended-key-format</code></dt>
<dd><p>These options are obsolete and have no effect.  The extended key format
is used for years now and has been supported since 2.1.12.  Existing
keys in the old format are migrated to the new format as soon as they
are touched.
</p>

<a class="anchor" id="option-_002d_002denable_002dssh_002dsupport"></a></dd>
<dt><a class="index-entry-id" id="index-enable_002dwin32_002dopenssh_002dsupport"></a>
<a class="index-entry-id" id="index-enable_002dputty_002dsupport"></a>
<a id="index-enable_002dssh_002dsupport"></a><span><code class="code">--enable-ssh-support</code><a class="copiable-link" href="#index-enable_002dssh_002dsupport"> &para;</a></span></dt>
<dt><code class="code">--enable-win32-openssh-support</code></dt>
<dt><code class="code">--enable-putty-support</code></dt>
<dd>
<p>On Unix platforms the OpenSSH Agent protocol is always enabled, but
<code class="command">gpg-agent</code> will only set the <code class="code">SSH_AUTH_SOCK</code> variable if
the option <samp class="option">enable-ssh-support</samp> is given.  Some Linux
distributions use the presence of this option to decide whether the
old ssh-agent shall be started.
</p>
<p>On Windows support for the native ssh implementation must be enabled
using the the option <samp class="option">enable-win32-openssh-support</samp>.  For using
gpg-agent as a replacement for PuTTY&rsquo;s Pageant, the option
<samp class="option">enable-putty-support</samp> must be enabled.
</p>
<p>In this mode of operation, the agent does not only implement the
gpg-agent protocol, but also the agent protocol used by OpenSSH
(through a separate socket or via Named Pipes) or the protocol used by
PuTTY.  Consequently, this allows one to use the gpg-agent as a drop-in
replacement for the ssh-agent.
</p>
<p>SSH keys, which are to be used through the agent, need to be added to
the gpg-agent initially through the ssh-add utility.  When a key is
added, ssh-add will ask for the password of the provided key file and
send the unprotected key material to the agent; this causes the
gpg-agent to ask for a passphrase, which is to be used for encrypting
the newly received key and storing it in a gpg-agent specific
directory.
</p>
<p>Once a key has been added to the gpg-agent this way, the gpg-agent
will be ready to use the key.
</p>
<p>Note: in case the gpg-agent receives a signature request, the user might
need to be prompted for a passphrase, which is necessary for decrypting
the stored key.  Since the ssh-agent protocol does not contain a
mechanism for telling the agent on which display/terminal it is running,
gpg-agent&rsquo;s ssh-support will use the TTY or X display where gpg-agent
has been started.  To switch this display to the current one, the
following command may be used:
</p>
<div class="example smallexample">
<pre class="example-preformatted">gpg-connect-agent updatestartuptty /bye
</pre></div>

<p>Although all GnuPG components try to start the gpg-agent as needed, this
is not possible for the ssh support because ssh does not know about it.
Thus if no GnuPG tool which accesses the agent has been run, there is no
guarantee that ssh is able to use gpg-agent for authentication.  To fix
this you may start gpg-agent if needed using this simple command:
</p>
<div class="example smallexample">
<pre class="example-preformatted">gpg-connect-agent /bye
</pre></div>

<p>Adding the <samp class="option">--verbose</samp> shows the progress of starting the agent.
</p>
<p>The <samp class="option">--enable-putty-support</samp> is only available under Windows
and allows the use of gpg-agent with the ssh implementation
<code class="command">putty</code>.  This is similar to the regular ssh-agent support but
makes use of Windows message queue as required by <code class="command">putty</code>.
</p>

<p>The order in which keys are presented to ssh are:
</p><dl class="table">
<dt><code class="code">Negative Use-for-ssh values</code></dt>
<dd><p>If a key file has the attribute &quot;Use-for-ssh&quot; and its value is
      negative, these keys are presented first to ssh.  The negative
      values are capped at -999 with -999 being lower ranked than -1.
      These values can be used to prefer on-disk keys over keys taken
      from active cards.
</p>
</dd>
<dt><code class="code">Active cards</code></dt>
<dd><p>Active cards (inserted into a card reader or plugged in tokens)
      are always tried; they are ordered by their serial numbers.
</p>
</dd>
<dt><code class="code">Keys listed in the sshcontrol file</code></dt>
<dd><p>Non-disabled keys from the sshcontrol file are presented in the
      order they appear in this file.  Note that the sshcontrol file
      is deprecated.
</p>
</dd>
<dt><code class="code">Positive Use-for-ssh values</code></dt>
<dd><p>If a key file has the attribute &quot;Use-for-ssh&quot; and its value is
      &quot;yes&quot;, &quot;true&quot;, or any positive number the key is presented in
      the order of their values.  &quot;yes&quot; and &quot;true&quot; have a value of 1;
      other values are capped at 99999.
</p>
</dd>
</dl>

<p>Editing the &quot;Use-for-ssh&quot; values can be done with an editor or using
<code class="command">gpg-connect-agent</code> and &quot;KEYATTR&quot; (Remember to append a colon
to the key; i.e. use &quot;Use-for-ssh:&quot;).
</p>

<a class="anchor" id="option-_002d_002dssh_002dfingerprint_002ddigest"></a></dd>
<dt><a id="index-ssh_002dfingerprint_002ddigest"></a><span><code class="code">--ssh-fingerprint-digest</code><a class="copiable-link" href="#index-ssh_002dfingerprint_002ddigest"> &para;</a></span></dt>
<dd>
<p>Select the digest algorithm used to compute ssh fingerprints that are
communicated to the user, e.g. in pinentry dialogs.  OpenSSH has
transitioned from using MD5 to the more secure SHA256.
</p>

</dd>
<dt><a id="index-auto_002dexpand_002dsecmem"></a><span><code class="code">--auto-expand-secmem <var class="var">n</var></code><a class="copiable-link" href="#index-auto_002dexpand_002dsecmem"> &para;</a></span></dt>
<dd><p>Allow Libgcrypt to expand its secure memory area as required.  The
optional value <var class="var">n</var> is a non-negative integer with a suggested size
in bytes of each additionally allocated secure memory area.  The value
is rounded up to the next 32 KiB; usual C style prefixes are allowed.
For an heavy loaded gpg-agent with many concurrent connection this
option avoids sign or decrypt errors due to out of secure memory error
returns.
</p>
</dd>
<dt><a id="index-s2k_002dcalibration"></a><span><code class="code">--s2k-calibration <var class="var">milliseconds</var></code><a class="copiable-link" href="#index-s2k_002dcalibration"> &para;</a></span></dt>
<dd><p>Change the default calibration time to <var class="var">milliseconds</var>.  The given
value is capped at 60 seconds; a value of 0 resets to the compiled-in
default.  This option is re-read on a SIGHUP (or <code class="code">gpgconf
--reload gpg-agent</code>) and the S2K count is then re-calibrated.
</p>
</dd>
<dt><a id="index-s2k_002dcount"></a><span><code class="code">--s2k-count <var class="var">n</var></code><a class="copiable-link" href="#index-s2k_002dcount"> &para;</a></span></dt>
<dd><p>Specify the iteration count used to protect the passphrase.  This
option can be used to override the auto-calibration done by default.
The auto-calibration computes a count which requires by default 100ms
to mangle a given passphrase.  See also <samp class="option">--s2k-calibration</samp>.
</p>
<p>To view the actually used iteration count and the milliseconds
required for an S2K operation use:
</p>
<div class="example">
<pre class="example-preformatted">gpg-connect-agent 'GETINFO s2k_count' /bye
gpg-connect-agent 'GETINFO s2k_time' /bye
</pre></div>

<p>To view the auto-calibrated count use:
</p>
<div class="example">
<pre class="example-preformatted">gpg-connect-agent 'GETINFO s2k_count_cal' /bye
</pre></div>


</dd>
</dl>



<hr>
</div>
<div class="section-level-extent" id="Agent-Configuration">
<div class="nav-panel">
<p>
Next: <a href="#Agent-Signals" accesskey="n" rel="next">Use of some signals</a>, Previous: <a href="#Agent-Options" accesskey="p" rel="prev">Option Summary</a>, Up: <a href="#Invoking-GPG_002dAGENT" accesskey="u" rel="up">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Configuration"><span>2.3 Configuration<a class="copiable-link" href="#Configuration"> &para;</a></span></h3>

<p>There are a few configuration files needed for the operation of the
agent. By default they may all be found in the current home directory
(see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).
</p>
<dl class="table">
<dt><a id="index-gpg_002dagent_002econf"></a><span><samp class="file">gpg-agent.conf</samp><a class="copiable-link" href="#index-gpg_002dagent_002econf"> &para;</a></span></dt>
<dd><p>This is the standard configuration file read by <code class="command">gpg-agent</code> on
  startup.  It may contain any valid long option; the leading
  two dashes may not be entered and the option may not be abbreviated.
  This file is also read after a <code class="code">SIGHUP</code> however only a few
  options will actually have an effect.  This default name may be
  changed on the command line (see <a class="pxref" href="#option-_002d_002doptions">option --options</a>).
  You should backup this file.
</p>
</dd>
<dt><a id="index-trustlist_002etxt"></a><span><samp class="file">trustlist.txt</samp><a class="copiable-link" href="#index-trustlist_002etxt"> &para;</a></span></dt>
<dd><p>This is the list of trusted keys.  You should backup this file.
</p>
<p>Comment lines, indicated by a leading hash mark, as well as empty
  lines are ignored.  To mark a key as trusted you need to enter its
  fingerprint followed by a space and a capital letter <code class="code">S</code>.  Colons
  may optionally be used to separate the bytes of a fingerprint; this
  enables cutting and pasting the fingerprint from a key listing output.  If
  the line is prefixed with a <code class="code">!</code> the key is explicitly marked as
  not trusted.
</p>
<p>Here is an example where two keys are marked as ultimately trusted
  and one as not trusted:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">  # CN=Wurzel ZS 3,O=Intevation GmbH,C=DE
  A6935DD34EF3087973C706FC311AA2CCF733765B S

  # CN=PCA-1-Verwaltung-02/O=PKI-1-Verwaltung/C=DE
  DC:BD:69:25:48:BD:BB:7E:31:6E:BB:80:D3:00:80:35:D4:F8:A6:CD S

  # CN=Root-CA/O=Schlapphuete/L=Pullach/C=DE
  !14:56:98:D3:FE:9C:CA:5A:31:6E:BC:81:D3:11:4E:00:90:A3:44:C2 S
  </pre></div>
</td></tr></table>

<p>Before entering a key into this file, you need to ensure its
authenticity.  How to do this depends on your organisation; your
administrator might have already entered those keys which are deemed
trustworthy enough into this file.  Places where to look for the
fingerprint of a root certificate are letters received from the CA or
the website of the CA (after making 100% sure that this is indeed the
website of that CA).  You may want to consider disallowing interactive
updates of this file by using the <a class="ref" href="#option-_002d_002dno_002dallow_002dmark_002dtrusted">option --no-allow-mark-trusted</a>.
It might even be advisable to change the permissions to read-only so
that this file can&rsquo;t be changed inadvertently.
</p>
<p>As a special feature a line <code class="code">include-default</code> will include a global
list of trusted certificates (e.g. <samp class="file">/etc/gnupg/trustlist.txt</samp>).
This global list is also used if the local list is not available;
the <a class="ref" href="#option-_002d_002dno_002duser_002dtrustlist">option --no-user-trustlist</a> enforces the use of only
this global list.
</p>
<p>It is possible to add further flags after the <code class="code">S</code> for use by the
caller:
</p>
<dl class="table">
<dt><a id="index-relax"></a><span><code class="code">relax</code><a class="copiable-link" href="#index-relax"> &para;</a></span></dt>
<dd><p>Relax checking of some root certificate requirements.  As of now this
flag allows the use of root certificates with a missing basicConstraints
attribute (despite that it is a MUST for CA certificates) and disables
CRL checking for the root certificate.
</p>
</dd>
<dt><code class="code">cm</code></dt>
<dd><p>If validation of a certificate finally issued by a CA with this flag set
fails, try again using the chain validation model.
</p>
</dd>
<dt><code class="code">qual</code></dt>
<dd><p>The CA is allowed to issue certificates for qualified signatures.
This flag has an effect only if used in the global list.  This is now
the preferred way to mark such CA; the old way of having a separate
file <samp class="file">qualified.txt</samp> is still supported.
</p>
</dd>
<dt><code class="code">de-vs</code></dt>
<dd><p>The CA is part of an approved PKI for the German classification level
VS-NfD.  It is only valid in the global trustlist.  As of now this is
used only for documentation purpose.
</p>
</dd>
</dl>


</dd>
<dt><a id="index-sshcontrol"></a><span><samp class="file">sshcontrol</samp><a class="copiable-link" href="#index-sshcontrol"> &para;</a></span></dt>
<dd><p>This file is used when support for the secure shell agent protocol has
been enabled (see <a class="pxref" href="#option-_002d_002denable_002dssh_002dsupport">option --enable-ssh-support</a>). Only keys present in
this file are used in the SSH protocol.  You should backup this file.
</p>
<p>This file is deprecated in favor of the &quot;Use-for-ssh&quot; attribute in the
key files.
</p>
<p>The <code class="command">ssh-add</code> tool may be used to add new entries to this file;
you may also add them manually.  Comment lines, indicated by a leading
hash mark, as well as empty lines are ignored.  An entry starts with
optional whitespace, followed by the keygrip of the key given as 40 hex
digits, optionally followed by the caching TTL in seconds and another
optional field for arbitrary flags.  A non-zero TTL overrides the global
default as set by <samp class="option">--default-cache-ttl-ssh</samp>.
</p>
<p>The only flag support is <code class="code">confirm</code>.  If this flag is found for a
key, each use of the key will pop up a pinentry to confirm the use of
that key.  The flag is automatically set if a new key was loaded into
<code class="code">gpg-agent</code> using the option <samp class="option">-c</samp> of the <code class="code">ssh-add</code>
command.
</p>
<p>The keygrip may be prefixed with a <code class="code">!</code> to disable an entry.
</p>
<p>The following example lists exactly one key.  Note that keys available
through a OpenPGP smartcard in the active smartcard reader are
implicitly added to this list; i.e. there is no need to list them.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">       # Key added on: 2011-07-20 20:38:46
       # Fingerprint:  5e:8d:c4:ad:e7:af:6e:27:8a:d6:13:e4:79:ad:0b:81
       34B62F25E277CF13D3C6BCEBFD3F85D08F0A864B 0 confirm
</pre></div>
</td></tr></table>

</dd>
<dt><a id="index-private_002dkeys_002dv1_002ed"></a><span><samp class="file">private-keys-v1.d/</samp><a class="copiable-link" href="#index-private_002dkeys_002dv1_002ed"> &para;</a></span></dt>
<dd>
<p>This is the directory where gpg-agent stores the private keys.  Each
  key is stored in a file with the name made up of the keygrip and the
  suffix <samp class="file">key</samp>.  You should backup all files in this directory
  and take great care to keep this backup closed away.
</p>

</dd>
</dl>

<p>Note that on larger installations, it is useful to put predefined
files into the directory <samp class="file">/etc/skel/.gnupg</samp> so that newly created
users start up with a working configuration.  For existing users the
a small helper script is provided to create these files (see <a class="pxref" href="#addgnupghome">Create .gnupg home directories</a>).
</p>


<hr>
</div>
<div class="section-level-extent" id="Agent-Signals">
<div class="nav-panel">
<p>
Next: <a href="#Agent-Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#Agent-Configuration" accesskey="p" rel="prev">Configuration</a>, Up: <a href="#Invoking-GPG_002dAGENT" accesskey="u" rel="up">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Use-of-some-signals"><span>2.4 Use of some signals<a class="copiable-link" href="#Use-of-some-signals"> &para;</a></span></h3>
<p>A running <code class="command">gpg-agent</code> may be controlled by signals, i.e. using
the <code class="command">kill</code> command to send a signal to the process.
</p>
<p>Here is a list of supported signals:
</p>
<dl class="table">
<dt><a id="index-SIGHUP"></a><span><code class="code">SIGHUP</code><a class="copiable-link" href="#index-SIGHUP"> &para;</a></span></dt>
<dd><p>This signal flushes all cached passphrases and if the program has been
started with a configuration file, the configuration file is read
again.  Only certain options are honored: <code class="code">quiet</code>,
<code class="code">verbose</code>, <code class="code">debug</code>, <code class="code">debug-all</code>, <code class="code">debug-level</code>,
<code class="code">debug-pinentry</code>,
<code class="code">no-grab</code>,
<code class="code">pinentry-program</code>,
<code class="code">pinentry-invisible-char</code>,
<code class="code">default-cache-ttl</code>,
<code class="code">max-cache-ttl</code>, <code class="code">ignore-cache-for-signing</code>,
<code class="code">s2k-count</code>,
<code class="code">no-allow-external-cache</code>, <code class="code">allow-emacs-pinentry</code>,
<code class="code">no-allow-mark-trusted</code>, <code class="code">disable-scdaemon</code>, and
<code class="code">disable-check-own-socket</code>.  <code class="code">scdaemon-program</code> is also
supported but due to the current implementation, which calls the
scdaemon only once, it is not of much use unless you manually kill the
scdaemon.
</p>

</dd>
<dt><a id="index-SIGTERM"></a><span><code class="code">SIGTERM</code><a class="copiable-link" href="#index-SIGTERM"> &para;</a></span></dt>
<dd><p>Shuts down the process but waits until all current requests are
fulfilled.  If the process has received 3 of these signals and requests
are still pending, a shutdown is forced.
</p>
</dd>
<dt><a id="index-SIGINT"></a><span><code class="code">SIGINT</code><a class="copiable-link" href="#index-SIGINT"> &para;</a></span></dt>
<dd><p>Shuts down the process immediately.
</p>
</dd>
<dt><a id="index-SIGUSR1"></a><span><code class="code">SIGUSR1</code><a class="copiable-link" href="#index-SIGUSR1"> &para;</a></span></dt>
<dd><p>Dump internal information to the log file.
</p>
</dd>
<dt><a id="index-SIGUSR2"></a><span><code class="code">SIGUSR2</code><a class="copiable-link" href="#index-SIGUSR2"> &para;</a></span></dt>
<dd><p>This signal is used for internal purposes.
</p>
</dd>
</dl>


<hr>
</div>
<div class="section-level-extent" id="Agent-Examples">
<div class="nav-panel">
<p>
Next: <a href="#Agent-Protocol" accesskey="n" rel="next">Agent&rsquo;s Assuan Protocol</a>, Previous: <a href="#Agent-Signals" accesskey="p" rel="prev">Use of some signals</a>, Up: <a href="#Invoking-GPG_002dAGENT" accesskey="u" rel="up">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Examples"><span>2.5 Examples<a class="copiable-link" href="#Examples"> &para;</a></span></h3>

<p>It is important to set the environment variable <code class="code">GPG_TTY</code> in
your login shell, for example in the <samp class="file">~/.bashrc</samp> init script:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  export GPG_TTY=$(tty)
</pre></div>
</td></tr></table>

<p>If you enabled the Ssh Agent Support, you also need to tell ssh about
it by adding this to your init script:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">unset SSH_AGENT_PID
if [ &quot;${gnupg_SSH_AUTH_SOCK_by:-0}&quot; -ne $$ ]; then
  export SSH_AUTH_SOCK=&quot;$(gpgconf --list-dirs agent-ssh-socket)&quot;
fi
</pre></div>
</td></tr></table>



<hr>
</div>
<div class="section-level-extent" id="Agent-Protocol">
<div class="nav-panel">
<p>
Previous: <a href="#Agent-Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Invoking-GPG_002dAGENT" accesskey="u" rel="up">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Agent_0027s-Assuan-Protocol"><span>2.6 Agent&rsquo;s Assuan Protocol<a class="copiable-link" href="#Agent_0027s-Assuan-Protocol"> &para;</a></span></h3>

<p>Note: this section does only document the protocol, which is used by
GnuPG components; it does not deal with the ssh-agent protocol.  To
see the full specification of each command, use
</p>
<div class="example">
<pre class="example-preformatted">  gpg-connect-agent 'help COMMAND' /bye
</pre></div>

<p>or just &rsquo;help&rsquo; to list all available commands.
</p>
<p>The <code class="command">gpg-agent</code> daemon is started on demand by the GnuPG
components.
</p>
<p>To identify a key we use a thing called keygrip which is the SHA-1 hash
of an canonical encoded S-Expression of the public key as used in
Libgcrypt.  For the purpose of this interface the keygrip is given as a
hex string.  The advantage of using this and not the hash of a
certificate is that it will be possible to use the same keypair for
different protocols, thereby saving space on the token used to keep the
secret keys.
</p>
<p>The <code class="command">gpg-agent</code> may send status messages during a command or when
returning from a command to inform a client about the progress or result of an
operation.  For example, the <var class="var">INQUIRE_MAXLEN</var> status message may be sent
during a server inquire to inform the client of the maximum usable length of
the inquired data (which should not be exceeded).
</p>

<ul class="mini-toc">
<li><a href="#Agent-PKDECRYPT" accesskey="1">Decrypting a session key</a></li>
<li><a href="#Agent-PKSIGN" accesskey="2">Signing a Hash</a></li>
<li><a href="#Agent-GENKEY" accesskey="3">Generating a Key</a></li>
<li><a href="#Agent-IMPORT" accesskey="4">Importing a Secret Key</a></li>
<li><a href="#Agent-EXPORT" accesskey="5">Export a Secret Key</a></li>
<li><a href="#Agent-ISTRUSTED" accesskey="6">Importing a Root Certificate</a></li>
<li><a href="#Agent-GET_005fPASSPHRASE" accesskey="7">Ask for a passphrase</a></li>
<li><a href="#Agent-CLEAR_005fPASSPHRASE" accesskey="8">Remove a cached passphrase</a></li>
<li><a href="#Agent-PRESET_005fPASSPHRASE" accesskey="9">Set a passphrase for a keygrip</a></li>
<li><a href="#Agent-GET_005fCONFIRMATION">Ask for confirmation</a></li>
<li><a href="#Agent-HAVEKEY">Check whether a key is available</a></li>
<li><a href="#Agent-LEARN">Register a smartcard</a></li>
<li><a href="#Agent-PASSWD">Change a Passphrase</a></li>
<li><a href="#Agent-UPDATESTARTUPTTY">Change the standard display</a></li>
<li><a href="#Agent-GETEVENTCOUNTER">Get the Event Counters</a></li>
<li><a href="#Agent-GETINFO">Return information about the process</a></li>
<li><a href="#Agent-OPTION">Set options for the session</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Agent-PKDECRYPT">
<div class="nav-panel">
<p>
Next: <a href="#Agent-PKSIGN" accesskey="n" rel="next">Signing a Hash</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Decrypting-a-session-key"><span>2.6.1 Decrypting a session key<a class="copiable-link" href="#Decrypting-a-session-key"> &para;</a></span></h4>

<p>The client asks the server to decrypt a session key.  The encrypted
session key should have all information needed to select the
appropriate secret key or to delegate it to a smartcard.
</p>
<div class="example">
<pre class="example-preformatted">  SETKEY &lt;keyGrip&gt;
</pre></div>

<p>Tell the server about the key to be used for decryption.  If this is
not used, <code class="command">gpg-agent</code> may try to figure out the key by trying to
decrypt the message with each key available.
</p>
<div class="example">
<pre class="example-preformatted">  PKDECRYPT
</pre></div>

<p>The agent checks whether this command is allowed and then does an
INQUIRY to get the ciphertext the client should then send the cipher
text.
</p>
<div class="example">
<pre class="example-preformatted">    S: INQUIRE CIPHERTEXT
    C: D (xxxxxx
    C: D xxxx)
    C: END
</pre></div>

<p>Please note that the server may send status info lines while reading the
data lines from the client.  The data send is a SPKI like S-Exp with
this structure:
</p>
<div class="example">
<pre class="example-preformatted">     (enc-val
       (&lt;algo&gt;
         (&lt;param_name1&gt; &lt;mpi&gt;)
 	   ...
         (&lt;param_namen&gt; &lt;mpi&gt;)))
</pre></div>

<p>Where algo is a string with the name of the algorithm; see the libgcrypt
documentation for a list of valid algorithms.  The number and names of
the parameters depend on the algorithm.  The agent does return an error
if there is an inconsistency.
</p>
<p>If the decryption was successful the decrypted data is returned by
means of &quot;D&quot; lines.
</p>
<p>Here is an example session:
</p><table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">   C: PKDECRYPT
   S: INQUIRE CIPHERTEXT
   C: D (enc-val elg (a 349324324)
   C: D    (b 3F444677CA)))
   C: END
   S: # session key follows
   S: S PADDING 0
   S: D (value 1234567890ABCDEF0)
   S: OK decryption successful
</pre></div>
</td></tr></table>

<p>The “PADDING” status line is only send if gpg-agent can tell what kind
of padding is used.  As of now only the value 0 is used to indicate
that the padding has been removed.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-PKSIGN">
<div class="nav-panel">
<p>
Next: <a href="#Agent-GENKEY" accesskey="n" rel="next">Generating a Key</a>, Previous: <a href="#Agent-PKDECRYPT" accesskey="p" rel="prev">Decrypting a session key</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Signing-a-Hash"><span>2.6.2 Signing a Hash<a class="copiable-link" href="#Signing-a-Hash"> &para;</a></span></h4>

<p>The client asks the agent to sign a given hash value.  A default key
will be chosen if no key has been set.  To set a key a client first
uses:
</p>
<div class="example">
<pre class="example-preformatted">   SIGKEY &lt;keyGrip&gt;
</pre></div>

<p>This can be used multiple times to create multiple signature, the list
of keys is reset with the next PKSIGN command or a RESET.  The server
tests whether the key is a valid key to sign something and responds with
okay.
</p>
<div class="example">
<pre class="example-preformatted">   SETHASH --hash=&lt;name&gt;|&lt;algo&gt; &lt;hexstring&gt;
</pre></div>

<p>The client can use this command to tell the server about the data &lt;hexstring&gt;
(which usually is a hash) to be signed. &lt;algo&gt; is the decimal encoded hash
algorithm number as used by Libgcrypt.  Either &lt;algo&gt; or &ndash;hash=&lt;name&gt;
must be given.  Valid names for &lt;name&gt; are:
</p>
<dl class="table">
<dt><code class="code">sha1</code></dt>
<dd><p>The SHA-1 hash algorithm
</p></dd>
<dt><code class="code">sha256</code></dt>
<dd><p>The SHA-256 hash algorithm
</p></dd>
<dt><code class="code">rmd160</code></dt>
<dd><p>The RIPE-MD160 hash algorithm
</p></dd>
<dt><code class="code">md5</code></dt>
<dd><p>The old and broken MD5 hash algorithm
</p></dd>
<dt><code class="code">tls-md5sha1</code></dt>
<dd><p>A combined hash algorithm as used by the TLS protocol.
</p></dd>
</dl>

<p>The actual signing is done using
</p>
<div class="example">
<pre class="example-preformatted">   PKSIGN &lt;options&gt;
</pre></div>

<p>Options are not yet defined, but may later be used to choose among
different algorithms.  The agent does then some checks, asks for the
passphrase and as a result the server returns the signature as an SPKI
like S-expression in &quot;D&quot; lines:
</p>
<div class="example">
<pre class="example-preformatted">     (sig-val
       (&lt;algo&gt;
         (&lt;param_name1&gt; &lt;mpi&gt;)
 	   ...
         (&lt;param_namen&gt; &lt;mpi&gt;)))
</pre></div>


<p>The operation is affected by the option
</p>
<div class="example">
<pre class="example-preformatted">   OPTION use-cache-for-signing=0|1
</pre></div>

<p>The default of <code class="code">1</code> uses the cache.  Setting this option to <code class="code">0</code>
will lead <code class="command">gpg-agent</code> to ignore the passphrase cache.  Note, that there is
also a global command line option for <code class="command">gpg-agent</code> to globally disable the
caching.
</p>

<p>Here is an example session:
</p><table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">   C: SIGKEY &lt;keyGrip&gt;
   S: OK key available
   C: SIGKEY &lt;keyGrip&gt;
   S: OK key available
   C: PKSIGN
   S: # I did ask the user whether he really wants to sign
   S: # I did ask the user for the passphrase
   S: INQUIRE HASHVAL
   C: D ABCDEF012345678901234
   C: END
   S: # signature follows
   S: D (sig-val rsa (s 45435453654612121212))
   S: OK
</pre></div>
</td></tr></table>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-GENKEY">
<div class="nav-panel">
<p>
Next: <a href="#Agent-IMPORT" accesskey="n" rel="next">Importing a Secret Key</a>, Previous: <a href="#Agent-PKSIGN" accesskey="p" rel="prev">Signing a Hash</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Generating-a-Key"><span>2.6.3 Generating a Key<a class="copiable-link" href="#Generating-a-Key"> &para;</a></span></h4>

<p>This is used to create a new keypair and store the secret key inside the
active PSE &mdash; which is in most cases a Soft-PSE.  A not-yet-defined
option allows choosing the storage location.  To get the secret key out
of the PSE, a special export tool has to be used.
</p>
<div class="example">
<pre class="example-preformatted">   GENKEY [--no-protection] [--preset] [&lt;cache_nonce&gt;]
</pre></div>

<p>Invokes the key generation process and the server will then inquire
on the generation parameters, like:
</p>
<div class="example">
<pre class="example-preformatted">   S: INQUIRE KEYPARM
   C: D (genkey (rsa (nbits  1024)))
   C: END
</pre></div>

<p>The format of the key parameters which depends on the algorithm is of
the form:
</p>
<div class="example">
<pre class="example-preformatted">    (genkey
      (algo
        (parameter_name_1 ....)
          ....
        (parameter_name_n ....)))
</pre></div>

<p>If everything succeeds, the server returns the *public key* in a SPKI
like S-Expression like this:
</p>
<div class="example">
<pre class="example-preformatted">     (public-key
       (rsa
 	 (n &lt;mpi&gt;)
 	 (e &lt;mpi&gt;)))
</pre></div>

<p>Here is an example session:
</p><table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">   C: GENKEY
   S: INQUIRE KEYPARM
   C: D (genkey (rsa (nbits  1024)))
   C: END
   S: D (public-key
   S: D   (rsa (n 326487324683264) (e 10001)))
   S  OK key created
</pre></div>
</td></tr></table>

<p>The <samp class="option">--no-protection</samp> option may be used to prevent prompting for a
passphrase to protect the secret key while leaving the secret key unprotected.
The <samp class="option">--preset</samp> option may be used to add the passphrase to the cache
using the default cache parameters.
</p>
<p>The <samp class="option">--inq-passwd</samp> option may be used to create the key with a
supplied passphrase.  When used the agent does an inquiry with the
keyword <code class="code">NEWPASSWD</code> to retrieve that passphrase.  This option
takes precedence over <samp class="option">--no-protection</samp>; however if the client
sends a empty (zero-length) passphrase, this is identical to
<samp class="option">--no-protection</samp>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Agent-IMPORT">
<div class="nav-panel">
<p>
Next: <a href="#Agent-EXPORT" accesskey="n" rel="next">Export a Secret Key</a>, Previous: <a href="#Agent-GENKEY" accesskey="p" rel="prev">Generating a Key</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Importing-a-Secret-Key"><span>2.6.4 Importing a Secret Key<a class="copiable-link" href="#Importing-a-Secret-Key"> &para;</a></span></h4>

<p>This operation is not yet supported by GpgAgent.  Specialized tools
are to be used for this.
</p>
<p>There is no actual need because we can expect that secret keys
created by a 3rd party are stored on a smartcard.  If we have
generated the key ourselves, we do not need to import it.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Agent-EXPORT">
<div class="nav-panel">
<p>
Next: <a href="#Agent-ISTRUSTED" accesskey="n" rel="next">Importing a Root Certificate</a>, Previous: <a href="#Agent-IMPORT" accesskey="p" rel="prev">Importing a Secret Key</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Export-a-Secret-Key"><span>2.6.5 Export a Secret Key<a class="copiable-link" href="#Export-a-Secret-Key"> &para;</a></span></h4>

<p>Not implemented.
</p>
<p>Should be done by an extra tool.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Agent-ISTRUSTED">
<div class="nav-panel">
<p>
Next: <a href="#Agent-GET_005fPASSPHRASE" accesskey="n" rel="next">Ask for a passphrase</a>, Previous: <a href="#Agent-EXPORT" accesskey="p" rel="prev">Export a Secret Key</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Importing-a-Root-Certificate"><span>2.6.6 Importing a Root Certificate<a class="copiable-link" href="#Importing-a-Root-Certificate"> &para;</a></span></h4>

<p>Actually we do not import a Root Cert but provide a way to validate
any piece of data by storing its Hash along with a description and
an identifier in the PSE.  Here is the interface description:
</p>
<div class="example">
<pre class="example-preformatted">    ISTRUSTED &lt;fingerprint&gt;
</pre></div>

<p>Check whether the OpenPGP primary key or the X.509 certificate with the
given fingerprint is an ultimately trusted key or a trusted Root CA
certificate.  The fingerprint should be given as a hexstring (without
any blanks or colons or whatever in between) and may be left padded with
00 in case of an MD5 fingerprint.  GPGAgent will answer with:
</p>
<div class="example">
<pre class="example-preformatted">    OK
</pre></div>

<p>The key is in the table of trusted keys.
</p>
<div class="example">
<pre class="example-preformatted">    ERR 304 (Not Trusted)
</pre></div>

<p>The key is not in this table.
</p>
<p>Gpg needs the entire list of trusted keys to maintain the web of
trust; the following command is therefore quite helpful:
</p>
<div class="example">
<pre class="example-preformatted">    LISTTRUSTED
</pre></div>

<p>GpgAgent returns a list of trusted keys line by line:
</p>
<div class="example">
<pre class="example-preformatted">    S: D 000000001234454556565656677878AF2F1ECCFF P
    S: D 340387563485634856435645634856438576457A P
    S: D FEDC6532453745367FD83474357495743757435D S
    S: OK
</pre></div>

<p>The first item on a line is the hexified fingerprint where MD5
fingerprints are <code class="code">00</code> padded to the left and the second item is a
flag to indicate the type of key (so that gpg is able to only take care
of PGP keys).  P = OpenPGP, S = S/MIME.  A client should ignore the rest
of the line, so that we can extend the format in the future.
</p>
<p>Finally a client should be able to mark a key as trusted:
</p>
<div class="example">
<pre class="example-preformatted">   MARKTRUSTED <var class="var">fingerprint</var> &quot;P&quot;|&quot;S&quot;
</pre></div>

<p>The server will then pop up a window to ask the user whether she
really trusts this key. For this it will probably ask for a text to
be displayed like this:
</p>
<div class="example">
<pre class="example-preformatted">   S: INQUIRE TRUSTDESC
   C: D Do you trust the key with the fingerprint @FPR@
   C: D bla fasel blurb.
   C: END
   S: OK
</pre></div>

<p>Known sequences with the pattern @foo@ are replaced according to this
table:
</p>
<dl class="table">
<dt><code class="code">@FPR16@</code></dt>
<dd><p>Format the fingerprint according to gpg rules for a v3 keys.
</p></dd>
<dt><code class="code">@FPR20@</code></dt>
<dd><p>Format the fingerprint according to gpg rules for a v4 keys.
</p></dd>
<dt><code class="code">@FPR@</code></dt>
<dd><p>Choose an appropriate format to format the fingerprint.
</p></dd>
<dt><code class="code">@@</code></dt>
<dd><p>Replaced by a single <code class="code">@</code>.
</p></dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-GET_005fPASSPHRASE">
<div class="nav-panel">
<p>
Next: <a href="#Agent-CLEAR_005fPASSPHRASE" accesskey="n" rel="next">Remove a cached passphrase</a>, Previous: <a href="#Agent-ISTRUSTED" accesskey="p" rel="prev">Importing a Root Certificate</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Ask-for-a-passphrase"><span>2.6.7 Ask for a passphrase<a class="copiable-link" href="#Ask-for-a-passphrase"> &para;</a></span></h4>

<p>This function is usually used to ask for a passphrase to be used for
symmetric encryption, but may also be used by programs which need
special handling of passphrases.  This command uses a syntax which helps
clients to use the agent with minimum effort.
</p>
<div class="example">
<pre class="example-preformatted">  GET_PASSPHRASE [--data] [--check] [--no-ask] [--repeat[=N]] \
                 [--qualitybar] <var class="var">cache_id</var>                \
                 [<var class="var">error_message</var> <var class="var">prompt</var> <var class="var">description</var>]
</pre></div>

<p><var class="var">cache_id</var> is expected to be a string used to identify a cached
passphrase.  Use a <code class="code">X</code> to bypass the cache.  With no other
arguments the agent returns a cached passphrase or an error.  By
convention either the hexified fingerprint of the key shall be used for
<var class="var">cache_id</var> or an arbitrary string prefixed with the name of the
calling application and a colon: Like <code class="code">gpg:somestring</code>.
</p>
<p><var class="var">error_message</var> is either a single <code class="code">X</code> for no error message or
a string to be shown as an error message like (e.g. &quot;invalid
passphrase&quot;).  Blanks must be percent escaped or replaced by <code class="code">+</code>&rsquo;.
</p>
<p><var class="var">prompt</var> is either a single <code class="code">X</code> for a default prompt or the
text to be shown as the prompt.  Blanks must be percent escaped or
replaced by <code class="code">+</code>.
</p>
<p><var class="var">description</var> is a text shown above the entry field.  Blanks must be
percent escaped or replaced by <code class="code">+</code>.
</p>
<p>The agent either returns with an error or with a OK followed by the hex
encoded passphrase.  Note that the length of the strings is implicitly
limited by the maximum length of a command.  If the option
<samp class="option">--data</samp> is used, the passphrase is not returned on the OK line
but by regular data lines; this is the preferred method.
</p>
<p>If the option <samp class="option">--check</samp> is used, the standard passphrase
constraints checks are applied.  A check is not done if the passphrase
has been found in the cache.
</p>
<p>If the option <samp class="option">--no-ask</samp> is used and the passphrase is not in the
cache the user will not be asked to enter a passphrase but the error
code <code class="code">GPG_ERR_NO_DATA</code> is returned.
</p>
<p>If the option <samp class="option">--qualitybar</samp> is used and a minimum passphrase
length has been configured, a visual indication of the entered
passphrase quality is shown.
</p>
<div class="example">
<pre class="example-preformatted">  CLEAR_PASSPHRASE <var class="var">cache_id</var>
</pre></div>

<p>may be used to invalidate the cache entry for a passphrase.  The
function returns with OK even when there is no cached passphrase.
</p>


<hr>
</div>
<div class="subsection-level-extent" id="Agent-CLEAR_005fPASSPHRASE">
<div class="nav-panel">
<p>
Next: <a href="#Agent-PRESET_005fPASSPHRASE" accesskey="n" rel="next">Set a passphrase for a keygrip</a>, Previous: <a href="#Agent-GET_005fPASSPHRASE" accesskey="p" rel="prev">Ask for a passphrase</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Remove-a-cached-passphrase"><span>2.6.8 Remove a cached passphrase<a class="copiable-link" href="#Remove-a-cached-passphrase"> &para;</a></span></h4>

<p>Use this command to remove a cached passphrase.
</p>
<div class="example">
<pre class="example-preformatted">  CLEAR_PASSPHRASE [--mode=normal] &lt;cache_id&gt;
</pre></div>

<p>The <samp class="option">--mode=normal</samp> option can be used to clear a <var class="var">cache_id</var> that
was set by gpg-agent.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-PRESET_005fPASSPHRASE">
<div class="nav-panel">
<p>
Next: <a href="#Agent-GET_005fCONFIRMATION" accesskey="n" rel="next">Ask for confirmation</a>, Previous: <a href="#Agent-CLEAR_005fPASSPHRASE" accesskey="p" rel="prev">Remove a cached passphrase</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Set-a-passphrase-for-a-keygrip"><span>2.6.9 Set a passphrase for a keygrip<a class="copiable-link" href="#Set-a-passphrase-for-a-keygrip"> &para;</a></span></h4>

<p>This command adds a passphrase to the cache for the specified <var class="var">keygrip</var>.
</p>
<div class="example">
<pre class="example-preformatted">  PRESET_PASSPHRASE [--inquire] &lt;string_or_keygrip&gt; &lt;timeout&gt; [&lt;hexstring&gt;]
</pre></div>

<p>The passphrase is a hexadecimal string when specified. When not specified, the
passphrase will be retrieved from the pinentry module unless the
<samp class="option">--inquire</samp> option was specified in which case the passphrase will be
retrieved from the client.
</p>
<p>The <var class="var">timeout</var> parameter keeps the passphrase cached for the specified
number of seconds. A value of <code class="code">-1</code> means infinite while <code class="code">0</code> means
the default (currently only a timeout of -1 is allowed, which means to never
expire it).
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-GET_005fCONFIRMATION">
<div class="nav-panel">
<p>
Next: <a href="#Agent-HAVEKEY" accesskey="n" rel="next">Check whether a key is available</a>, Previous: <a href="#Agent-PRESET_005fPASSPHRASE" accesskey="p" rel="prev">Set a passphrase for a keygrip</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Ask-for-confirmation"><span>2.6.10 Ask for confirmation<a class="copiable-link" href="#Ask-for-confirmation"> &para;</a></span></h4>

<p>This command may be used to ask for a simple confirmation by
presenting a text and 2 buttons: Okay and Cancel.
</p>
<div class="example">
<pre class="example-preformatted">  GET_CONFIRMATION <var class="var">description</var>
</pre></div>

<p><var class="var">description</var>is displayed along with a Okay and Cancel
button. Blanks must be percent escaped or replaced by <code class="code">+</code>.  A
<code class="code">X</code> may be used to display confirmation dialog with a default
text.
</p>
<p>The agent either returns with an error or with a OK.  Note, that the
length of <var class="var">description</var> is implicitly limited by the maximum
length of a command.
</p>


<hr>
</div>
<div class="subsection-level-extent" id="Agent-HAVEKEY">
<div class="nav-panel">
<p>
Next: <a href="#Agent-LEARN" accesskey="n" rel="next">Register a smartcard</a>, Previous: <a href="#Agent-GET_005fCONFIRMATION" accesskey="p" rel="prev">Ask for confirmation</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Check-whether-a-key-is-available"><span>2.6.11 Check whether a key is available<a class="copiable-link" href="#Check-whether-a-key-is-available"> &para;</a></span></h4>

<p>This can be used to see whether a secret key is available.  It does
not return any information on whether the key is somehow protected.
</p>
<div class="example">
<pre class="example-preformatted">  HAVEKEY <var class="var">keygrips</var>
</pre></div>

<p>The agent answers either with OK or <code class="code">No_Secret_Key</code> (208).  The
caller may want to check for other error codes as well.  More than one
keygrip may be given.  In this case the command returns success if at
least one of the keygrips corresponds to an available secret key.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-LEARN">
<div class="nav-panel">
<p>
Next: <a href="#Agent-PASSWD" accesskey="n" rel="next">Change a Passphrase</a>, Previous: <a href="#Agent-HAVEKEY" accesskey="p" rel="prev">Check whether a key is available</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Register-a-smartcard"><span>2.6.12 Register a smartcard<a class="copiable-link" href="#Register-a-smartcard"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  LEARN [--send]
</pre></div>

<p>This command is used to register a smartcard.  With the <samp class="option">--send</samp>
option given the certificates are sent back.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-PASSWD">
<div class="nav-panel">
<p>
Next: <a href="#Agent-UPDATESTARTUPTTY" accesskey="n" rel="next">Change the standard display</a>, Previous: <a href="#Agent-LEARN" accesskey="p" rel="prev">Register a smartcard</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Change-a-Passphrase"><span>2.6.13 Change a Passphrase<a class="copiable-link" href="#Change-a-Passphrase"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  PASSWD [--cache-nonce=&lt;c&gt;] [--passwd-nonce=&lt;s&gt;] [--preset] <var class="var">keygrip</var>
</pre></div>

<p>This command is used to interactively change the passphrase of the key
identified by the hex string <var class="var">keygrip</var>.  The <samp class="option">--preset</samp>
option may be used to add the new passphrase to the cache using the
default cache parameters.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-UPDATESTARTUPTTY">
<div class="nav-panel">
<p>
Next: <a href="#Agent-GETEVENTCOUNTER" accesskey="n" rel="next">Get the Event Counters</a>, Previous: <a href="#Agent-PASSWD" accesskey="p" rel="prev">Change a Passphrase</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Change-the-standard-display"><span>2.6.14 Change the standard display<a class="copiable-link" href="#Change-the-standard-display"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  UPDATESTARTUPTTY
</pre></div>

<p>Set the startup TTY and X-DISPLAY variables to the values of this
session.  This command is useful to direct future pinentry invocations
to another screen.  It is only required because there is no way in the
ssh-agent protocol to convey this information.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-GETEVENTCOUNTER">
<div class="nav-panel">
<p>
Next: <a href="#Agent-GETINFO" accesskey="n" rel="next">Return information about the process</a>, Previous: <a href="#Agent-UPDATESTARTUPTTY" accesskey="p" rel="prev">Change the standard display</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Get-the-Event-Counters"><span>2.6.15 Get the Event Counters<a class="copiable-link" href="#Get-the-Event-Counters"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  GETEVENTCOUNTER
</pre></div>

<p>This function return one status line with the current values of the
event counters.  The event counters are useful to avoid polling by
delaying a poll until something has changed.  The values are decimal
numbers in the range <code class="code">0</code> to <code class="code">UINT_MAX</code> and wrapping around to
0.  The actual values should not be relied upon; they shall only be used
to detect a change.
</p>
<p>The currently defined counters are:
</p><dl class="table">
<dt><code class="code">ANY</code></dt>
<dd><p>Incremented with any change of any of the other counters.
</p></dd>
<dt><code class="code">KEY</code></dt>
<dd><p>Incremented for added or removed private keys.
</p></dd>
<dt><code class="code">CARD</code></dt>
<dd><p>Incremented for each change of the card reader&rsquo;s status.
</p></dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-GETINFO">
<div class="nav-panel">
<p>
Next: <a href="#Agent-OPTION" accesskey="n" rel="next">Set options for the session</a>, Previous: <a href="#Agent-GETEVENTCOUNTER" accesskey="p" rel="prev">Get the Event Counters</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-information-about-the-process"><span>2.6.16 Return information about the process<a class="copiable-link" href="#Return-information-about-the-process"> &para;</a></span></h4>

<p>This is a multipurpose function to return a variety of information.
</p>
<div class="example">
<pre class="example-preformatted">GETINFO <var class="var">what</var>
</pre></div>

<p>The value of <var class="var">what</var> specifies the kind of information returned:
</p><dl class="table">
<dt><code class="code">version</code></dt>
<dd><p>Return the version of the program.
</p></dd>
<dt><code class="code">pid</code></dt>
<dd><p>Return the process id of the process.
</p></dd>
<dt><code class="code">socket_name</code></dt>
<dd><p>Return the name of the socket used to connect the agent.
</p></dd>
<dt><code class="code">ssh_socket_name</code></dt>
<dd><p>Return the name of the socket used for SSH connections.  If SSH support
has not been enabled the error <code class="code">GPG_ERR_NO_DATA</code> will be returned.
</p></dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="Agent-OPTION">
<div class="nav-panel">
<p>
Previous: <a href="#Agent-GETINFO" accesskey="p" rel="prev">Return information about the process</a>, Up: <a href="#Agent-Protocol" accesskey="u" rel="up">Agent&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Set-options-for-the-session"><span>2.6.17 Set options for the session<a class="copiable-link" href="#Set-options-for-the-session"> &para;</a></span></h4>

<p>Here is a list of session options which are not yet described with
other commands.  The general syntax for an Assuan option is:
</p>
<div class="example smallexample">
<pre class="example-preformatted">OPTION  <var class="var">key</var>=<var class="var">value</var>
</pre></div>

<p>Supported <var class="var">key</var>s are:
</p>
<dl class="table">
<dt><code class="code">agent-awareness</code></dt>
<dd><p>This may be used to tell gpg-agent of which gpg-agent version the
client is aware of.  gpg-agent uses this information to enable
features which might break older clients.
</p>
</dd>
<dt><code class="code">putenv</code></dt>
<dd><p>Change the session&rsquo;s environment to be used for the
Pinentry.  Valid values are:
</p>
<dl class="table">
<dt><code class="code"><var class="var">name</var></code></dt>
<dd><p>Delete envvar <var class="var">name</var>
  </p></dd>
<dt><code class="code"><var class="var">name</var>=</code></dt>
<dd><p>Set envvar <var class="var">name</var> to the empty string
  </p></dd>
<dt><code class="code"><var class="var">name</var>=<var class="var">value</var></code></dt>
<dd><p>Set envvar <var class="var">name</var> to the string <var class="var">value</var>.
  </p></dd>
</dl>

</dd>
<dt><code class="code">use-cache-for-signing</code></dt>
<dd><p>See Assuan command <code class="code">PKSIGN</code>.
</p>
</dd>
<dt><code class="code">allow-pinentry-notify</code></dt>
<dd><p>This does not need any value.  It is used to enable the
PINENTRY_LAUNCHED inquiry.
</p>
</dd>
<dt><code class="code">pinentry-mode</code></dt>
<dd><p>This option is used to change the operation mode of the pinentry.  The
following values are defined:
</p>
<dl class="table">
<dt><code class="code">ask</code></dt>
<dd><p>This is the default mode which pops up a pinentry as needed.
</p>
</dd>
<dt><code class="code">cancel</code></dt>
<dd><p>Instead of popping up a pinentry, return the error code
  <code class="code">GPG_ERR_CANCELED</code>.
</p>
</dd>
<dt><code class="code">error</code></dt>
<dd><p>Instead of popping up a pinentry, return the error code
  <code class="code">GPG_ERR_NO_PIN_ENTRY</code>.
</p>
</dd>
<dt><code class="code">loopback</code></dt>
<dd><p>Use a loopback pinentry.  This fakes a pinentry by using inquiries
  back to the caller to ask for a passphrase.  This option may only be
  set if the agent has been configured for that.
  To disable this feature use <a class="ref" href="#option-_002d_002dno_002dallow_002dloopback_002dpinentry">option --no-allow-loopback-pinentry</a>.
  </p></dd>
</dl>

</dd>
<dt><code class="code">cache-ttl-opt-preset</code></dt>
<dd><p>This option sets the cache TTL for new entries created by GENKEY and
PASSWD commands when using the <samp class="option">--preset</samp> option.  It is not
used a default value is used.
</p>
</dd>
<dt><code class="code">s2k-count</code></dt>
<dd><p>Instead of using the standard S2K count (which is computed on the
fly), the given S2K count is used for new keys or when changing the
passphrase of a key.  Values below 65536 are considered to be 0.  This
option is valid for the entire session or until reset to 0.  This
option is useful if the key is later used on boxes which are either
much slower or faster than the actual box.
</p>
</dd>
<dt><code class="code">pretend-request-origin</code></dt>
<dd><p>This option switches the connection into a restricted mode which
handles all further commands in the same way as they would be handled
when originating from the extra or browser socket.  Note that this
option is not available in the restricted mode.  Valid values for this
option are:
</p>
<dl class="table">
<dt><code class="code">none</code></dt>
<dt><code class="code">local</code></dt>
<dd><p>This is a NOP and leaves the connection in the standard way.
</p>
</dd>
<dt><code class="code">remote</code></dt>
<dd><p>Pretend to come from a remote origin in the same way as connections
  from the <samp class="option">--extra-socket</samp>.
</p>
</dd>
<dt><code class="code">browser</code></dt>
<dd><p>Pretend to come from a local web browser in the same way as connections
  from the <samp class="option">--browser-socket</samp>.
  </p></dd>
</dl>

</dd>
</dl>








<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Invoking-DIRMNGR">
<div class="nav-panel">
<p>
Next: <a href="#Invoking-GPG" accesskey="n" rel="next">Invoking GPG</a>, Previous: <a href="#Invoking-GPG_002dAGENT" accesskey="p" rel="prev">Invoking GPG-AGENT</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Invoking-DIRMNGR-1"><span>3 Invoking DIRMNGR<a class="copiable-link" href="#Invoking-DIRMNGR-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-DIRMNGR-command-options"></a>
<a class="index-entry-id" id="index-command-options-1"></a>
<a class="index-entry-id" id="index-options_002c-DIRMNGR-command"></a>






<p>Since version 2.1 of GnuPG, <code class="command">dirmngr</code> takes care of accessing
the OpenPGP keyservers.  As with previous versions it is also used as
a server for managing and downloading certificate revocation lists
(CRLs) for X.509 certificates, downloading X.509 certificates, and
providing access to OCSP providers.  Dirmngr is invoked internally by
<code class="command">gpg</code>, <code class="command">gpgsm</code>, or via the <code class="command">gpg-connect-agent</code>
tool.
</p>

<p>See <a class="xref" href="#Option-Index">Option Index</a>,for an index to <code class="command">DIRMNGR</code>&rsquo;s commands and
options.
</p>



<ul class="mini-toc">
<li><a href="#Dirmngr-Commands" accesskey="1">Commands</a></li>
<li><a href="#Dirmngr-Options" accesskey="2">Option Summary</a></li>
<li><a href="#Dirmngr-Configuration" accesskey="3">Configuration</a></li>
<li><a href="#Dirmngr-Signals" accesskey="4">Use of signals</a></li>
<li><a href="#Dirmngr-Examples" accesskey="5">Examples</a></li>
<li><a href="#Dirmngr-Protocol" accesskey="6">Dirmngr&rsquo;s Assuan Protocol</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Dirmngr-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-Options" accesskey="n" rel="next">Option Summary</a>, Up: <a href="#Invoking-DIRMNGR" accesskey="u" rel="up">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Commands-1"><span>3.1 Commands<a class="copiable-link" href="#Commands-1"> &para;</a></span></h3>


<p>Commands are not distinguished from options except for the fact that
only one command is allowed.
</p>
<dl class="table">
<dt><a id="index-version-1"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-1"> &para;</a></span></dt>
<dd><p>Print the program version and licensing information.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-help-1"></a><span><code class="code">--help, -h</code><a class="copiable-link" href="#index-help-1"> &para;</a></span></dt>
<dd><p>Print a usage message summarizing the most useful command-line options.
Note that you cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-dump_002doptions-1"></a><span><code class="code">--dump-options</code><a class="copiable-link" href="#index-dump_002doptions-1"> &para;</a></span></dt>
<dd><p>Print a list of all available options and commands.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-server-1"></a><span><code class="code">--server</code><a class="copiable-link" href="#index-server-1"> &para;</a></span></dt>
<dd><p>Run in server mode and wait for commands on the <code class="code">stdin</code>.  The
default mode is to create a socket and listen for commands there.
This is only used for testing.
</p>
</dd>
<dt><a id="index-daemon-1"></a><span><code class="code">--daemon</code><a class="copiable-link" href="#index-daemon-1"> &para;</a></span></dt>
<dd><p>Run in background daemon mode and listen for commands on a socket.
This is the way <code class="command">dirmngr</code> is started on demand by the other
GnuPG components.  To force starting <code class="command">dirmngr</code> it is in
general best to use <code class="code">gpgconf --launch dirmngr</code>.
</p>
</dd>
<dt><a id="index-supervised-1"></a><span><code class="code">--supervised</code><a class="copiable-link" href="#index-supervised-1"> &para;</a></span></dt>
<dd><p>Run in the foreground, sending logs to stderr, and listening on file
descriptor 3, which must already be bound to a listening socket.  This
option is deprecated and not supported on Windows.
</p>
</dd>
<dt><a id="index-list_002dcrls"></a><span><code class="code">--list-crls</code><a class="copiable-link" href="#index-list_002dcrls"> &para;</a></span></dt>
<dd><p>List the contents of the CRL cache on <code class="code">stdout</code>. This is probably
only useful for debugging purposes.
</p>
</dd>
<dt><a id="index-load_002dcrl"></a><span><code class="code">--load-crl <var class="var">file</var></code><a class="copiable-link" href="#index-load_002dcrl"> &para;</a></span></dt>
<dd><p>This command requires a filename as additional argument, and it will
make Dirmngr try to import the CRL in <var class="var">file</var> into it&rsquo;s cache.
Note, that this is only possible if Dirmngr is able to retrieve the
CA&rsquo;s certificate directly by its own means.  In general it is better
to use <code class="code">gpgsm</code>&rsquo;s <code class="code">--call-dirmngr loadcrl filename</code> command
so that <code class="code">gpgsm</code> can help dirmngr.
</p>
</dd>
<dt><a id="index-fetch_002dcrl"></a><span><code class="code">--fetch-crl <var class="var">url</var></code><a class="copiable-link" href="#index-fetch_002dcrl"> &para;</a></span></dt>
<dd><p>This command requires an URL as additional argument, and it will make
dirmngr try to retrieve and import the CRL from that <var class="var">url</var> into
it&rsquo;s cache.  This is mainly useful for debugging purposes.  The
<code class="command">dirmngr-client</code> provides the same feature for a running dirmngr.
</p>
</dd>
<dt><a id="index-shutdown"></a><span><code class="code">--shutdown</code><a class="copiable-link" href="#index-shutdown"> &para;</a></span></dt>
<dd><p>This commands shuts down an running instance of Dirmngr.  This command
has currently no effect.
</p>
</dd>
<dt><a id="index-flush"></a><span><code class="code">--flush</code><a class="copiable-link" href="#index-flush"> &para;</a></span></dt>
<dd><p>This command removes all CRLs from Dirmngr&rsquo;s cache.  Client requests
will thus trigger reading of fresh CRLs.
</p>
</dd>
</dl>



<hr>
</div>
<div class="section-level-extent" id="Dirmngr-Options">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-Configuration" accesskey="n" rel="next">Configuration</a>, Previous: <a href="#Dirmngr-Commands" accesskey="p" rel="prev">Commands</a>, Up: <a href="#Invoking-DIRMNGR" accesskey="u" rel="up">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Option-Summary-1"><span>3.2 Option Summary<a class="copiable-link" href="#Option-Summary-1"> &para;</a></span></h3>

<p>Note that all long options with the exception of <samp class="option">--options</samp>
and <samp class="option">--homedir</samp> may also be given in the configuration file
after stripping off the two leading dashes.
</p>
<dl class="table">
<dt><a id="index-options-1"></a><span><code class="code">--options <var class="var">file</var></code><a class="copiable-link" href="#index-options-1"> &para;</a></span></dt>
<dd><p>Reads configuration from <var class="var">file</var> instead of from the default
per-user configuration file.  The default configuration file is named
<samp class="file">dirmngr.conf</samp> and expected in the home directory.
</p>
</dd>
<dt><a id="index-options-2"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-options-2"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>.  This option is only
effective when used on the command line.  The default is
the directory named <samp class="file">.gnupg</samp> directly below the home directory
of the user unless the environment variable <code class="code">GNUPGHOME</code> has been set
in which case its value will be used.  Many kinds of data are stored within
this directory.
</p>

</dd>
<dt><code class="code">-v</code></dt>
<dt><a class="index-entry-id" id="index-verbose-1"></a>
<a id="index-v"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-v"> &para;</a></span></dt>
<dd><p>Outputs additional information while running.
You can increase the verbosity by giving several
verbose commands to <small class="sc">DIRMNGR</small>, such as <samp class="option">-vv</samp>.
</p>

</dd>
<dt><a id="index-log_002dfile-1"></a><span><code class="code">--log-file <var class="var">file</var></code><a class="copiable-link" href="#index-log_002dfile-1"> &para;</a></span></dt>
<dd><p>Append all logging output to <var class="var">file</var>.  This is very helpful in
seeing what the agent actually does.  Use <samp class="file">socket://</samp> to log to
socket.
</p>
</dd>
<dt><a id="index-compatibility_002dflags"></a><span><code class="code">--compatibility-flags <var class="var">flags</var></code><a class="copiable-link" href="#index-compatibility_002dflags"> &para;</a></span></dt>
<dd><p>Set compatibility flags to work around certain problems or to emulate
bugs.  The <var class="var">flags</var> are given as a comma separated list of flag
names and are OR-ed together.  The special flag &quot;none&quot; clears the list
and allows one to start over with an empty list.  To get a list of
available flags the sole word &quot;help&quot; can be used.
</p>
</dd>
<dt><a id="index-faked_002dsystem_002dtime-1"></a><span><code class="code">--faked-system-time <var class="var">epoch</var></code><a class="copiable-link" href="#index-faked_002dsystem_002dtime-1"> &para;</a></span></dt>
<dd><p>This option is only useful for testing; it sets the system time back or
forth to <var class="var">epoch</var> which is the number of seconds elapsed since the year
1970.  Alternatively <var class="var">epoch</var> may be given as a full ISO time string
(e.g. &quot;20070924T154812&quot;).
</p>
</dd>
<dt><a id="index-debug_002dlevel-1"></a><span><code class="code">--debug-level <var class="var">level</var></code><a class="copiable-link" href="#index-debug_002dlevel-1"> &para;</a></span></dt>
<dd><p>Select the debug level for investigating problems.  <var class="var">level</var> may be a
numeric value or by a keyword:
</p>
<dl class="table">
<dt><code class="code">none</code></dt>
<dd><p>No debugging at all.  A value of less than 1 may be used instead of
the keyword.
</p></dd>
<dt><code class="code">basic</code></dt>
<dd><p>Some basic debug messages.  A value between 1 and 2 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">advanced</code></dt>
<dd><p>More verbose debug messages.  A value between 3 and 5 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">expert</code></dt>
<dd><p>Even more detailed messages.  A value between 6 and 8 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">guru</code></dt>
<dd><p>All of the debug messages you can get. A value greater than 8 may be
used instead of the keyword.  The creation of hash tracing files is
only enabled if the keyword is used.
</p></dd>
</dl>

<p>How these messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this program. They are
however carefully selected to best aid in debugging.
</p>
</dd>
<dt><a id="index-debug-1"></a><span><code class="code">--debug <var class="var">flags</var></code><a class="copiable-link" href="#index-debug-1"> &para;</a></span></dt>
<dd><p>Set debug flags.  All flags are or-ed and <var class="var">flags</var> may be given in
C syntax (e.g. 0x0042) or as a comma separated list of flag names.  To
get a list of all supported flags the single word &quot;help&quot; can be used.
This option is only useful for debugging and the behavior may change
at any time without notice.
</p>
</dd>
<dt><a id="index-debug_002dall-1"></a><span><code class="code">--debug-all</code><a class="copiable-link" href="#index-debug_002dall-1"> &para;</a></span></dt>
<dd><p>Same as <code class="code">--debug=0xffffffff</code>
</p>
</dd>
<dt><a id="index-tls_002ddebug"></a><span><code class="code">--tls-debug <var class="var">level</var></code><a class="copiable-link" href="#index-tls_002ddebug"> &para;</a></span></dt>
<dd><p>Enable debugging of the TLS layer at <var class="var">level</var>.  The details of the
debug level depend on the used TLS library and are not set in stone.
</p>
</dd>
<dt><a id="index-debug_002dwait-1"></a><span><code class="code">--debug-wait <var class="var">n</var></code><a class="copiable-link" href="#index-debug_002dwait-1"> &para;</a></span></dt>
<dd><p>When running in server mode, wait <var class="var">n</var> seconds before entering the
actual processing loop and print the pid.  This gives time to attach a
debugger.
</p>
</dd>
<dt><a id="index-disable_002dcheck_002down_002dsocket-1"></a><span><code class="code">--disable-check-own-socket</code><a class="copiable-link" href="#index-disable_002dcheck_002down_002dsocket-1"> &para;</a></span></dt>
<dd><p>On some platforms <code class="command">dirmngr</code> is able to detect the removal of
its socket file and shutdown itself.  This option disable this
self-test for debugging purposes.
</p>
</dd>
<dt><a class="index-entry-id" id="index-sh-1"></a>
<a class="index-entry-id" id="index-c"></a>
<a class="index-entry-id" id="index-csh-1"></a>
<a id="index-s"></a><span><code class="code">-s</code><a class="copiable-link" href="#index-s"> &para;</a></span></dt>
<dt><code class="code">--sh</code></dt>
<dt><code class="code">-c</code></dt>
<dt><code class="code">--csh</code></dt>
<dd><p>Format the info output in daemon mode for use with the standard Bourne
shell respective the C-shell. The default is to guess it based on the
environment variable <code class="code">SHELL</code> which is in almost all cases
sufficient.
</p>
</dd>
<dt><a id="index-force"></a><span><code class="code">--force</code><a class="copiable-link" href="#index-force"> &para;</a></span></dt>
<dd><p>Enabling this option forces loading of expired CRLs; this is only
useful for debugging.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002duse_002dtor"></a>
<a id="index-use_002dtor"></a><span><code class="code">--use-tor</code><a class="copiable-link" href="#index-use_002dtor"> &para;</a></span></dt>
<dt><code class="code">--no-use-tor</code></dt>
<dd><p>The option <samp class="option">--use-tor</samp> switches Dirmngr and thus GnuPG into
&ldquo;Tor mode&rdquo; to route all network access via Tor (an anonymity
network).  Certain other features are disabled in this mode.  The
effect of <samp class="option">--use-tor</samp> cannot be overridden by any other command
or even by reloading dirmngr.  The use of <samp class="option">--no-use-tor</samp>
disables the use of Tor.  The default is to use Tor if it is available
on startup or after reloading dirmngr.  The test on the availability of
Tor is done by trying to connect to a SOCKS proxy at either port 9050
or 9150; if another type of proxy is listening on one of these ports,
you should use <samp class="option">--no-use-tor</samp>.
</p>
</dd>
<dt><a id="index-standard_002dresolver"></a><span><code class="code">--standard-resolver</code><a class="copiable-link" href="#index-standard_002dresolver"> &para;</a></span></dt>
<dd><p>This option forces the use of the system&rsquo;s standard DNS resolver code.
This is mainly used for debugging.  Note that on Windows a standard
resolver is not used and all DNS access will return the error &ldquo;Not
Implemented&rdquo; if this option is used.  Using this together with enabled
Tor mode returns the error &ldquo;Not Enabled&rdquo;.
</p>
</dd>
<dt><a id="index-recursive_002dresolver"></a><span><code class="code">--recursive-resolver</code><a class="copiable-link" href="#index-recursive_002dresolver"> &para;</a></span></dt>
<dd><p>When possible use a recursive resolver instead of a stub resolver.
</p>
</dd>
<dt><a id="index-resolver_002dtimeout"></a><span><code class="code">--resolver-timeout <var class="var">n</var></code><a class="copiable-link" href="#index-resolver_002dtimeout"> &para;</a></span></dt>
<dd><p>Set the timeout for the DNS resolver to N seconds.  The default are 30
seconds.
</p>
</dd>
<dt><code class="code">--connect-timeout <var class="var">n</var></code></dt>
<dt><a class="index-entry-id" id="index-connect_002dquick_002dtimeout"></a>
<a id="index-connect_002dtimeout"></a><span><code class="code">--connect-quick-timeout <var class="var">n</var></code><a class="copiable-link" href="#index-connect_002dtimeout"> &para;</a></span></dt>
<dd><p>Set the timeout for HTTP and generic TCP connection attempts to N
seconds.  The value set with the quick variant is used when the
&ndash;quick option has been given to certain Assuan commands.  The quick
value is capped at the value of the regular connect timeout.  The
default values are 15 and 2 seconds.  Note that the timeout values are
for each connection attempt; the connection code will attempt to
connect all addresses listed for a server.
</p>
</dd>
<dt><a id="index-listen_002dbacklog-1"></a><span><code class="code">--listen-backlog <var class="var">n</var></code><a class="copiable-link" href="#index-listen_002dbacklog-1"> &para;</a></span></dt>
<dd><p>Set the size of the queue for pending connections.  The default is 64.
</p>
</dd>
<dt><a id="index-allow_002dversion_002dcheck"></a><span><code class="code">--allow-version-check</code><a class="copiable-link" href="#index-allow_002dversion_002dcheck"> &para;</a></span></dt>
<dd><p>Allow Dirmngr to connect to <code class="code">https://versions.gnupg.org</code> to get
the list of current software versions.  If this option is enabled
the list is retrieved in case the local
copy does not exist or is older than 5 to 7 days.  See the option
<samp class="option">--query-swdb</samp> of the command <code class="command">gpgconf</code> for more
details.  Note, that regardless of this option a version check can
always be triggered using this command:
</p>
<div class="example">
<pre class="example-preformatted">       gpg-connect-agent --dirmngr 'loadswdb --force' /bye
</pre></div>


</dd>
<dt><a id="index-keyserver"></a><span><code class="code">--keyserver <var class="var">name</var></code><a class="copiable-link" href="#index-keyserver"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as your keyserver.  This is the server that <code class="command">gpg</code>
communicates with to receive keys, send keys, and search for
keys.  The format of the <var class="var">name</var> is a URI:
&lsquo;scheme:[//]keyservername[:port]&rsquo; The scheme is the type of keyserver:
&quot;hkp&quot; for the HTTP (or compatible) keyservers or &quot;ldap&quot; for the LDAP
keyservers. Note that your particular installation of GnuPG may have
other keyserver types available as well. Keyserver schemes are
case-insensitive. After the keyserver name, optional keyserver
configuration options may be provided.  These are the same as the
<samp class="option">--keyserver-options</samp> of <code class="command">gpg</code>, but apply only to this
particular keyserver.
</p>
<p>Some keyservers synchronize with each other, so there is not always a
need to send keys to more than one server. Some keyservers use round
robin DNS to give a different keyserver each time you use it.
</p>
<p>If exactly two keyservers are configured and only one is a Tor hidden
service (.onion), Dirmngr selects the keyserver to use depending on
whether Tor is locally running or not.  The check for a running Tor is
done for each new connection.
</p>
<p>If no keyserver is explicitly configured, dirmngr will use the
built-in default of <code class="code">https://keyserver.ubuntu.com</code>.  To avoid the
use of a default keyserver the value <code class="code">none</code> can be used.
</p>
<p>Windows users with a keyserver running on their Active Directory
may use the short form <code class="code">ldap:///</code> for <var class="var">name</var> to access this directory.
</p>
<p>For accessing anonymous LDAP keyservers <var class="var">name</var> is in general just
a <code class="code">ldaps://ldap.example.com</code>.  A BaseDN parameter should never be
specified.  If authentication is required things are more complicated
and two methods are available:
</p>
<p>The modern method (since version 2.2.28) is to use the very same syntax
as used with the option <samp class="option">--ldapserver</samp>.  Please see over
there for details; here is an example:
</p>
<div class="example">
<pre class="example-preformatted">       keyserver ldap:ldap.example.com::uid=USERNAME,ou=GnuPG Users,
       dc=example,dc=com:PASSWORD::starttls
</pre></div>

<p>The other method is to use a full URL for <var class="var">name</var>; for example:
</p>
<div class="example">
<pre class="example-preformatted">       keyserver ldaps://ldap.example.com/????bindname=uid=USERNAME
       %2Cou=GnuPG%20Users%2Cdc=example%2Cdc=com,password=PASSWORD
</pre></div>

<p>Put this all on one line without any spaces and keep the &rsquo;%2C&rsquo;
       as given.  Replace USERNAME, PASSWORD, and the &rsquo;dc&rsquo; parts
       according to the instructions received from your LDAP
       administrator.  Note that only simple authentication
       (i.e. cleartext passwords) is supported and thus using ldaps is
       strongly suggested (since 2.2.28 &quot;ldaps&quot; defaults to port 389
       and uses STARTTLS).  On Windows authentication via AD can be
       requested by adding <code class="code">gpgNtds=1</code> after the fourth question
       mark instead of the bindname and password parameter.
</p>


</dd>
<dt><a id="index-nameserver"></a><span><code class="code">--nameserver <var class="var">ipaddr</var></code><a class="copiable-link" href="#index-nameserver"> &para;</a></span></dt>
<dd><p>In &ldquo;Tor mode&rdquo; Dirmngr uses a public resolver via Tor to resolve DNS
names.  If the default public resolver, which is <code class="code">8.8.8.8</code>, shall
not be used a different one can be given using this option.  Note that
a numerical IP address must be given (IPv6 or IPv4) and that no error
checking is done for <var class="var">ipaddr</var>.
</p>
</dd>
<dt><code class="code">--disable-ipv4</code></dt>
<dt><a class="index-entry-id" id="index-disable_002dipv6"></a>
<a id="index-disable_002dipv4"></a><span><code class="code">--disable-ipv6</code><a class="copiable-link" href="#index-disable_002dipv4"> &para;</a></span></dt>
<dd><p>Disable the use of all IPv4 or IPv6 addresses.
</p>
</dd>
<dt><a id="index-disable_002dldap"></a><span><code class="code">--disable-ldap</code><a class="copiable-link" href="#index-disable_002dldap"> &para;</a></span></dt>
<dd><p>Entirely disables the use of LDAP.
</p>
</dd>
<dt><a id="index-disable_002dhttp"></a><span><code class="code">--disable-http</code><a class="copiable-link" href="#index-disable_002dhttp"> &para;</a></span></dt>
<dd><p>Entirely disables the use of HTTP.
</p>
</dd>
<dt><a id="index-ignore_002dhttp_002ddp"></a><span><code class="code">--ignore-http-dp</code><a class="copiable-link" href="#index-ignore_002dhttp_002ddp"> &para;</a></span></dt>
<dd><p>When looking for the location of a CRL, the to be tested certificate
usually contains so called <em class="dfn">CRL Distribution Point</em> (DP) entries
which are URLs describing the way to access the CRL.  The first found DP
entry is used.  With this option all entries using the <abbr class="acronym">HTTP</abbr>
scheme are ignored when looking for a suitable DP.
</p>
</dd>
<dt><a id="index-ignore_002dldap_002ddp"></a><span><code class="code">--ignore-ldap-dp</code><a class="copiable-link" href="#index-ignore_002dldap_002ddp"> &para;</a></span></dt>
<dd><p>This is similar to <samp class="option">--ignore-http-dp</samp> but ignores entries using
the <abbr class="acronym">LDAP</abbr> scheme.  Both options may be combined resulting in
ignoring DPs entirely.
</p>
</dd>
<dt><a id="index-ignore_002docsp_002dservice_002durl"></a><span><code class="code">--ignore-ocsp-service-url</code><a class="copiable-link" href="#index-ignore_002docsp_002dservice_002durl"> &para;</a></span></dt>
<dd><p>Ignore all OCSP URLs contained in the certificate.  The effect is to
force the use of the default responder.
</p>
</dd>
<dt><a id="index-honor_002dhttp_002dproxy"></a><span><code class="code">--honor-http-proxy</code><a class="copiable-link" href="#index-honor_002dhttp_002dproxy"> &para;</a></span></dt>
<dd><p>If the environment variable <code class="env">http_proxy</code> has been set, use its
value to access HTTP servers.  If on Windows the option is used but
the environment variable is not set, the proxy settings are taken
from the system.
</p>
</dd>
<dt><a class="index-entry-id" id="index-http_005fproxy"></a>
<a id="index-http_002dproxy"></a><span><code class="code">--http-proxy <var class="var">host</var>[:<var class="var">port</var>]</code><a class="copiable-link" href="#index-http_002dproxy"> &para;</a></span></dt>
<dd><p>Use <var class="var">host</var> and <var class="var">port</var> to access HTTP servers.  The use of this
option overrides the environment variable <code class="env">http_proxy</code> regardless
whether <samp class="option">--honor-http-proxy</samp> has been set.
</p>

</dd>
<dt><a id="index-ldap_002dproxy"></a><span><code class="code">--ldap-proxy <var class="var">host</var>[:<var class="var">port</var>]</code><a class="copiable-link" href="#index-ldap_002dproxy"> &para;</a></span></dt>
<dd><p>Use <var class="var">host</var> and <var class="var">port</var> to connect to LDAP servers.  If <var class="var">port</var>
is omitted, port 389 (standard LDAP port) is used.  This overrides any
specified host and port part in a LDAP URL and will also be used if host
and port have been omitted from the URL.
</p>
</dd>
<dt><a id="index-only_002dldap_002dproxy"></a><span><code class="code">--only-ldap-proxy</code><a class="copiable-link" href="#index-only_002dldap_002dproxy"> &para;</a></span></dt>
<dd><p>Never use anything else but the LDAP &quot;proxy&quot; as configured with
<samp class="option">--ldap-proxy</samp>.  Usually <code class="command">dirmngr</code> tries to use other
configured LDAP server if the connection using the &quot;proxy&quot; failed.
</p>

</dd>
<dt><a id="index-ldapserverlist_002dfile"></a><span><code class="code">--ldapserverlist-file <var class="var">file</var></code><a class="copiable-link" href="#index-ldapserverlist_002dfile"> &para;</a></span></dt>
<dd><p>Read the list of LDAP servers to consult for CRLs and X.509 certificates from
file instead of the default per-user ldap server list file. The default
value for <var class="var">file</var> is <samp class="file">dirmngr_ldapservers.conf</samp>.
</p>
<p>This server list file contains one LDAP server per line in the format
</p>
<p><small class="sc">HOSTNAME:PORT:USERNAME:PASSWORD:BASE_DN:FLAGS</small>
</p>
<p>Lines starting with a  &lsquo;<samp class="samp">#</samp>&rsquo; are comments.
</p>
<p>Note that as usual all strings entered are expected to be UTF-8 encoded.
Obviously this will lead to problems if the password has originally been
encoded as Latin-1.  There is no other solution here than to put such a
password in the binary encoding into the file (i.e. non-ascii characters
won&rsquo;t show up readable).<a class="footnote" id="DOCF1" href="#FOOT1"><sup>1</sup></a>
</p>

</dd>
<dt><a id="index-ldapserver"></a><span><code class="code">--ldapserver <var class="var">spec</var></code><a class="copiable-link" href="#index-ldapserver"> &para;</a></span></dt>
<dd><p>This is an alternative way to specify LDAP servers for CRL and X.509
certificate retrieval.  If this option is used the servers configured
in <samp class="file">dirmngr_ldapservers.conf</samp> (or the file given by
<samp class="option">--ldapserverlist-file</samp>) are cleared.  Note that
<samp class="file">dirmngr_ldapservers.conf</samp> is not read again by a reload
signal. However, <samp class="option">--ldapserver</samp> options are read again.
</p>
<p><var class="var">spec</var> is either a proper LDAP URL or a colon delimited list of
the form
</p>
<p><small class="sc">HOSTNAME:PORT:USERNAME:PASSWORD:BASE_DN:FLAGS:</small>
</p>
<p>with an optional prefix of <code class="code">ldap:</code> (but without the two slashes
which would turn this into a proper LDAP URL).  <small class="sc">FLAGS</small> is a list
of one or more comma delimited keywords:
</p><dl class="table">
<dt><code class="code">plain</code></dt>
<dd><p>The default: Do not use a TLS secured connection at all; the default
port is 389.
</p></dd>
<dt><code class="code">starttls</code></dt>
<dd><p>Use STARTTLS to secure the connection; the default port is 389.
</p></dd>
<dt><code class="code">ldaptls</code></dt>
<dd><p>Tunnel LDAP through a TLS connection; the default port is 636.
</p></dd>
<dt><code class="code">ntds</code></dt>
<dd><p>On Windows authenticate the LDAP connection using the Active Directory
with the current user.
</p></dd>
<dt><code class="code">areconly</code></dt>
<dd><p>On Windows use only the A or AAAA record when resolving the LDAP
server name.
</p></dd>
</dl>

<p>Note that in an URL style specification the scheme <code class="code">ldaps://</code>
refers to STARTTLS and _not_ to LDAP-over-TLS.
</p>

</dd>
<dt><a id="index-ldaptimeout"></a><span><code class="code">--ldaptimeout <var class="var">secs</var></code><a class="copiable-link" href="#index-ldaptimeout"> &para;</a></span></dt>
<dd><p>Specify the number of seconds to wait for an LDAP query before timing
out.  The default are 15 seconds.  0 will never timeout.
</p>

</dd>
<dt><a id="index-add_002dservers"></a><span><code class="code">--add-servers</code><a class="copiable-link" href="#index-add_002dservers"> &para;</a></span></dt>
<dd><p>This option makes dirmngr add any servers it discovers when validating
certificates against CRLs to the internal list of servers to consult for
certificates and CRLs.  This option should in general not be used.
</p>
<p>This option might be useful when trying to validate a certificate that
has a CRL distribution point that points to a server that is not
already listed in the ldapserverlist.  Dirmngr will always go to this
server and try to download the CRL, but chances are high that the
certificate used to sign the CRL is located on the same server. So if
dirmngr doesn&rsquo;t add that new server to list, it will often not be able
to verify the signature of the CRL unless the <code class="code">--add-servers</code>
option is used.
</p>
<p>Caveat emptor: Using this option may enable denial-of-service attacks
and leak search requests to unknown third parties.  This is because
arbitrary servers are added to the internal list of LDAP servers which
in turn is used for all unspecific LDAP queries as well as a fallback
for queries which did not return a result.
</p>

</dd>
<dt><a id="index-allow_002docsp"></a><span><code class="code">--allow-ocsp</code><a class="copiable-link" href="#index-allow_002docsp"> &para;</a></span></dt>
<dd><p>This option enables OCSP support if requested by the client.
</p>
<p>OCSP requests are rejected by default because they may violate the
privacy of the user; for example it is possible to track the time when
a user is reading a mail.
</p>

</dd>
<dt><a id="index-ocsp_002dresponder"></a><span><code class="code">--ocsp-responder <var class="var">url</var></code><a class="copiable-link" href="#index-ocsp_002dresponder"> &para;</a></span></dt>
<dd><p>Use <var class="var">url</var> as the default OCSP Responder if the certificate does
not contain information about an assigned responder.  Note, that
<code class="code">--ocsp-signer</code> must also be set to a valid certificate.
</p>
</dd>
<dt><a id="index-ocsp_002dsigner"></a><span><code class="code">--ocsp-signer <var class="var">fpr</var>|<var class="var">file</var></code><a class="copiable-link" href="#index-ocsp_002dsigner"> &para;</a></span></dt>
<dd><p>Use the certificate with the fingerprint <var class="var">fpr</var> to check the
responses of the default OCSP Responder.  Alternatively a filename can be
given in which case the response is expected to be signed by one of the
certificates described in that file.  Any argument which contains a
slash, dot or tilde is considered a filename.  Usual filename expansion
takes place: A tilde at the start followed by a slash is replaced by the
content of <code class="env">HOME</code>, no slash at start describes a relative filename
which will be searched at the home directory.  To make sure that the
<var class="var">file</var> is searched in the home directory, either prepend the name
with &quot;./&quot; or use a name which contains a dot.
</p>
<p>If a response has been signed by a certificate described by these
fingerprints no further check upon the validity of this certificate is
done.
</p>
<p>The format of the <var class="var">FILE</var> is a list of SHA-1 fingerprint, one per
line with optional colons between the bytes.  Empty lines and lines
prefix with a hash mark are ignored.
</p>

</dd>
<dt><a id="index-ocsp_002dmax_002dclock_002dskew"></a><span><code class="code">--ocsp-max-clock-skew <var class="var">n</var></code><a class="copiable-link" href="#index-ocsp_002dmax_002dclock_002dskew"> &para;</a></span></dt>
<dd><p>The number of seconds a skew between the OCSP responder and them local
clock is accepted.  Default is 600 (10 minutes).
</p>
</dd>
<dt><a id="index-ocsp_002dmax_002dperiod"></a><span><code class="code">--ocsp-max-period <var class="var">n</var></code><a class="copiable-link" href="#index-ocsp_002dmax_002dperiod"> &para;</a></span></dt>
<dd><p>Seconds a response is at maximum considered valid after the time given
in the thisUpdate field.  Default is 7776000 (90 days).
</p>
</dd>
<dt><a id="index-ocsp_002dcurrent_002dperiod"></a><span><code class="code">--ocsp-current-period <var class="var">n</var></code><a class="copiable-link" href="#index-ocsp_002dcurrent_002dperiod"> &para;</a></span></dt>
<dd><p>The number of seconds an OCSP response is considered valid after the
time given in the NEXT_UPDATE datum.  Default is 10800 (3 hours).
</p>

</dd>
<dt><a id="index-max_002dreplies"></a><span><code class="code">--max-replies <var class="var">n</var></code><a class="copiable-link" href="#index-max_002dreplies"> &para;</a></span></dt>
<dd><p>Do not return more that <var class="var">n</var> items in one query.  The default is
10.
</p>
</dd>
<dt><a id="index-ignore_002dcert_002dextension"></a><span><code class="code">--ignore-cert-extension <var class="var">oid</var></code><a class="copiable-link" href="#index-ignore_002dcert_002dextension"> &para;</a></span></dt>
<dd><p>Add <var class="var">oid</var> to the list of ignored certificate extensions.  The
<var class="var">oid</var> is expected to be in dotted decimal form, like
<code class="code">2.5.29.3</code>.  This option may be used more than once.  Critical
flagged certificate extensions matching one of the OIDs in the list
are treated as if they are actually handled and thus the certificate
won&rsquo;t be rejected due to an unknown critical extension.  Use this
option with care because extensions are usually flagged as critical
for a reason.
</p>
</dd>
<dt><a id="index-ignore_002dcrl_002dextension"></a><span><code class="code">--ignore-crl-extension <var class="var">oid</var></code><a class="copiable-link" href="#index-ignore_002dcrl_002dextension"> &para;</a></span></dt>
<dd><p>Add <var class="var">oid</var> to the list of ignored CRL extensions.  The <var class="var">oid</var> is
expected to be in dotted decimal form.  Critical flagged CRL
extensions matching one of the OIDs in the list are treated as if they
are actually handled and thus the certificate won&rsquo;t be rejected due to
an unknown critical extension.  Use this option with care because
extensions are usually flagged as critical for a reason.
</p>
</dd>
<dt><a id="index-ignore_002dcert"></a><span><code class="code">--ignore-cert <var class="var">fpr</var>|<var class="var">file</var></code><a class="copiable-link" href="#index-ignore_002dcert"> &para;</a></span></dt>
<dd><p>Entirely ignore certificates with the fingerprint <var class="var">fpr</var>.  As an
alternative to the fingerprint a filename can be given in which case
all certificates described in that file are ignored.  Any argument
which contains a slash, dot or tilde is considered a filename.  Usual
filename expansion takes place: A tilde at the start followed by a
slash is replaced by the content of <code class="env">HOME</code>, no slash at start
describes a relative filename which will be searched at the home
directory.  To make sure that the <var class="var">file</var> is searched in the home
directory, either prepend the name with &quot;./&quot; or use a name which
contains a dot.  The format of such a file is a list of SHA-1
fingerprint, one per line with optional colons between the bytes.
Empty lines and lines prefixed with a hash mark are ignored.
</p>
<p>This option is useful as a quick workaround to exclude certain
certificates from the system store.
</p>

</dd>
<dt><code class="code">--hkp-cacert <var class="var">file</var></code></dt>
<dd><p>Use the root certificates in <var class="var">file</var> for verification of the TLS
certificates used with <code class="code">hkps</code> (keyserver access over TLS).  If
the file is in PEM format a suffix of <code class="code">.pem</code> is expected for
<var class="var">file</var>.  This option may be given multiple times to add more
root certificates.  Tilde expansion is supported.
</p>
<p>If no <code class="code">hkp-cacert</code> directive is present, dirmngr will use the
system CAs.
</p>
</dd>
</dl>



<hr>
</div>
<div class="section-level-extent" id="Dirmngr-Configuration">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-Signals" accesskey="n" rel="next">Use of signals</a>, Previous: <a href="#Dirmngr-Options" accesskey="p" rel="prev">Option Summary</a>, Up: <a href="#Invoking-DIRMNGR" accesskey="u" rel="up">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Configuration-1"><span>3.3 Configuration<a class="copiable-link" href="#Configuration-1"> &para;</a></span></h3>

<p>Dirmngr makes use of several directories when running in daemon mode:
There are a few configuration files to control the operation of
dirmngr.  By default they may all be found in the current home
directory (see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).
</p>
<dl class="table">
<dt><a id="index-dirmngr_002econf"></a><span><samp class="file">dirmngr.conf</samp><a class="copiable-link" href="#index-dirmngr_002econf"> &para;</a></span></dt>
<dd><p>This is the standard configuration file read by <code class="command">dirmngr</code> on
startup.  It may contain any valid long option; the leading two dashes
may not be entered and the option may not be abbreviated.  This file
is also read after a <code class="code">SIGHUP</code> however not all options will
actually have an effect.  This default name may be changed on the
command line (see <a class="pxref" href="#option-_002d_002doptions">option --options</a>).  You should backup this file.
</p>
</dd>
<dt><samp class="file">/etc/gnupg/trusted-certs</samp></dt>
<dd><p>This directory should be filled with certificates of Root CAs you
are trusting in checking the CRLs and signing OCSP Responses.
</p>
<p>Usually these are the same certificates you use with the applications
making use of dirmngr.  It is expected that each of these certificate
files contain exactly one <abbr class="acronym">DER</abbr> encoded certificate in a file
with the suffix <samp class="file">.crt</samp> or <samp class="file">.der</samp>.  <code class="command">dirmngr</code> reads
those certificates on startup and when given a SIGHUP.  Certificates
which are not readable or do not make up a proper X.509 certificate
are ignored; see the log file for details.
</p>
<p>Applications using dirmngr (e.g. gpgsm) can request these
certificates to complete a trust chain in the same way as with the
extra-certs directory (see below).
</p>
<p>Note that for OCSP responses the certificate specified using the option
<samp class="option">--ocsp-signer</samp> is always considered valid to sign OCSP requests.
</p>
</dd>
<dt><samp class="file">/etc/gnupg/extra-certs</samp></dt>
<dd><p>This directory may contain extra certificates which are preloaded
into the internal cache on startup. Applications using dirmngr (e.g. gpgsm)
can request cached certificates to complete a trust chain.
This is convenient in cases you have a couple intermediate CA certificates
or certificates usually used to sign OCSP responses.
These certificates are first tried before going
out to the net to look for them.  These certificates must also be
<abbr class="acronym">DER</abbr> encoded and suffixed with <samp class="file">.crt</samp> or <samp class="file">.der</samp>.
</p>
</dd>
<dt><samp class="file">~/.gnupg/crls.d</samp></dt>
<dd><p>This directory is used to store cached CRLs.  The <samp class="file">crls.d</samp>
part will be created by dirmngr if it does not exists but you need to
make sure that the upper directory exists.
</p>
</dd>
</dl>

<p>Several options control the use of trusted certificates for TLS and
CRLs.  Here is an Overview on the use and origin of those Root CA
certificates:
</p><dl class="table">
<dt>System</dt>
<dd>
<p>These System root certificates are used by:  FIXME
</p>
<p>The origin of the system provided certificates depends on the
platform.  On Windows all certificates from the Windows System Stores
<code class="code">ROOT</code> and <code class="code">CA</code> are used.
</p>
<p>On other platforms the certificates are read from the first file found
form this list: <samp class="file">/etc/ssl/ca-bundle.pem</samp>,
<samp class="file">/etc/ssl/certs/ca-certificates.crt</samp>,
<samp class="file">/etc/pki/tls/cert.pem</samp>,
<samp class="file">/usr/local/share/certs/ca-root-nss.crt</samp>,
<samp class="file">/etc/ssl/cert.pem</samp>.
</p>
</dd>
<dt>GnuPG</dt>
<dd>
<p>The GnuPG specific certificates stored in the directory
<samp class="file">/etc/gnupg/trusted-certs</samp> are only used to validate CRLs.
</p>

</dd>
<dt>OpenPGP keyserver</dt>
<dd>
<p>For accessing the OpenPGP keyservers the only certificates used are
those set with the configuration option <samp class="option">hkp-cacert</samp>.
</p>
</dd>
<dt>OpenPGP keyserver pool</dt>
<dd>
<p>This is usually only one certificate read from the file
<samp class="file">/usr/share/gnupg/gnupg/sks-keyservers.netCA.pem</samp>.  If this
certificate exists it is used to access the special keyservers
<code class="code">hkps.pool.sks-keyservers.net</code> (or <samp class="file">hkps://keys.gnupg.net</samp>).
</p>
</dd>
</dl>

<p>Please note that <code class="command">gpgsm</code> accepts Root CA certificates for its
own purposes only if they are listed in its file <samp class="file">trustlist.txt</samp>.
<code class="command">dirmngr</code> does not make use of this list - except FIXME.
</p>



<p>To be able to see diagnostics it is often useful to put at least the
following lines into the configuration file
<samp class="file">~/gnupg/dirmngr.conf</samp>:
</p>
<div class="example">
<pre class="example-preformatted">log-file ~/dirmngr.log
verbose
</pre></div>

<p>You may want to check the log file to see whether all desired root CA
certificates are correctly loaded.
</p>
<p>To be able to perform OCSP requests you probably want to add the line:
</p>
<div class="example">
<pre class="example-preformatted">allow-ocsp
</pre></div>

<p>To make sure that new options are read or that after the installation
of a new GnuPG versions the right dirmngr version is running, you
should kill an existing dirmngr so that a new instance is started as
needed by the other components:
</p>
<div class="example">
<pre class="example-preformatted">gpgconf --kill dirmngr
</pre></div>

<p>Direct interfaction with the dirmngr is possible by using the command
</p>
<div class="example">
<pre class="example-preformatted">gpg-connect-agent --dirmngr
</pre></div>

<p>Enter <code class="code">HELP</code> at the prompt to see a list of commands and enter
<code class="code">HELP</code> followed by a command name to get help on that command.
</p>



<hr>
</div>
<div class="section-level-extent" id="Dirmngr-Signals">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#Dirmngr-Configuration" accesskey="p" rel="prev">Configuration</a>, Up: <a href="#Invoking-DIRMNGR" accesskey="u" rel="up">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Use-of-signals"><span>3.4 Use of signals<a class="copiable-link" href="#Use-of-signals"> &para;</a></span></h3>

<p>A running <code class="command">dirmngr</code> may be controlled by signals, i.e. using
the <code class="command">kill</code> command to send a signal to the process.
</p>
<p>Here is a list of supported signals:
</p>
<dl class="table">
<dt><a id="index-SIGHUP-1"></a><span><code class="code">SIGHUP</code><a class="copiable-link" href="#index-SIGHUP-1"> &para;</a></span></dt>
<dd><p>This signal flushes all internally cached CRLs as well as any cached
certificates.  Then the certificate cache is reinitialized as on
startup.  Options are re-read from the configuration file.  Instead of
sending this signal it is better to use
</p><div class="example">
<pre class="example-preformatted">gpgconf --reload dirmngr
</pre></div>

</dd>
<dt><a id="index-SIGTERM-1"></a><span><code class="code">SIGTERM</code><a class="copiable-link" href="#index-SIGTERM-1"> &para;</a></span></dt>
<dd><p>Shuts down the process but waits until all current requests are
fulfilled.  If the process has received 3 of these signals and requests
are still pending, a shutdown is forced.  You may also use
</p><div class="example">
<pre class="example-preformatted">gpgconf --kill dirmngr
</pre></div>
<p>instead of this signal
</p>
</dd>
<dt><a id="index-SIGINT-1"></a><span><code class="code">SIGINT</code><a class="copiable-link" href="#index-SIGINT-1"> &para;</a></span></dt>
<dd><p>Shuts down the process immediately.
</p>

</dd>
<dt><a id="index-SIGUSR1-1"></a><span><code class="code">SIGUSR1</code><a class="copiable-link" href="#index-SIGUSR1-1"> &para;</a></span></dt>
<dd><p>This prints some caching statistics to the log file.
</p>
</dd>
</dl>




<hr>
</div>
<div class="section-level-extent" id="Dirmngr-Examples">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-Protocol" accesskey="n" rel="next">Dirmngr&rsquo;s Assuan Protocol</a>, Previous: <a href="#Dirmngr-Signals" accesskey="p" rel="prev">Use of signals</a>, Up: <a href="#Invoking-DIRMNGR" accesskey="u" rel="up">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Examples-1"><span>3.5 Examples<a class="copiable-link" href="#Examples-1"> &para;</a></span></h3>

<p>Here is an example on how to show dirmngr&rsquo;s internal table of OpenPGP
keyserver addresses.  The output is intended for debugging purposes
and not part of a defined API.
</p>
<div class="example">
<pre class="example-preformatted">  gpg-connect-agent --dirmngr 'keyserver --hosttable' /bye
</pre></div>

<p>To inhibit the use of a particular host you have noticed in one of the
keyserver pools, you may use
</p>
<div class="example">
<pre class="example-preformatted"> gpg-connect-agent --dirmngr 'keyserver --dead pgpkeys.bnd.de' /bye
</pre></div>

<p>The description of the <code class="code">keyserver</code> command can be printed using
</p>
<div class="example">
<pre class="example-preformatted"> gpg-connect-agent --dirmngr 'help keyserver' /bye
</pre></div>




<hr>
</div>
<div class="section-level-extent" id="Dirmngr-Protocol">
<div class="nav-panel">
<p>
Previous: <a href="#Dirmngr-Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Invoking-DIRMNGR" accesskey="u" rel="up">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Dirmngr_0027s-Assuan-Protocol"><span>3.6 Dirmngr&rsquo;s Assuan Protocol<a class="copiable-link" href="#Dirmngr_0027s-Assuan-Protocol"> &para;</a></span></h3>

<p>Assuan is the IPC protocol used to access dirmngr.  This is a
description of the commands implemented by dirmngr.
</p>

<ul class="mini-toc">
<li><a href="#Dirmngr-LOOKUP" accesskey="1">Return the certificate(s) found</a></li>
<li><a href="#Dirmngr-ISVALID" accesskey="2">Validate a certificate using a CRL or OCSP</a></li>
<li><a href="#Dirmngr-CHECKCRL" accesskey="3">Validate a certificate using a CRL</a></li>
<li><a href="#Dirmngr-CHECKOCSP" accesskey="4">Validate a certificate using OCSP</a></li>
<li><a href="#Dirmngr-CACHECERT" accesskey="5">Put a certificate into the internal cache</a></li>
<li><a href="#Dirmngr-VALIDATE" accesskey="6">Validate a certificate for debugging</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Dirmngr-LOOKUP">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-ISVALID" accesskey="n" rel="next">Validate a certificate using a CRL or OCSP</a>, Up: <a href="#Dirmngr-Protocol" accesskey="u" rel="up">Dirmngr&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-the-certificate_0028s_0029-found"><span>3.6.1 Return the certificate(s) found<a class="copiable-link" href="#Return-the-certificate_0028s_0029-found"> &para;</a></span></h4>

<p>Lookup certificate.  To allow multiple patterns (which are ORed)
quoting is required: Spaces are to be translated into &quot;+&quot; or into
&quot;%20&quot;; obviously this requires that the usual escape quoting rules
are applied.  The server responds with:
</p>
<div class="example">
<pre class="example-preformatted">  S: D &lt;DER encoded certificate&gt;
  S: END
  S: D &lt;second DER encoded certificate&gt;
  S: END
  S: OK
</pre></div>

<p>In this example 2 certificates are returned.  The server may return
any number of certificates; OK will also be returned when no
certificates were found.  The dirmngr might return a status line
</p>
<div class="example">
<pre class="example-preformatted">  S: S TRUNCATED &lt;n&gt;
</pre></div>


<p>To indicate that the output was truncated to N items due to a
limitation of the server or by an arbitrary set limit.
</p>
<p>The option <samp class="option">--url</samp> may be used if instead of a search pattern a
complete URL to the certificate is known:
</p>
<div class="example">
<pre class="example-preformatted">  C: LOOKUP --url CN%3DWerner%20Koch,o%3DIntevation%20GmbH,c%3DDE?userCertificate
</pre></div>

<p>If the option <samp class="option">--cache-only</samp> is given, no external lookup is done
so that only certificates from the cache are returned.
</p>
<p>With the option <samp class="option">--single</samp>, the first and only the first match
will be returned.  Unless option <samp class="option">--cache-only</samp> is also used, no
local lookup will be done in this case.
</p>


<hr>
</div>
<div class="subsection-level-extent" id="Dirmngr-ISVALID">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-CHECKCRL" accesskey="n" rel="next">Validate a certificate using a CRL</a>, Previous: <a href="#Dirmngr-LOOKUP" accesskey="p" rel="prev">Return the certificate(s) found</a>, Up: <a href="#Dirmngr-Protocol" accesskey="u" rel="up">Dirmngr&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Validate-a-certificate-using-a-CRL-or-OCSP"><span>3.6.2 Validate a certificate using a CRL or OCSP<a class="copiable-link" href="#Validate-a-certificate-using-a-CRL-or-OCSP"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  ISVALID [--only-ocsp] [--force-default-responder] <var class="var">certid</var>|<var class="var">certfpr</var>
</pre></div>

<p>Check whether the certificate described by the <var class="var">certid</var> has been
revoked.  Due to caching, the Dirmngr is able to answer immediately in
most cases.
</p>
<p>The <var class="var">certid</var> is a hex encoded string consisting of two parts,
delimited by a single dot.  The first part is the SHA-1 hash of the
issuer name and the second part the serial number.
</p>
<p>Alternatively the certificate&rsquo;s SHA-1 fingerprint <var class="var">certfpr</var> may be
given in which case an OCSP request is done before consulting the CRL.
If the option <samp class="option">--only-ocsp</samp> is given, no fallback to a CRL check
will be used.  If the option <samp class="option">--force-default-responder</samp> is
given, only the default OCSP responder will be used and any other
methods of obtaining an OCSP responder URL won&rsquo;t be used.
</p>
<p>Common return values are:
</p>
<dl class="table">
<dt><code class="code">GPG_ERR_NO_ERROR (0)</code></dt>
<dd><p>This is the positive answer: The certificate is not revoked and we have
an up-to-date revocation list for that certificate.  If OCSP was used
the responder confirmed that the certificate has not been revoked.
</p>
</dd>
<dt><code class="code">GPG_ERR_CERT_REVOKED</code></dt>
<dd><p>This is the negative answer: The certificate has been revoked.  Either
it is in a CRL and that list is up to date or an OCSP responder informed
us that it has been revoked.
</p>
</dd>
<dt><code class="code">GPG_ERR_NO_CRL_KNOWN</code></dt>
<dd><p>No CRL is known for this certificate or the CRL is not valid or out of
date.
</p>
</dd>
<dt><code class="code">GPG_ERR_NO_DATA</code></dt>
<dd><p>The OCSP responder returned an &ldquo;unknown&rdquo; status.  This means that it
is not aware of the certificate&rsquo;s status.
</p>
</dd>
<dt><code class="code">GPG_ERR_NOT_SUPPORTED</code></dt>
<dd><p>This is commonly seen if OCSP support has not been enabled in the
configuration.
</p></dd>
</dl>

<p>If DirMngr has not enough information about the given certificate (which
is the case for not yet cached certificates), it will inquire the
missing data:
</p>
<div class="example">
<pre class="example-preformatted">  S: INQUIRE SENDCERT &lt;CertID&gt;
  C: D &lt;DER encoded certificate&gt;
  C: END
</pre></div>

<p>A client should be aware that DirMngr may ask for more than one
certificate.
</p>
<p>If Dirmngr has a certificate but the signature of the certificate
could not been validated because the root certificate is not known to
dirmngr as trusted, it may ask back to see whether the client trusts
this the root certificate:
</p>
<div class="example">
<pre class="example-preformatted">  S: INQUIRE ISTRUSTED &lt;CertHexfpr&gt;
  C: D 1
  C: END
</pre></div>

<p>Only this answer will let Dirmngr consider the certificate as valid.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Dirmngr-CHECKCRL">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-CHECKOCSP" accesskey="n" rel="next">Validate a certificate using OCSP</a>, Previous: <a href="#Dirmngr-ISVALID" accesskey="p" rel="prev">Validate a certificate using a CRL or OCSP</a>, Up: <a href="#Dirmngr-Protocol" accesskey="u" rel="up">Dirmngr&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Validate-a-certificate-using-a-CRL"><span>3.6.3 Validate a certificate using a CRL<a class="copiable-link" href="#Validate-a-certificate-using-a-CRL"> &para;</a></span></h4>

<p>Check whether the certificate with FINGERPRINT (SHA-1 hash of the
entire X.509 certificate blob) is valid or not by consulting the CRL
responsible for this certificate.  If the fingerprint has not been
given or the certificate is not known, the function inquires the
certificate using:
</p>
<div class="example">
<pre class="example-preformatted">  S: INQUIRE TARGETCERT
  C: D &lt;DER encoded certificate&gt;
  C: END
</pre></div>

<p>Thus the caller is expected to return the certificate for the request
(which should match FINGERPRINT) as a binary blob.  Processing then
takes place without further interaction; in particular dirmngr tries
to locate other required certificate by its own mechanism which
includes a local certificate store as well as a list of trusted root
certificates.
</p>
<p>The return code is 0 for success; i.e. the certificate has not been
revoked or one of the usual error codes from libgpg-error.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Dirmngr-CHECKOCSP">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-CACHECERT" accesskey="n" rel="next">Put a certificate into the internal cache</a>, Previous: <a href="#Dirmngr-CHECKCRL" accesskey="p" rel="prev">Validate a certificate using a CRL</a>, Up: <a href="#Dirmngr-Protocol" accesskey="u" rel="up">Dirmngr&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Validate-a-certificate-using-OCSP"><span>3.6.4 Validate a certificate using OCSP<a class="copiable-link" href="#Validate-a-certificate-using-OCSP"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  CHECKOCSP [--force-default-responder] [<var class="var">fingerprint</var>]
</pre></div>

<p>Check whether the certificate with <var class="var">fingerprint</var> (the SHA-1 hash of
the entire X.509 certificate blob) is valid by consulting the appropriate
OCSP responder.  If the fingerprint has not been given or the
certificate is not known by Dirmngr, the function inquires the
certificate using:
</p>
<div class="example">
<pre class="example-preformatted">  S: INQUIRE TARGETCERT
  C: D &lt;DER encoded certificate&gt;
  C: END
</pre></div>

<p>Thus the caller is expected to return the certificate for the request
(which should match <var class="var">fingerprint</var>) as a binary blob.  Processing
then takes place without further interaction; in particular dirmngr
tries to locate other required certificates by its own mechanism which
includes a local certificate store as well as a list of trusted root
certificates.
</p>
<p>If the option <samp class="option">--force-default-responder</samp> is given, only the
default OCSP responder is used.  This option is the per-command variant
of the global option <samp class="option">--ignore-ocsp-service-url</samp>.
</p>

<p>The return code is 0 for success; i.e. the certificate has not been
revoked or one of the usual error codes from libgpg-error.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Dirmngr-CACHECERT">
<div class="nav-panel">
<p>
Next: <a href="#Dirmngr-VALIDATE" accesskey="n" rel="next">Validate a certificate for debugging</a>, Previous: <a href="#Dirmngr-CHECKOCSP" accesskey="p" rel="prev">Validate a certificate using OCSP</a>, Up: <a href="#Dirmngr-Protocol" accesskey="u" rel="up">Dirmngr&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Put-a-certificate-into-the-internal-cache"><span>3.6.5 Put a certificate into the internal cache<a class="copiable-link" href="#Put-a-certificate-into-the-internal-cache"> &para;</a></span></h4>

<p>Put a certificate into the internal cache.  This command might be
useful if a client knows in advance certificates required for a test and
wants to make sure they get added to the internal cache.  It is also
helpful for debugging.  To get the actual certificate, this command
immediately inquires it using
</p>
<div class="example">
<pre class="example-preformatted">  S: INQUIRE TARGETCERT
  C: D &lt;DER encoded certificate&gt;
  C: END
</pre></div>

<p>Thus the caller is expected to return the certificate for the request
as a binary blob.
</p>
<p>The return code is 0 for success; i.e. the certificate has not been
successfully cached or one of the usual error codes from libgpg-error.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Dirmngr-VALIDATE">
<div class="nav-panel">
<p>
Previous: <a href="#Dirmngr-CACHECERT" accesskey="p" rel="prev">Put a certificate into the internal cache</a>, Up: <a href="#Dirmngr-Protocol" accesskey="u" rel="up">Dirmngr&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Validate-a-certificate-for-debugging"><span>3.6.6 Validate a certificate for debugging<a class="copiable-link" href="#Validate-a-certificate-for-debugging"> &para;</a></span></h4>

<p>Validate a certificate using the certificate validation function used
internally by dirmngr.  This command is only useful for debugging.  To
get the actual certificate, this command immediately inquires it using
</p>
<div class="example">
<pre class="example-preformatted">  S: INQUIRE TARGETCERT
  C: D &lt;DER encoded certificate&gt;
  C: END
</pre></div>

<p>Thus the caller is expected to return the certificate for the request
as a binary blob.
</p>








<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Invoking-GPG">
<div class="nav-panel">
<p>
Next: <a href="#Invoking-GPGSM" accesskey="n" rel="next">Invoking GPGSM</a>, Previous: <a href="#Invoking-DIRMNGR" accesskey="p" rel="prev">Invoking DIRMNGR</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Invoking-GPG-1"><span>4 Invoking GPG<a class="copiable-link" href="#Invoking-GPG-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-GPG-command-options"></a>
<a class="index-entry-id" id="index-command-options-2"></a>
<a class="index-entry-id" id="index-options_002c-GPG-command"></a>









<p><code class="command">gpg</code> is the OpenPGP part of the GNU Privacy Guard (GnuPG). It
is a tool to provide digital encryption and signing services using the
OpenPGP standard. <code class="command">gpg</code> features complete key management and
all the bells and whistles you would expect from a full OpenPGP
implementation.
</p>
<p>There are two main versions of GnuPG: GnuPG 1.x and GnuPG 2.x.  GnuPG
2.x supports modern encryption algorithms and thus should be preferred
over GnuPG 1.x.  You only need to use GnuPG 1.x if your platform
doesn&rsquo;t support GnuPG 2.x, or you need support for some features that
GnuPG 2.x has deprecated, e.g., decrypting data created with PGP-2
keys.
</p>
<p>If you are looking for version 1 of GnuPG, you may find that version
installed under the name <code class="command">gpg1</code>.
</p>


<p>See <a class="xref" href="#Option-Index">Option Index</a>, for an index to <code class="command">gpg</code>&rsquo;s commands and options.
</p>





<ul class="mini-toc">
<li><a href="#GPG-Commands" accesskey="1">Commands</a></li>
<li><a href="#GPG-Options" accesskey="2">Option Summary</a></li>
<li><a href="#GPG-Configuration" accesskey="3">Configuration files</a></li>
<li><a href="#GPG-Examples" accesskey="4">Examples</a></li>
<li><a href="#Unattended-Usage-of-GPG" accesskey="5">Unattended Usage</a></li>
</ul>
<hr>
<div class="section-level-extent" id="GPG-Commands">
<div class="nav-panel">
<p>
Next: <a href="#GPG-Options" accesskey="n" rel="next">Option Summary</a>, Up: <a href="#Invoking-GPG" accesskey="u" rel="up">Invoking GPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Commands-2"><span>4.1 Commands<a class="copiable-link" href="#Commands-2"> &para;</a></span></h3>

<p>Commands are not distinguished from options except for the fact that
only one command is allowed.  Generally speaking, irrelevant options
are silently ignored, and may not be checked for correctness.
</p>
<p><code class="command">gpg</code> may be run with no commands. In this case it will
print a warning perform a reasonable action depending on the type of
file it is given as input (an encrypted message is decrypted, a
signature is verified, a file containing keys is listed, etc.).
</p>
<p>If you run into any problems, please add the option <samp class="option">--verbose</samp>
to the invocation to see more diagnostics.
</p>



<ul class="mini-toc">
<li><a href="#General-GPG-Commands" accesskey="1">Commands not specific to the function</a></li>
<li><a href="#Operational-GPG-Commands" accesskey="2">Commands to select the type of operation</a></li>
<li><a href="#OpenPGP-Key-Management" accesskey="3">How to manage your keys</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="General-GPG-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Operational-GPG-Commands" accesskey="n" rel="next">Commands to select the type of operation</a>, Up: <a href="#GPG-Commands" accesskey="u" rel="up">Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Commands-not-specific-to-the-function"><span>4.1.1 Commands not specific to the function<a class="copiable-link" href="#Commands-not-specific-to-the-function"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-version-2"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-2"> &para;</a></span></dt>
<dd><p>Print the program version and licensing information.  Note that you
cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-help-2"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help-2"> &para;</a></span></dt>
<dt><code class="code">-h</code></dt>
<dd><p>Print a usage message summarizing the most useful command-line options.
Note that you cannot arbitrarily abbreviate this command
(though you can use its short form <samp class="option">-h</samp>).
</p>
</dd>
<dt><a id="index-warranty"></a><span><code class="code">--warranty</code><a class="copiable-link" href="#index-warranty"> &para;</a></span></dt>
<dd><p>Print warranty information.
</p>
</dd>
<dt><a id="index-dump_002doptions-2"></a><span><code class="code">--dump-options</code><a class="copiable-link" href="#index-dump_002doptions-2"> &para;</a></span></dt>
<dd><p>Print a list of all available options and commands.  Note that you cannot
abbreviate this command.
</p></dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Operational-GPG-Commands">
<div class="nav-panel">
<p>
Next: <a href="#OpenPGP-Key-Management" accesskey="n" rel="next">How to manage your keys</a>, Previous: <a href="#General-GPG-Commands" accesskey="p" rel="prev">Commands not specific to the function</a>, Up: <a href="#GPG-Commands" accesskey="u" rel="up">Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Commands-to-select-the-type-of-operation"><span>4.1.2 Commands to select the type of operation<a class="copiable-link" href="#Commands-to-select-the-type-of-operation"> &para;</a></span></h4>


<dl class="table">
<dt><a id="index-sign"></a><span><code class="code">--sign</code><a class="copiable-link" href="#index-sign"> &para;</a></span></dt>
<dt><code class="code">-s</code></dt>
<dd><p>Sign a message. This command may be combined with <samp class="option">--encrypt</samp>
(to sign and encrypt a message), <samp class="option">--symmetric</samp> (to sign and
symmetrically encrypt a message), or both <samp class="option">--encrypt</samp> and
<samp class="option">--symmetric</samp> (to sign and encrypt a message that can be
decrypted using a secret key or a passphrase).  The signing key is
chosen by default or can be set explicitly using the
<samp class="option">--local-user</samp> and <samp class="option">--default-key</samp> options.
</p>
</dd>
<dt><a id="index-clearsign"></a><span><code class="code">--clear-sign</code><a class="copiable-link" href="#index-clearsign"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-clear_002dsign"></a>
</dd>
<dt><code class="code">--clearsign</code></dt>
<dd><p>Make a cleartext signature.  The content in a cleartext signature is
readable without any special software. OpenPGP software is only needed
to verify the signature.  cleartext signatures may modify end-of-line
whitespace for platform independence and are not intended to be
reversible.  The signing key is chosen by default or can be set
explicitly using the <samp class="option">--local-user</samp> and <samp class="option">--default-key</samp>
options.
</p>

</dd>
<dt><a id="index-detach_002dsign"></a><span><code class="code">--detach-sign</code><a class="copiable-link" href="#index-detach_002dsign"> &para;</a></span></dt>
<dt><code class="code">-b</code></dt>
<dd><p>Make a detached signature.
</p>
</dd>
<dt><a id="index-encrypt"></a><span><code class="code">--encrypt</code><a class="copiable-link" href="#index-encrypt"> &para;</a></span></dt>
<dt><code class="code">-e</code></dt>
<dd><p>Encrypt data to one or more public keys. This command may be combined
with <samp class="option">--sign</samp> (to sign and encrypt a message),
<samp class="option">--symmetric</samp> (to encrypt a message that can be decrypted using a
secret key or a passphrase), or <samp class="option">--sign</samp> and
<samp class="option">--symmetric</samp> together (for a signed message that can be
decrypted using a secret key or a passphrase).  <samp class="option">--recipient</samp>
and related options specify which public keys to use for encryption.
</p>
</dd>
<dt><a id="index-symmetric"></a><span><code class="code">--symmetric</code><a class="copiable-link" href="#index-symmetric"> &para;</a></span></dt>
<dt><code class="code">-c</code></dt>
<dd><p>Encrypt with a symmetric cipher using a passphrase. The default
symmetric cipher used is AES-128, but may be chosen with the
<samp class="option">--cipher-algo</samp> option. This command may be combined with
<samp class="option">--sign</samp> (for a signed and symmetrically encrypted message),
<samp class="option">--encrypt</samp> (for a message that may be decrypted via a secret key
or a passphrase), or <samp class="option">--sign</samp> and <samp class="option">--encrypt</samp> together
(for a signed message that may be decrypted via a secret key or a
passphrase).  <code class="command">gpg</code> caches the passphrase used for
symmetric encryption so that a decrypt operation may not require that
the user needs to enter the passphrase.  The option
<samp class="option">--no-symkey-cache</samp> can be used to disable this feature.
</p>
</dd>
<dt><a id="index-store"></a><span><code class="code">--store</code><a class="copiable-link" href="#index-store"> &para;</a></span></dt>
<dd><p>Store only (make a simple literal data packet).
</p>
</dd>
<dt><a id="index-decrypt"></a><span><code class="code">--decrypt</code><a class="copiable-link" href="#index-decrypt"> &para;</a></span></dt>
<dt><code class="code">-d</code></dt>
<dd><p>Decrypt the file given on the command line (or STDIN if no file
is specified) and write it to STDOUT (or the file specified with
<samp class="option">--output</samp>). If the decrypted file is signed, the signature is also
verified. This command differs from the default operation, as it never
writes to the filename which is included in the file and it rejects
files that don&rsquo;t begin with an encrypted message.
</p>
</dd>
<dt><a id="index-verify"></a><span><code class="code">--verify</code><a class="copiable-link" href="#index-verify"> &para;</a></span></dt>
<dd><p>Assume that the first argument is a signed file and verify it without
generating any output.  With no arguments, the signature packet is
read from STDIN.  If only one argument is given, the specified file is
expected to include a complete signature.
</p>
<p>With more than one argument, the first argument should specify a file
with a detached signature and the remaining files should contain the
signed data. To read the signed data from STDIN, use &lsquo;<samp class="samp">-</samp>&rsquo; as the
second filename.  For security reasons, a detached signature will not
read the signed material from STDIN if not explicitly specified.
</p>
<p>Note: If the option <samp class="option">--batch</samp> is not used, <code class="command">gpg</code>
may assume that a single argument is a file with a detached signature,
and it will try to find a matching data file by stripping certain
suffixes.  Using this historical feature to verify a detached
signature is strongly discouraged; you should always specify the data file
explicitly.
</p>
<p>Note: When verifying a cleartext signature, <code class="command">gpg</code> verifies
only what makes up the cleartext signed data and not any extra data
outside of the cleartext signature or the header lines directly following
the dash marker line.  The option <code class="code">--output</code> may be used to write
out the actual signed data, but there are other pitfalls with this
format as well.  It is suggested to avoid cleartext signatures in
favor of detached signatures.
</p>
<p>Note: To check whether a file was signed by a certain key the option
<samp class="option">--assert-signer</samp> can be used.  As an alternative the
<code class="command">gpgv</code> tool can be used.  <code class="command">gpgv</code> is designed to
compare signed data against a list of trusted keys and returns with
success only for a good signature.  It has its own manual page.
</p>

</dd>
<dt><a id="index-multifile"></a><span><code class="code">--multifile</code><a class="copiable-link" href="#index-multifile"> &para;</a></span></dt>
<dd><p>This modifies certain other commands to accept multiple files for
processing on the command line or read from STDIN with each filename on
a separate line. This allows for many files to be processed at
once. <samp class="option">--multifile</samp> may currently be used along with
<samp class="option">--verify</samp>, <samp class="option">--encrypt</samp>, and <samp class="option">--decrypt</samp>. Note that
<samp class="option">--multifile --verify</samp> may not be used with detached signatures.
</p>
</dd>
<dt><a id="index-verify_002dfiles"></a><span><code class="code">--verify-files</code><a class="copiable-link" href="#index-verify_002dfiles"> &para;</a></span></dt>
<dd><p>Identical to <samp class="option">--multifile --verify</samp>.
</p>
</dd>
<dt><a id="index-encrypt_002dfiles"></a><span><code class="code">--encrypt-files</code><a class="copiable-link" href="#index-encrypt_002dfiles"> &para;</a></span></dt>
<dd><p>Identical to <samp class="option">--multifile --encrypt</samp>.
</p>
</dd>
<dt><a id="index-decrypt_002dfiles"></a><span><code class="code">--decrypt-files</code><a class="copiable-link" href="#index-decrypt_002dfiles"> &para;</a></span></dt>
<dd><p>Identical to <samp class="option">--multifile --decrypt</samp>.
</p>
</dd>
<dt><a id="index-list_002dkeys"></a><span><code class="code">--list-keys</code><a class="copiable-link" href="#index-list_002dkeys"> &para;</a></span></dt>
<dt><code class="code">-k</code></dt>
<dt><code class="code">--list-public-keys</code></dt>
<dd><p>List the specified keys.  If no keys are specified, then all keys from
the configured public keyrings are listed.
</p>
<p>Never use the output of this command in scripts or other programs.
The output is intended only for humans and its format is likely to
change.  The <samp class="option">--with-colons</samp> option emits the output in a
stable, machine-parseable format, which is intended for use by scripts
and other programs.
</p>
</dd>
<dt><a id="index-list_002dsecret_002dkeys"></a><span><code class="code">--list-secret-keys</code><a class="copiable-link" href="#index-list_002dsecret_002dkeys"> &para;</a></span></dt>
<dt><code class="code">-K</code></dt>
<dd><p>List the specified secret keys.  If no keys are specified, then all
known secret keys are listed.  A <code class="code">#</code> after the initial tags
<code class="code">sec</code> or <code class="code">ssb</code> means that the secret key or subkey is
currently not usable.  We also say that this key has been taken
offline (for example, a primary key can be taken offline by exporting
the key using the command <samp class="option">--export-secret-subkeys</samp>).  A
<code class="code">&gt;</code> after these tags indicate that the key is stored on a
smartcard.  See also <samp class="option">--list-keys</samp>.
</p>
</dd>
<dt><a id="index-check_002dsigs"></a><span><code class="code">--check-signatures</code><a class="copiable-link" href="#index-check_002dsigs"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-check_002dsignatures"></a>
</dd>
<dt><code class="code">--check-sigs</code></dt>
<dd><p>Same as <samp class="option">--list-keys</samp>, but the key signatures are verified and
listed too.  Note that for performance reasons the revocation status
of a signing key is not shown.  This command has the same effect as
using <samp class="option">--list-keys</samp> with <samp class="option">--with-sig-check</samp>.
</p>
<p>The status of the verification is indicated by a flag directly
following the &quot;sig&quot; tag (and thus before the flags described below.  A
&quot;!&quot; indicates that the signature has been successfully verified, a &quot;-&quot;
denotes a bad signature and a &quot;%&quot; is used if an error occurred while
checking the signature (e.g. a non supported algorithm).  Signatures
where the public key is not available are not listed; to see their
keyids the command <samp class="option">--list-sigs</samp> can be used.
</p>
<p>For each signature listed, there are several flags in between the
signature status flag and keyid.  These flags give additional
information about each key signature.  From left to right, they are
the numbers 1-3 for certificate check level (see
<samp class="option">--ask-cert-level</samp>), &quot;L&quot; for a local or non-exportable
signature (see <samp class="option">--lsign-key</samp>), &quot;R&quot; for a nonRevocable signature
(see the <samp class="option">--edit-key</samp> command &quot;nrsign&quot;), &quot;P&quot; for a signature
that contains a policy URL (see <samp class="option">--cert-policy-url</samp>), &quot;N&quot; for a
signature that contains a notation (see <samp class="option">--cert-notation</samp>), &quot;X&quot;
for an eXpired signature (see <samp class="option">--ask-cert-expire</samp>), and the
numbers 1-9 or &quot;T&quot; for 10 and above to indicate trust signature levels
(see the <samp class="option">--edit-key</samp> command &quot;tsign&quot;).
</p>

</dd>
<dt><a class="index-entry-id" id="index-locate_002dexternal_002dkeys"></a>
<a id="index-locate_002dkeys"></a><span><code class="code">--locate-keys</code><a class="copiable-link" href="#index-locate_002dkeys"> &para;</a></span></dt>
<dt><code class="code">--locate-external-keys</code></dt>
<dd><p>Locate the keys given as arguments.  This command basically uses the
same algorithm as used when locating keys for encryption and may thus
be used to see what keys <code class="command">gpg</code> might use.  In particular
external methods as defined by <samp class="option">--auto-key-locate</samp> are used to
locate a key if the arguments comain valid mail addresses.  Only
public keys are listed.
</p>
<p>The variant <samp class="option">--locate-external-keys</samp> does not consider a
locally existing key and can thus be used to force the refresh of a
key via the defined external methods.  If a fingerprint is given and
and the methods defined by &ndash;auto-key-locate define LDAP servers, the
key is fetched from these resources; defined non-LDAP keyservers are
skipped.
</p>

</dd>
<dt><a id="index-show_002dkeys"></a><span><code class="code">--show-keys</code><a class="copiable-link" href="#index-show_002dkeys"> &para;</a></span></dt>
<dd><p>This commands takes OpenPGP keys as input and prints information about
them in the same way the command <samp class="option">--list-keys</samp> does for locally
stored key.  In addition the list options <code class="code">show-unusable-uids</code>,
<code class="code">show-unusable-subkeys</code>, <code class="code">show-notations</code> and
<code class="code">show-policy-urls</code> are also enabled.  As usual for automated
processing, this command should be combined with the option
<samp class="option">--with-colons</samp>.
</p>
</dd>
<dt><a id="index-fingerprint"></a><span><code class="code">--fingerprint</code><a class="copiable-link" href="#index-fingerprint"> &para;</a></span></dt>
<dd><p>List all keys (or the specified ones) along with their
fingerprints. This is the same output as <samp class="option">--list-keys</samp> but with
the additional output of a line with the fingerprint. May also be
combined with <samp class="option">--check-signatures</samp>.  If this
command is given twice, the fingerprints of all secondary keys are
listed too.  This command also forces pretty printing of fingerprints
if the keyid format has been set to &quot;none&quot;.
</p>
</dd>
<dt><a id="index-list_002dpackets"></a><span><code class="code">--list-packets</code><a class="copiable-link" href="#index-list_002dpackets"> &para;</a></span></dt>
<dd><p>List only the sequence of packets.  This command is only useful for
debugging.  When used with option <samp class="option">--verbose</samp> the actual MPI
values are dumped and not only their lengths.  Note that the output of
this command may change with new releases.
</p>

</dd>
<dt><a id="index-card_002dedit"></a><span><code class="code">--edit-card</code><a class="copiable-link" href="#index-card_002dedit"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-edit_002dcard"></a>
</dd>
<dt><code class="code">--card-edit</code></dt>
<dd><p>Present a menu to work with a smartcard. The subcommand &quot;help&quot;
provides an overview on available commands. For a detailed
description, please see the Card HOWTO at
https://gnupg.org/documentation/howtos.html#GnuPG-cardHOWTO .  Please
note that the command &quot;openpgp&quot; can be used to switch to the OpenPGP
application of cards which by default are presenting another
application (e.g. PIV).
</p>
</dd>
<dt><a id="index-card_002dstatus"></a><span><code class="code">--card-status</code><a class="copiable-link" href="#index-card_002dstatus"> &para;</a></span></dt>
<dd><p>Show the content of the smart card.
</p>
</dd>
<dt><a id="index-change_002dpin"></a><span><code class="code">--change-pin</code><a class="copiable-link" href="#index-change_002dpin"> &para;</a></span></dt>
<dd><p>Present a menu to allow changing the PIN of a smartcard. This
functionality is also available as the subcommand &quot;passwd&quot; with the
<samp class="option">--edit-card</samp> command.
</p>
</dd>
<dt><a id="index-delete_002dkeys"></a><span><code class="code">--delete-keys <var class="var">name</var></code><a class="copiable-link" href="#index-delete_002dkeys"> &para;</a></span></dt>
<dd><p>Remove key from the public keyring. In batch mode either <samp class="option">--yes</samp> is
required or the key must be specified by fingerprint. This is a
safeguard against accidental deletion of multiple keys.  If the
exclamation mark syntax is used with the fingerprint of a subkey only
that subkey is deleted; if the exclamation mark is used with the
fingerprint of the primary key the entire public key is deleted.
</p>
</dd>
<dt><a id="index-delete_002dsecret_002dkeys"></a><span><code class="code">--delete-secret-keys <var class="var">name</var></code><a class="copiable-link" href="#index-delete_002dsecret_002dkeys"> &para;</a></span></dt>
<dd><p>Remove key from the secret keyring. In batch mode the key must be
specified by fingerprint.  The option <samp class="option">--yes</samp> can be used to
advise gpg-agent not to request a confirmation.  This extra
pre-caution is done because <code class="command">gpg</code> can&rsquo;t be sure that the
secret key (as controlled by gpg-agent) is only used for the given
OpenPGP public key.  If the exclamation mark syntax is used with the
fingerprint of a subkey only the secret part of that subkey is
deleted; if the exclamation mark is used with the fingerprint of the
primary key only the secret part of the primary key is deleted.
</p>

</dd>
<dt><a id="index-delete_002dsecret_002dand_002dpublic_002dkey"></a><span><code class="code">--delete-secret-and-public-key <var class="var">name</var></code><a class="copiable-link" href="#index-delete_002dsecret_002dand_002dpublic_002dkey"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--delete-key</samp>, but if a secret key exists, it will be
removed first. In batch mode the key must be specified by fingerprint.
The option <samp class="option">--yes</samp> can be used to advise gpg-agent not to
request a confirmation.
</p>
</dd>
<dt><a id="index-export"></a><span><code class="code">--export</code><a class="copiable-link" href="#index-export"> &para;</a></span></dt>
<dd><p>Either export all keys from all keyrings (default keyring and those
registered via option <samp class="option">--keyring</samp>), or if at least one name is given,
those of the given name. The exported keys are written to STDOUT or to the
file given with option <samp class="option">--output</samp>.  Use together with
<samp class="option">--armor</samp> to mail those keys.
</p>
</dd>
<dt><a id="index-send_002dkeys"></a><span><code class="code">--send-keys <var class="var">keyIDs</var></code><a class="copiable-link" href="#index-send_002dkeys"> &para;</a></span></dt>
<dd><p>Similar to <samp class="option">--export</samp> but sends the keys to a keyserver.
Fingerprints may be used instead of key IDs.
Don&rsquo;t send your complete keyring to a keyserver &mdash; select
only those keys which are new or changed by you.  If no <var class="var">keyIDs</var>
are given, <code class="command">gpg</code> does nothing.
</p>
<p>Take care: Keyservers are by design write only systems and thus it is
not possible to ever delete keys once they have been send to a
keyserver.
</p>

</dd>
<dt><a class="index-entry-id" id="index-export_002dsecret_002dsubkeys"></a>
<a id="index-export_002dsecret_002dkeys"></a><span><code class="code">--export-secret-keys</code><a class="copiable-link" href="#index-export_002dsecret_002dkeys"> &para;</a></span></dt>
<dt><code class="code">--export-secret-subkeys</code></dt>
<dd><p>Same as <samp class="option">--export</samp>, but exports the secret keys instead.  The
exported keys are written to STDOUT or to the file given with option
<samp class="option">--output</samp>.  This command is often used along with the option
<samp class="option">--armor</samp> to allow for easy printing of the key for paper backup;
however the external tool <code class="command">paperkey</code> does a better job of
creating backups on paper.  Note that exporting a secret key can be a
security risk if the exported keys are sent over an insecure channel.
</p>
<p>The second form of the command has the special property to render the
secret part of the primary key useless; this is a GNU extension to
OpenPGP and other implementations can not be expected to successfully
import such a key.  Its intended use is in generating a full key with
an additional signing subkey on a dedicated machine.  This command
then exports the key without the primary key to the main machine.
</p>
<p>GnuPG may ask you to enter the passphrase for the key.  This is
required, because the internal protection method of the secret key is
different from the one specified by the OpenPGP protocol.
</p>
</dd>
<dt><a id="index-export_002dssh_002dkey"></a><span><code class="code">--export-ssh-key</code><a class="copiable-link" href="#index-export_002dssh_002dkey"> &para;</a></span></dt>
<dd><p>This command is used to export a key in the OpenSSH public key format.
It requires the specification of one key by the usual means and
exports the latest valid subkey which has an authentication capability
to STDOUT or to the file given with option <samp class="option">--output</samp>.  That
output can directly be added to ssh&rsquo;s <samp class="file">authorized_key</samp> file.
</p>
<p>By specifying the key to export using a key ID or a fingerprint
suffixed with an exclamation mark (!), a specific subkey or the
primary key can be exported.  This does not even require that the key
has the authentication capability flag set.
</p>
</dd>
<dt><a id="index-import"></a><span><code class="code">--import</code><a class="copiable-link" href="#index-import"> &para;</a></span></dt>
<dt><code class="code">--fast-import</code></dt>
<dd><p>Import/merge keys. This adds the given keys to the
keyring. The fast version is currently just a synonym.
</p>
<p>There are a few other options which control how this command works.
Most notable here is the <samp class="option">--import-options merge-only</samp> option
which does not insert new keys but does only the merging of new
signatures, user-IDs and subkeys.
</p>
</dd>
<dt><a id="index-recv_002dkeys"></a><span><code class="code">--receive-keys <var class="var">keyIDs</var></code><a class="copiable-link" href="#index-recv_002dkeys"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-receive_002dkeys"></a>
</dd>
<dt><code class="code">--recv-keys <var class="var">keyIDs</var></code></dt>
<dd><p>Import the keys with the given <var class="var">keyIDs</var> from a keyserver.
</p>
</dd>
<dt><a id="index-refresh_002dkeys"></a><span><code class="code">--refresh-keys</code><a class="copiable-link" href="#index-refresh_002dkeys"> &para;</a></span></dt>
<dd><p>Request updates from a keyserver for keys that already exist on the
local keyring. This is useful for updating a key with the latest
signatures, user IDs, etc. Calling this with no arguments will refresh
the entire keyring.
</p>
</dd>
<dt><a id="index-search_002dkeys"></a><span><code class="code">--search-keys <var class="var">names</var></code><a class="copiable-link" href="#index-search_002dkeys"> &para;</a></span></dt>
<dd><p>Search the keyserver for the given <var class="var">names</var>. Multiple names given
here will be joined together to create the search string for the
keyserver.  Note that keyservers search for <var class="var">names</var> in a different
and simpler way than gpg does.  The best choice is to use a mail
address.  Due to data privacy reasons keyservers may even not even
allow searching by user id or mail address and thus may only return
results when being used with the <samp class="option">--recv-key</samp> command to
search by key fingerprint or keyid.
</p>
</dd>
<dt><a id="index-fetch_002dkeys"></a><span><code class="code">--fetch-keys <var class="var">URIs</var></code><a class="copiable-link" href="#index-fetch_002dkeys"> &para;</a></span></dt>
<dd><p>Retrieve keys located at the specified <var class="var">URIs</var>. Note that different
installations of GnuPG may support different protocols (HTTP, FTP,
LDAP, etc.).  When using HTTPS the system provided root certificates
are used by this command.
</p>
</dd>
<dt><a id="index-update_002dtrustdb"></a><span><code class="code">--update-trustdb</code><a class="copiable-link" href="#index-update_002dtrustdb"> &para;</a></span></dt>
<dd><p>Do trust database maintenance. This command iterates over all keys and
builds the Web of Trust. This is an interactive command because it may
have to ask for the &quot;ownertrust&quot; values for keys. The user has to give
an estimation of how far she trusts the owner of the displayed key to
correctly certify (sign) other keys. GnuPG only asks for the ownertrust
value if it has not yet been assigned to a key. Using the
<samp class="option">--edit-key</samp> menu, the assigned value can be changed at any time.
</p>
</dd>
<dt><a id="index-check_002dtrustdb"></a><span><code class="code">--check-trustdb</code><a class="copiable-link" href="#index-check_002dtrustdb"> &para;</a></span></dt>
<dd><p>Do trust database maintenance without user interaction. From time to
time the trust database must be updated so that expired keys or
signatures and the resulting changes in the Web of Trust can be
tracked. Normally, GnuPG will calculate when this is required and do it
automatically unless <samp class="option">--no-auto-check-trustdb</samp> is set. This
command can be used to force a trust database check at any time. The
processing is identical to that of <samp class="option">--update-trustdb</samp> but it
skips keys with a not yet defined &quot;ownertrust&quot;.
</p>
<p>For use with cron jobs, this command can be used together with
<samp class="option">--batch</samp> in which case the trust database check is done only if
a check is needed. To force a run even in batch mode add the option
<samp class="option">--yes</samp>.
</p>
<a class="anchor" id="option-_002d_002dexport_002downertrust"></a></dd>
<dt><a id="index-export_002downertrust"></a><span><code class="code">--export-ownertrust</code><a class="copiable-link" href="#index-export_002downertrust"> &para;</a></span></dt>
<dd><p>Send the ownertrust values to STDOUT. This is useful for backup purposes
as these values are the only ones which can&rsquo;t be re-created from a
corrupted trustdb.  Example:
</p><div class="example">
<pre class="example-preformatted">  gpg --export-ownertrust &gt; otrust.txt
</pre></div>


</dd>
<dt><a id="index-import_002downertrust"></a><span><code class="code">--import-ownertrust</code><a class="copiable-link" href="#index-import_002downertrust"> &para;</a></span></dt>
<dd><p>Update the trustdb with the ownertrust values stored in <code class="code">files</code> (or
STDIN if not given); existing values will be overwritten.  In case of a
severely damaged trustdb and if you have a recent backup of the
ownertrust values (e.g. in the file <samp class="file">otrust.txt</samp>), you may re-create
the trustdb using these commands:
</p><div class="example">
<pre class="example-preformatted">  cd ~/.gnupg
  rm trustdb.gpg
  gpg --import-ownertrust &lt; otrust.txt
</pre></div>


</dd>
<dt><a id="index-rebuild_002dkeydb_002dcaches"></a><span><code class="code">--rebuild-keydb-caches</code><a class="copiable-link" href="#index-rebuild_002dkeydb_002dcaches"> &para;</a></span></dt>
<dd><p>When updating from version 1.0.6 to 1.0.7 this command should be used
to create signature caches in the keyring. It might be handy in other
situations too.
</p>
</dd>
<dt><a id="index-print_002dmd"></a><span><code class="code">--print-md <var class="var">algo</var></code><a class="copiable-link" href="#index-print_002dmd"> &para;</a></span></dt>
<dt><code class="code">--print-mds</code></dt>
<dd><p>Print message digest of algorithm <var class="var">algo</var> for all given files or STDIN.
With the second form (or a deprecated &quot;*&quot; for <var class="var">algo</var>) digests for all
available algorithms are printed.
</p>
</dd>
<dt><a id="index-gen_002drandom"></a><span><code class="code">--gen-random <var class="var">0|1|2|16|30</var> <var class="var">count</var></code><a class="copiable-link" href="#index-gen_002drandom"> &para;</a></span></dt>
<dd><p>Emit <var class="var">count</var> random bytes of the given quality level 0, 1 or 2. If
<var class="var">count</var> is not given or zero, an endless sequence of random bytes
will be emitted.  If used with <samp class="option">--armor</samp> the output will be
base64 encoded.  The special level 16 uses a quality level of 1 and
outputs an endless stream of hex-encoded octets.  The special level
30 outputs random as 30 zBase-32 characters.
</p>
</dd>
<dt><a id="index-gen_002dprime"></a><span><code class="code">--gen-prime <var class="var">mode</var>  <var class="var">bits</var></code><a class="copiable-link" href="#index-gen_002dprime"> &para;</a></span></dt>
<dd><p>Use the source, Luke :-). The output format is subject to change
with any release.
</p>

</dd>
<dt><a class="index-entry-id" id="index-dearmor"></a>
<a id="index-enarmor"></a><span><code class="code">--enarmor</code><a class="copiable-link" href="#index-enarmor"> &para;</a></span></dt>
<dt><code class="code">--dearmor</code></dt>
<dd><p>Pack or unpack an arbitrary input into/from an OpenPGP ASCII armor.
This is a GnuPG extension to OpenPGP and in general not very useful.
The <samp class="option">--dearmor</samp> command can also be used to dearmor PEM armors.
</p>
</dd>
<dt><a id="index-unwrap"></a><span><code class="code">--unwrap</code><a class="copiable-link" href="#index-unwrap"> &para;</a></span></dt>
<dd><p>This option modifies the command <samp class="option">--decrypt</samp> to output the
original message with the encryption layer removed.  Thus the output
will be an OpenPGP data structure which often means a signed OpenPGP
message.  Note that this option may or may not remove a compression
layer which is often found beneath the encryption layer.
</p>
</dd>
<dt><a id="index-tofu_002dpolicy"></a><span><code class="code">--tofu-policy {auto|good|unknown|bad|ask}  <var class="var">keys</var></code><a class="copiable-link" href="#index-tofu_002dpolicy"> &para;</a></span></dt>
<dd><p>Set the TOFU policy for all the bindings associated with the specified
<var class="var">keys</var>.  For more information about the meaning of the policies,
see <a class="pxref" href="#trust_002dmodel_002dtofu">trust-model-tofu</a>.  The <var class="var">keys</var> may be specified either by their
fingerprint (preferred) or their keyid.
</p>

</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="OpenPGP-Key-Management">
<div class="nav-panel">
<p>
Previous: <a href="#Operational-GPG-Commands" accesskey="p" rel="prev">Commands to select the type of operation</a>, Up: <a href="#GPG-Commands" accesskey="u" rel="up">Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="How-to-manage-your-keys"><span>4.1.3 How to manage your keys<a class="copiable-link" href="#How-to-manage-your-keys"> &para;</a></span></h4>

<p>This section explains the main commands for key management.
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-quick_002dgen_002dkey"></a>
<a id="index-quick_002dgenerate_002dkey"></a><span><code class="code">--quick-generate-key <var class="var">user-id</var> [<var class="var">algo</var> [<var class="var">usage</var> [<var class="var">expire</var>]]]</code><a class="copiable-link" href="#index-quick_002dgenerate_002dkey"> &para;</a></span></dt>
<dt><code class="code">--quick-gen-key</code></dt>
<dd><p>This is a simple command to generate a standard key with one user id.
In contrast to <samp class="option">--generate-key</samp> the key is generated directly
without the need to answer a bunch of prompts.  Unless the option
<samp class="option">--yes</samp> is given, the key creation will be canceled if the
given user id already exists in the keyring.
</p>
<p>If invoked directly on the console without any special options an
answer to a &ldquo;Continue?&rdquo; style confirmation prompt is required.  In
case the user id already exists in the keyring a second prompt to
force the creation of the key will show up.
</p>
<p>If <var class="var">algo</var> or <var class="var">usage</var> are given, only the primary key is
created and no prompts are shown.  To specify an expiration date but
still create a primary and subkey use &ldquo;default&rdquo; or
&ldquo;future-default&rdquo; for <var class="var">algo</var> and &ldquo;default&rdquo; for <var class="var">usage</var>.
For a description of these optional arguments see the command
<code class="code">--quick-add-key</code>.  The <var class="var">usage</var> accepts also the value
&ldquo;cert&rdquo; which can be used to create a certification only primary key;
the default is to a create certification and signing key.
</p>
<p>The <var class="var">expire</var> argument can be used to specify an expiration date
for the key.  Several formats are supported; commonly the ISO formats
&ldquo;YYYY-MM-DD&rdquo; or &ldquo;YYYYMMDDThhmmss&rdquo; are used.  To make the key
expire in N seconds, N days, N weeks, N months, or N years use
&ldquo;seconds=N&rdquo;, &ldquo;Nd&rdquo;, &ldquo;Nw&rdquo;, &ldquo;Nm&rdquo;, or &ldquo;Ny&rdquo; respectively.  Not
specifying a value, or using &ldquo;-&rdquo; results in a key expiring in a
reasonable default interval.  The values &ldquo;never&rdquo;, &ldquo;none&rdquo; can be
used for no expiration date.
</p>
<p>If this command is used with <samp class="option">--batch</samp>,
<samp class="option">--pinentry-mode</samp> has been set to <code class="code">loopback</code>, and one of
the passphrase options (<samp class="option">--passphrase</samp>,
<samp class="option">--passphrase-fd</samp>, or <samp class="option">--passphrase-file</samp>) is used, the
supplied passphrase is used for the new key and the agent does not ask
for it.  To create a key without any protection <code class="code">--passphrase ''</code>
may be used.
</p>
<p>To create an OpenPGP key from the keys available on the currently
inserted smartcard, the special string &ldquo;card&rdquo; can be used for
<var class="var">algo</var>.  If the card features an encryption and a signing key, gpg
will figure them out and creates an OpenPGP key consisting of the
usual primary key and one subkey.  This works only with certain
smartcards.  Note that the interactive <samp class="option">--full-gen-key</samp> command
allows one to do the same but with greater flexibility in the selection of
the smartcard keys.
</p>
<p>Note that it is possible to create a primary key and a subkey using
non-default algorithms by using &ldquo;default&rdquo; and changing the default
parameters using the option <samp class="option">--default-new-key-algo</samp>.
</p>
</dd>
<dt><a id="index-quick_002dset_002dexpire"></a><span><code class="code">--quick-set-expire <var class="var">fpr</var> <var class="var">expire</var> [*|<var class="var">subfprs</var>]</code><a class="copiable-link" href="#index-quick_002dset_002dexpire"> &para;</a></span></dt>
<dd><p>With two arguments given, directly set the expiration time of the
primary key identified by <var class="var">fpr</var> to <var class="var">expire</var>.  To remove the
expiration time <code class="code">0</code> can be used.  With three arguments and the
third given as an asterisk, the expiration time of all non-revoked and
not yet expired subkeys are set to <var class="var">expire</var>.  With more than two
arguments and a list of fingerprints given for <var class="var">subfprs</var>, all
non-revoked subkeys matching these fingerprints are set to
<var class="var">expire</var>.
</p>

</dd>
<dt><a id="index-quick_002dadd_002dkey"></a><span><code class="code">--quick-add-key <var class="var">fpr</var> [<var class="var">algo</var> [<var class="var">usage</var> [<var class="var">expire</var>]]]</code><a class="copiable-link" href="#index-quick_002dadd_002dkey"> &para;</a></span></dt>
<dd><p>Directly add a subkey to the key identified by the fingerprint
<var class="var">fpr</var>.  Without the optional arguments an encryption subkey is
added.  If any of the arguments are given a more specific subkey is
added.
</p>
<p><var class="var">algo</var> may be any of the supported algorithms or curve names
given in the format as used by key listings.  To use the default
algorithm the string &ldquo;default&rdquo; or &ldquo;-&rdquo; can be used.  Supported
algorithms are &ldquo;rsa&rdquo;, &ldquo;dsa&rdquo;, &ldquo;elg&rdquo;, &ldquo;ed25519&rdquo;, &ldquo;cv25519&rdquo;,
and other ECC curves.  For example the string &ldquo;rsa&rdquo; adds an RSA key
with the default key length; a string &ldquo;rsa4096&rdquo; requests that the
key length is 4096 bits.  The string &ldquo;future-default&rdquo; is an alias
for the algorithm which will likely be used as default algorithm in
future versions of gpg.  To list the supported ECC curves the command
<code class="code">gpg --with-colons --list-config curve</code> can be used.
</p>
<p>Depending on the given <var class="var">algo</var> the subkey may either be an
encryption subkey or a signing subkey.  If an algorithm is capable of
signing and encryption and such a subkey is desired, a <var class="var">usage</var>
string must be given.  This string is either &ldquo;default&rdquo; or &ldquo;-&rdquo; to
keep the default or a comma delimited list (or space delimited list)
of keywords: &ldquo;sign&rdquo; for a signing subkey, &ldquo;auth&rdquo; for an
authentication subkey, and &ldquo;encr&rdquo; for an encryption subkey
(&ldquo;encrypt&rdquo; can be used as alias for &ldquo;encr&rdquo;).  The valid
combinations depend on the algorithm.
</p>
<p>The <var class="var">expire</var> argument can be used to specify an expiration date
for the key.  Several formats are supported; commonly the ISO formats
&ldquo;YYYY-MM-DD&rdquo; or &ldquo;YYYYMMDDThhmmss&rdquo; are used.  To make the key
expire in N seconds, N days, N weeks, N months, or N years use
&ldquo;seconds=N&rdquo;, &ldquo;Nd&rdquo;, &ldquo;Nw&rdquo;, &ldquo;Nm&rdquo;, or &ldquo;Ny&rdquo; respectively.  Not
specifying a value, or using &ldquo;-&rdquo; results in a key expiring in a
reasonable default interval.  The values &ldquo;never&rdquo;, &ldquo;none&rdquo; can be
used for no expiration date.
</p>
</dd>
<dt><a id="index-quick_002dadd_002dadsk"></a><span><code class="code">--quick-add-adsk <var class="var">fpr</var> <var class="var">adskfpr</var></code><a class="copiable-link" href="#index-quick_002dadd_002dadsk"> &para;</a></span></dt>
<dd><p>Directly add an Additional Decryption Subkey to the key identified by
the fingerprint <var class="var">fpr</var>.  <var class="var">adskfpr</var> is the fingerprint of
another key&rsquo;s encryption subkey.  A subkey is commonly used here
because by default a primary key has no encryption capability.  Use
the option <samp class="option">--with-subkey-fingerprint</samp> with a list command to
display the subkey fingerprints.
</p>
</dd>
<dt><a id="index-gen_002dkey"></a><span><code class="code">--generate-key</code><a class="copiable-link" href="#index-gen_002dkey"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-generate_002dkey"></a>
</dd>
<dt><code class="code">--gen-key</code></dt>
<dd><p>Generate a new key pair using the current default parameters.  This is
the standard command to create a new key.  In addition to the key a
revocation certificate is created and stored in the
<samp class="file">openpgp-revocs.d</samp> directory below the GnuPG home directory.
</p>
</dd>
<dt><a id="index-full_002dgen_002dkey"></a><span><code class="code">--full-generate-key</code><a class="copiable-link" href="#index-full_002dgen_002dkey"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-full_002dgenerate_002dkey"></a>
</dd>
<dt><code class="code">--full-gen-key</code></dt>
<dd><p>Generate a new key pair with dialogs for all options.  This is an
extended version of <samp class="option">--generate-key</samp>.
</p>
<p>There is also a feature which allows you to create keys in batch
mode. See the manual section &ldquo;Unattended key generation&rdquo; on how
to use this.
</p>

</dd>
<dt><a id="index-gen_002drevoke"></a><span><code class="code">--generate-revocation <var class="var">name</var></code><a class="copiable-link" href="#index-gen_002drevoke"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-generate_002drevocation"></a>
</dd>
<dt><code class="code">--gen-revoke <var class="var">name</var></code></dt>
<dd><p>Generate a revocation certificate for the complete key.  To only revoke
a subkey or a key signature, use the <samp class="option">--edit</samp> command.
</p>
<p>This command merely creates the revocation certificate so that it can
be used to revoke the key if that is ever needed.  To actually revoke
a key the created revocation certificate needs to be merged with the
key to revoke.  This is done by importing the revocation certificate
using the <samp class="option">--import</samp> command.  Then the revoked key needs to be
published, which is best done by sending the key to a keyserver
(command <samp class="option">--send-key</samp>) and by exporting (<samp class="option">--export</samp>) it
to a file which is then send to frequent communication partners.
</p>

</dd>
<dt><a id="index-desig_002drevoke"></a><span><code class="code">--generate-designated-revocation <var class="var">name</var></code><a class="copiable-link" href="#index-desig_002drevoke"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-generate_002ddesignated_002drevocation"></a>
</dd>
<dt><code class="code">--desig-revoke <var class="var">name</var></code></dt>
<dd><p>Generate a designated revocation certificate for a key. This allows a
user (with the permission of the keyholder) to revoke someone else&rsquo;s
key.
</p>

</dd>
<dt><a id="index-edit_002dkey"></a><span><code class="code">--edit-key</code><a class="copiable-link" href="#index-edit_002dkey"> &para;</a></span></dt>
<dd><p>Present a menu which enables you to do most of the key management
related tasks.  It expects the specification of a key on the command
line.
</p>
<dl class="table">
<dt>uid <var class="var">n</var></dt>
<dd><a class="index-entry-id" id="index-keyedit_003auid"></a>
<p>Toggle selection of user ID or photographic user ID with index <var class="var">n</var>.
  Use <code class="code">*</code> to select all and <code class="code">0</code> to deselect all.
</p>
</dd>
<dt>key <var class="var">n</var></dt>
<dd><a class="index-entry-id" id="index-keyedit_003akey"></a>
<p>Toggle selection of subkey with index <var class="var">n</var> or key ID <var class="var">n</var>.
  Use <code class="code">*</code> to select all and <code class="code">0</code> to deselect all.
</p>
</dd>
<dt>sign</dt>
<dd><a class="index-entry-id" id="index-keyedit_003asign"></a>
<p>Make a signature on key of user <code class="code">name</code>. If the key is not yet
  signed by the default user (or the users given with <samp class="option">-u</samp>), the program
  displays the information of the key again, together with its
  fingerprint and asks whether it should be signed. This question is
  repeated for all users specified with
  <samp class="option">-u</samp>.
</p>
</dd>
<dt>lsign</dt>
<dd><a class="index-entry-id" id="index-keyedit_003alsign"></a>
<p>Same as &quot;sign&quot; but the signature is marked as non-exportable and will
  therefore never be used by others. This may be used to make keys
  valid only in the local environment.
</p>
</dd>
<dt>nrsign</dt>
<dd><a class="index-entry-id" id="index-keyedit_003anrsign"></a>
<p>Same as &quot;sign&quot; but the signature is marked as non-revocable and can
  therefore never be revoked.
</p>
</dd>
<dt>tsign</dt>
<dd><a class="index-entry-id" id="index-keyedit_003atsign"></a>
<p>Make a trust signature. This is a signature that combines the notions
  of certification (like a regular signature), and trust (like the
  &quot;trust&quot; command). It is generally useful in distinct communities
  or groups to implement the concept of a Trusted Introducer.  For
  more information please read the sections &ldquo;Trust Signature&rdquo; and
  &ldquo;Regular Expression&rdquo; in RFC-4880.
</p></dd>
</dl>

<p>Note that &quot;l&quot; (for local / non-exportable), &quot;nr&quot; (for non-revocable,
and &quot;t&quot; (for trust) may be freely mixed and prefixed to &quot;sign&quot; to
create a signature of any type desired.
</p>
<p>If the option <samp class="option">--only-sign-text-ids</samp> is specified, then any
non-text based user ids (e.g., photo IDs) will not be selected for
signing.
</p>
<dl class="table">
<dt>delsig</dt>
<dd><a class="index-entry-id" id="index-keyedit_003adelsig"></a>
<p>Delete a signature. Note that it is not possible to retract a signature,
  once it has been send to the public (i.e. to a keyserver).  In that case
  you better use <code class="code">revsig</code>.
</p>
</dd>
<dt>revsig</dt>
<dd><a class="index-entry-id" id="index-keyedit_003arevsig"></a>
<p>Revoke a signature. For every signature which has been generated by
  one of the secret keys, GnuPG asks whether a revocation certificate
  should be generated.
</p>
</dd>
<dt>check</dt>
<dd><a class="index-entry-id" id="index-keyedit_003acheck"></a>
<p>Check the signatures on all selected user IDs.  With the extra
  option <code class="code">selfsig</code> only self-signatures are shown.
</p>
</dd>
<dt>adduid</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aadduid"></a>
<p>Create an additional user ID.
</p>
</dd>
<dt>addphoto</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aaddphoto"></a>
<p>Create a photographic user ID. This will prompt for a JPEG file that
  will be embedded into the user ID. Note that a very large JPEG will make
  for a very large key. Also note that some programs will display your
  JPEG unchanged (GnuPG), and some programs will scale it to fit in a
  dialog box (PGP).
</p>
</dd>
<dt>showphoto</dt>
<dd><a class="index-entry-id" id="index-keyedit_003ashowphoto"></a>
<p>Display the selected photographic user ID.
</p>
</dd>
<dt>deluid</dt>
<dd><a class="index-entry-id" id="index-keyedit_003adeluid"></a>
<p>Delete a user ID or photographic user ID.  Note that it is not
  possible to retract a user id, once it has been send to the public
  (i.e. to a keyserver).  In that case you better use <code class="code">revuid</code>.
</p>
</dd>
<dt>revuid</dt>
<dd><a class="index-entry-id" id="index-keyedit_003arevuid"></a>
<p>Revoke a user ID or photographic user ID.
</p>
</dd>
<dt>primary</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aprimary"></a>
<p>Flag the current user id as the primary one, removes the primary user
  id flag from all other user ids and sets the timestamp of all affected
  self-signatures one second ahead. Note that setting a photo user ID
  as primary makes it primary over other photo user IDs, and setting a
  regular user ID as primary makes it primary over other regular user
  IDs.
</p>
</dd>
<dt>keyserver</dt>
<dd><a class="index-entry-id" id="index-keyedit_003akeyserver"></a>
<p>Set a preferred keyserver for the specified user ID(s). This allows
  other users to know where you prefer they get your key from. See
  <samp class="option">--keyserver-options honor-keyserver-url</samp> for more on how this
  works.  Setting a value of &quot;none&quot; removes an existing preferred
  keyserver.
</p>
</dd>
<dt>notation</dt>
<dd><a class="index-entry-id" id="index-keyedit_003anotation"></a>
<p>Set a name=value notation for the specified user ID(s). See
  <samp class="option">--cert-notation</samp> for more on how this works. Setting a value of
  &quot;none&quot; removes all notations, setting a notation prefixed with a minus
  sign (-) removes that notation, and setting a notation name (without the
  =value) prefixed with a minus sign removes all notations with that name.
</p>
</dd>
<dt>pref</dt>
<dd><a class="index-entry-id" id="index-keyedit_003apref"></a>
<p>List preferences from the selected user ID. This shows the actual
  preferences, without including any implied preferences.
</p>
</dd>
<dt>showpref</dt>
<dd><a class="index-entry-id" id="index-keyedit_003ashowpref"></a>
<p>More verbose preferences listing for the selected user ID. This shows
  the preferences in effect by including the implied preferences of 3DES
  (cipher), SHA-1 (digest), and Uncompressed (compression) if they are
  not already included in the preference list. In addition, the
  preferred keyserver and signature notations (if any) are shown.
</p>
</dd>
<dt>setpref <var class="var">string</var></dt>
<dd><a class="index-entry-id" id="index-keyedit_003asetpref"></a>
<p>Set the list of user ID preferences to <var class="var">string</var> for all (or just
  the selected) user IDs. Calling setpref with no arguments sets the
  preference list to the default (either built-in or set via
  <samp class="option">--default-preference-list</samp>), and calling setpref with &quot;none&quot;
  as the argument sets an empty preference list. Use <code class="command">gpg
  --version</code> to get a list of available algorithms. Note that while you
  can change the preferences on an attribute user ID (aka &quot;photo ID&quot;),
  GnuPG does not select keys via attribute user IDs so these preferences
  will not be used by GnuPG.  Note that an unattended version of this
  command is available as <samp class="option">--quick-update-pref</samp>.
</p>
<p>When setting preferences, you should list the algorithms in the order
  which you&rsquo;d like to see them used by someone else when encrypting a
  message to your key.  If you don&rsquo;t include 3DES, it will be
  automatically added at the end.  Note that there are many factors that
  go into choosing an algorithm (for example, your key may not be the
  only recipient), and so the remote OpenPGP application being used to
  send to you may or may not follow your exact chosen order for a given
  message.  It will, however, only choose an algorithm that is present
  on the preference list of every recipient key.  See also the
  INTEROPERABILITY WITH OTHER OPENPGP PROGRAMS section below.
</p>
</dd>
<dt>addkey</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aaddkey"></a>
<p>Add a subkey to this key.
</p>
</dd>
<dt>addcardkey</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aaddcardkey"></a>
<p>Generate a subkey on a card and add it to this key.
</p>
</dd>
<dt>keytocard</dt>
<dd><a class="index-entry-id" id="index-keyedit_003akeytocard"></a>
<p>Transfer the selected secret subkey (or the primary key if no subkey
  has been selected) to a smartcard. The secret key in the keyring will
  be replaced by a stub if the key could be stored successfully on the
  card and you use the save command later. Only certain key types may be
  transferred to the card. A sub menu allows you to select on what card
  to store the key. Note that it is not possible to get that key back
  from the card - if the card gets broken your secret key will be lost
  unless you have a backup somewhere.
</p>
</dd>
<dt>bkuptocard <var class="var">file</var></dt>
<dd><a class="index-entry-id" id="index-keyedit_003abkuptocard"></a>
<p>Restore the given <var class="var">file</var> to a card. This command may be used to restore a
  backup key (as generated during card initialization) to a new card. In
  almost all cases this will be the encryption key. You should use this
  command only with the corresponding public key and make sure that the
  file given as argument is indeed the backup to restore. You should then
  select 2 to restore as encryption key.  You will first be asked to enter
  the passphrase of the backup key and then for the Admin PIN of the card.
</p>
</dd>
<dt>keytotpm</dt>
<dd><a class="index-entry-id" id="index-keyedit_003akeytotpm"></a>
<p>Transfer the selected secret subkey (or the primary key if no subkey
  has been selected) to TPM form.  The secret key in the keyring will
  be replaced by the TPM representation of that key, which can only be
  read by the particular TPM that created it (so the keyfile now
  becomes locked to the laptop containing the TPM).  Only certain key
  types may be transferred to the TPM (all TPM 2.0 systems are
  mandated to have the rsa2048 and nistp256 algorithms but newer TPMs
  may have more). Note that the key itself is not transferred into the
  TPM, merely encrypted by the TPM in-place, so if the keyfile is
  deleted, the key will be lost.  Once transferred to TPM
  representation, the key file can never be converted back to non-TPM
  form and the key will die when the TPM does, so you should first
  have a backup on secure offline storage of the actual secret key
  file before conversion.  It is essential to use the physical system
  TPM that you have rw permission on the TPM resource manager device
  (/dev/tpmrm0).  Usually this means you must be a member of the tss
  group.
</p>
</dd>
<dt>delkey</dt>
<dd><a class="index-entry-id" id="index-keyedit_003adelkey"></a>
<p>Remove a subkey (secondary key). Note that it is not possible to retract
  a subkey, once it has been send to the public (i.e. to a keyserver).  In
  that case you better use <code class="code">revkey</code>.  Also note that this only
  deletes the public part of a key.
</p>
</dd>
<dt>revkey</dt>
<dd><a class="index-entry-id" id="index-keyedit_003arevkey"></a>
<p>Revoke a subkey.
</p>
</dd>
<dt>expire</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aexpire"></a>
<p>Change the key or subkey expiration time. If a subkey is selected, the
  expiration time of this subkey will be changed. With no selection, the
  key expiration of the primary key is changed.
</p>
</dd>
<dt>trust</dt>
<dd><a class="index-entry-id" id="index-keyedit_003atrust"></a>
<p>Change the owner trust value for the key. This updates the trust-db
  immediately and no save is required.
</p>
</dd>
<dt>disable</dt>
<dt>enable</dt>
<dd><a class="index-entry-id" id="index-keyedit_003adisable"></a>
<a class="index-entry-id" id="index-keyedit_003aenable"></a>
<p>Disable or enable an entire key. A disabled key can not normally be
  used for encryption.
</p>
</dd>
<dt>addrevoker</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aaddrevoker"></a>
<p>Add a designated revoker to the key. This takes one optional argument:
  &quot;sensitive&quot;. If a designated revoker is marked as sensitive, it will
  not be exported by default (see export-options).
</p>
</dd>
<dt>addadsk</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aaddadsk"></a>
<p>Add an Additional Decryption Subkey.  The user is asked to enter the
  fingerprint of another encryption subkey.  Note that the exact
  fingerprint of another key&rsquo;s encryption subkey needs to be entered.
  This is because commonly the primary key has no encryption
  capability.  Use the option <samp class="option">--with-subkey-fingerprint</samp> with
  a list command to display the subkey fingerprints.
</p>
</dd>
<dt>passwd</dt>
<dd><a class="index-entry-id" id="index-keyedit_003apasswd"></a>
<p>Change the passphrase of the secret key.
</p>
</dd>
<dt>toggle</dt>
<dd><a class="index-entry-id" id="index-keyedit_003atoggle"></a>
<p>This is dummy command which exists only for backward compatibility.
</p>
</dd>
<dt>clean</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aclean"></a>
<p>Compact (by removing all signatures except the selfsig) any user ID
  that is no longer usable (e.g. revoked, or expired). Then, remove any
  signatures that are not usable by the trust calculations.
  Specifically, this removes any signature that does not validate, any
  signature that is superseded by a later signature, revoked signatures,
  and signatures issued by keys that are not present on the keyring.
</p>
</dd>
<dt>minimize</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aminimize"></a>
<p>Make the key as small as possible. This removes all signatures from
  each user ID except for the most recent self-signature.
</p>
</dd>
<dt>change-usage</dt>
<dd><a class="index-entry-id" id="index-keyedit_003achange_002dusage"></a>
<p>Change the usage flags (capabilities) of the primary key or of
  subkeys.  These usage flags (e.g. Certify, Sign, Authenticate,
  Encrypt) are set during key creation.  Sometimes it is useful to
  have the opportunity to change them (for example to add
  Authenticate) after they have been created.  Please take care when
  doing this; the allowed usage flags depend on the key algorithm.
</p>
</dd>
<dt>cross-certify</dt>
<dd><a class="index-entry-id" id="index-keyedit_003across_002dcertify"></a>
<p>Add cross-certification signatures to signing subkeys that may not
  currently have them. Cross-certification signatures protect against a
  subtle attack against signing subkeys. See
  <samp class="option">--require-cross-certification</samp>.  All new keys generated have
  this signature by default, so this command is only useful to bring
  older keys up to date.
</p>
</dd>
<dt>save</dt>
<dd><a class="index-entry-id" id="index-keyedit_003asave"></a>
<p>Save all changes to the keyring and quit.
</p>
</dd>
<dt>quit</dt>
<dd><a class="index-entry-id" id="index-keyedit_003aquit"></a>
<p>Quit the program without updating the
  keyring.
</p></dd>
</dl>

<p>The listing shows you the key with its secondary keys and all user
IDs.  The primary user ID is indicated by a dot, and selected keys or
user IDs are indicated by an asterisk.  The trust
value is displayed with the primary key: &quot;trust&quot; is the assigned owner
trust and &quot;validity&quot; is the calculated validity of the key.  Validity
values are also displayed for all user IDs.
For possible values of trust, see <a class="pxref" href="#trust_002dvalues">trust-values</a>.
</p>
</dd>
<dt><a id="index-sign_002dkey"></a><span><code class="code">--sign-key <var class="var">name</var></code><a class="copiable-link" href="#index-sign_002dkey"> &para;</a></span></dt>
<dd><p>Signs a public key with your secret key. This is a shortcut version of
the subcommand &quot;sign&quot; from <samp class="option">--edit-key</samp>.
</p>
</dd>
<dt><a id="index-lsign_002dkey"></a><span><code class="code">--lsign-key <var class="var">name</var></code><a class="copiable-link" href="#index-lsign_002dkey"> &para;</a></span></dt>
<dd><p>Signs a public key with your secret key but marks it as
non-exportable. This is a shortcut version of the subcommand &quot;lsign&quot;
from <samp class="option">--edit-key</samp>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-quick_002dlsign_002dkey"></a>
<a id="index-quick_002dsign_002dkey"></a><span><code class="code">--quick-sign-key <var class="var">fpr</var> [<var class="var">names</var>]</code><a class="copiable-link" href="#index-quick_002dsign_002dkey"> &para;</a></span></dt>
<dt><code class="code">--quick-lsign-key <var class="var">fpr</var> [<var class="var">names</var>]</code></dt>
<dd><p>Directly sign a key from the passphrase without any further user
interaction.  The <var class="var">fpr</var> must be the verified primary fingerprint
of a key in the local keyring. If no <var class="var">names</var> are given, all
useful user ids are signed; with given [<var class="var">names</var>] only useful user
ids matching one of these names are signed.  By default, or if a name
is prefixed with a &rsquo;*&rsquo;, a case insensitive substring match is used.
If a name is prefixed with a &rsquo;=&rsquo; a case sensitive exact match is done.
</p>
<p>The command <samp class="option">--quick-lsign-key</samp> marks the signatures as
non-exportable.  If such a non-exportable signature already exists the
<samp class="option">--quick-sign-key</samp> turns it into a exportable signature.  If
you need to update an existing signature, for example to add or change
notation data, you need to use the option <samp class="option">--force-sign-key</samp>.
</p>
<p>This command uses reasonable defaults and thus does not provide the
full flexibility of the &quot;sign&quot; subcommand from <samp class="option">--edit-key</samp>.
Its intended use is to help unattended key signing by utilizing a list
of verified fingerprints.
</p>
</dd>
<dt><a id="index-quick_002dadd_002duid"></a><span><code class="code">--quick-add-uid  <var class="var">user-id</var> <var class="var">new-user-id</var></code><a class="copiable-link" href="#index-quick_002dadd_002duid"> &para;</a></span></dt>
<dd><p>This command adds a new user id to an existing key.  In contrast to
the interactive sub-command <code class="code">adduid</code> of <samp class="option">--edit-key</samp> the
<var class="var">new-user-id</var> is added verbatim with only leading and trailing
white space removed, it is expected to be UTF-8 encoded, and no checks
on its form are applied.
</p>
</dd>
<dt><a id="index-quick_002drevoke_002duid"></a><span><code class="code">--quick-revoke-uid  <var class="var">user-id</var> <var class="var">user-id-to-revoke</var></code><a class="copiable-link" href="#index-quick_002drevoke_002duid"> &para;</a></span></dt>
<dd><p>This command revokes a user ID on an existing key.  It cannot be used
to revoke the last user ID on key (some non-revoked user ID must
remain), with revocation reason &ldquo;User ID is no longer valid&rdquo;.  If
you want to specify a different revocation reason, or to supply
supplementary revocation text, you should use the interactive
sub-command <code class="code">revuid</code> of <samp class="option">--edit-key</samp>.
</p>
</dd>
<dt><a id="index-quick_002drevoke_002dsig"></a><span><code class="code">--quick-revoke-sig  <var class="var">fpr</var> <var class="var">signing-fpr</var> [<var class="var">names</var>]</code><a class="copiable-link" href="#index-quick_002drevoke_002dsig"> &para;</a></span></dt>
<dd><p>This command revokes the key signatures made by <var class="var">signing-fpr</var> from
the key specified by the fingerprint <var class="var">fpr</var>.  With <var class="var">names</var>
given only the signatures on user ids of the key matching any of the
given names are affected (see <samp class="option">--quick-sign-key</samp>).  If a
revocation already exists a notice is printed instead of creating a
new revocation; no error is returned in this case.  Note that key
signature revocations may be superseded by a newer key signature and
in turn again revoked.
</p>
</dd>
<dt><a id="index-quick_002dset_002dprimary_002duid"></a><span><code class="code">--quick-set-primary-uid  <var class="var">user-id</var> <var class="var">primary-user-id</var></code><a class="copiable-link" href="#index-quick_002dset_002dprimary_002duid"> &para;</a></span></dt>
<dd><p>This command sets or updates the primary user ID flag on an existing
key.  <var class="var">user-id</var> specifies the key and <var class="var">primary-user-id</var> the
user ID which shall be flagged as the primary user ID.  The primary
user ID flag is removed from all other user ids and the timestamp of
all affected self-signatures is set one second ahead.
</p>
</dd>
<dt><a id="index-quick_002dupdate_002dpref"></a><span><code class="code">--quick-update-pref  <var class="var">user-id</var></code><a class="copiable-link" href="#index-quick_002dupdate_002dpref"> &para;</a></span></dt>
<dd><p>This command updates the preference list of the key to the current
default value (either built-in or set via
<samp class="option">--default-preference-list</samp>).  This is the unattended version
of of using &quot;setpref&quot; in the <samp class="option">--key-edit</samp> menu without giving a
list.  Note that you can show the preferences in a key listing by
using <samp class="option">--list-options show-pref</samp> or <samp class="option">--list-options
show-pref-verbose</samp>.  You should also re-distribute updated keys to
your peers.
</p>
</dd>
<dt><a id="index-passwd"></a><span><code class="code">--change-passphrase <var class="var">user-id</var></code><a class="copiable-link" href="#index-passwd"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-change_002dpassphrase"></a>
</dd>
<dt><code class="code">--passwd <var class="var">user-id</var></code></dt>
<dd><p>Change the passphrase of the secret key belonging to the certificate
specified as <var class="var">user-id</var>.  This is a shortcut for the sub-command
<code class="code">passwd</code> of the <samp class="option">--edit-key</samp> menu.  When using together with the
option <samp class="option">--dry-run</samp> this will not actually change the passphrase
but check that the current passphrase is correct.
</p>
</dd>
</dl>



<hr>
</div>
</div>
<div class="section-level-extent" id="GPG-Options">
<div class="nav-panel">
<p>
Next: <a href="#GPG-Configuration" accesskey="n" rel="next">Configuration files</a>, Previous: <a href="#GPG-Commands" accesskey="p" rel="prev">Commands</a>, Up: <a href="#Invoking-GPG" accesskey="u" rel="up">Invoking GPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Option-Summary-2"><span>4.2 Option Summary<a class="copiable-link" href="#Option-Summary-2"> &para;</a></span></h3>

<p><code class="command">gpg</code> features a bunch of options to control the exact
behaviour and to change the default configuration.
</p>

<p>Long options can be put in an options file (default
&quot;~/.gnupg/gpg.conf&quot;). Short option names will not work - for example,
&quot;armor&quot; is a valid option for the options file, while &quot;a&quot; is not. Do not
write the 2 dashes, but simply the name of the option and any required
arguments. Lines with a hash (&rsquo;#&rsquo;) as the first non-white-space
character are ignored. Commands may be put in this file too, but that is
not generally useful as the command will execute automatically with
every execution of gpg.
</p>
<p>Please remember that option parsing stops as soon as a non-option is
encountered, you can explicitly stop parsing by using the special option
<samp class="option">--</samp>.
</p>
<ul class="mini-toc">
<li><a href="#GPG-Configuration-Options" accesskey="1">How to change the configuration</a></li>
<li><a href="#GPG-Key-related-Options" accesskey="2">Key related options</a></li>
<li><a href="#GPG-Input-and-Output" accesskey="3">Input and Output</a></li>
<li><a href="#OpenPGP-Options" accesskey="4">OpenPGP protocol specific options</a></li>
<li><a href="#Compliance-Options" accesskey="5">Compliance options</a></li>
<li><a href="#GPG-Esoteric-Options" accesskey="6">Doing things one usually doesn&rsquo;t want to do</a></li>
<li><a href="#Deprecated-Options" accesskey="7">Deprecated options</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="GPG-Configuration-Options">
<div class="nav-panel">
<p>
Next: <a href="#GPG-Key-related-Options" accesskey="n" rel="next">Key related options</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="How-to-change-the-configuration"><span>4.2.1 How to change the configuration<a class="copiable-link" href="#How-to-change-the-configuration"> &para;</a></span></h4>

<p>These options are used to change the configuration and most of them
are usually found in the option file.
</p>
<dl class="table">
<dt><a id="index-default_002dkey"></a><span><code class="code">--default-key <var class="var">name</var></code><a class="copiable-link" href="#index-default_002dkey"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as the default key to sign with.  It is suggested to
use a fingerprint or at least a long keyID for <var class="var">name</var>.  If this
option is not used, the default key is the first key found in the
secret keyring.  Note that <samp class="option">-u</samp> or <samp class="option">--local-user</samp>
overrides this option.  This option may be given multiple times.  In
this case, the last key for which a secret key is available is used.
If there is no secret key available for any of the specified values,
GnuPG will not emit an error message but continue as if this option
wasn&rsquo;t given.
</p>

</dd>
<dt><a id="index-default_002drecipient"></a><span><code class="code">--default-recipient <var class="var">name</var></code><a class="copiable-link" href="#index-default_002drecipient"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as default recipient if option <samp class="option">--recipient</samp> is
not used and don&rsquo;t ask if this is a valid one. <var class="var">name</var> must be
non-empty and it is suggested to use a fingerprint for <var class="var">name</var>.
</p>
</dd>
<dt><a id="index-default_002drecipient_002dself"></a><span><code class="code">--default-recipient-self</code><a class="copiable-link" href="#index-default_002drecipient_002dself"> &para;</a></span></dt>
<dd><p>Use the default key as default recipient if option <samp class="option">--recipient</samp> is not
used and don&rsquo;t ask if this is a valid one. The default key is the first
one from the secret keyring or the one set with <samp class="option">--default-key</samp>.
</p>
</dd>
<dt><a id="index-no_002ddefault_002drecipient"></a><span><code class="code">--no-default-recipient</code><a class="copiable-link" href="#index-no_002ddefault_002drecipient"> &para;</a></span></dt>
<dd><p>Reset <samp class="option">--default-recipient</samp> and <samp class="option">--default-recipient-self</samp>.
Should not be used in an option file.
</p>
</dd>
<dt><a id="index-verbose-2"></a><span><code class="code">-v, --verbose</code><a class="copiable-link" href="#index-verbose-2"> &para;</a></span></dt>
<dd><p>Give more information during processing. If used
twice, the input data is listed in detail.
</p>
</dd>
<dt><a id="index-no_002dverbose"></a><span><code class="code">--no-verbose</code><a class="copiable-link" href="#index-no_002dverbose"> &para;</a></span></dt>
<dd><p>Reset verbose level to 0.  Should not be used in an option file.
</p>
</dd>
<dt><a id="index-quiet-1"></a><span><code class="code">-q, --quiet</code><a class="copiable-link" href="#index-quiet-1"> &para;</a></span></dt>
<dd><p>Try to be as quiet as possible.  Should not be used in an option file.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002dbatch"></a>
<a id="index-batch-1"></a><span><code class="code">--batch</code><a class="copiable-link" href="#index-batch-1"> &para;</a></span></dt>
<dt><code class="code">--no-batch</code></dt>
<dd><p>Use batch mode.  Never ask, do not allow interactive commands.
<samp class="option">--no-batch</samp> disables this option.  Note that even with a
filename given on the command line, gpg might still need to read from
STDIN (in particular if gpg figures that the input is a
detached signature and no data file has been specified).  Thus if you
do not want to feed data via STDIN, you should connect STDIN to
<samp class="file">/dev/null</samp>.
</p>
<p>It is highly recommended to use this option along with the options
<samp class="option">--status-fd</samp> and <samp class="option">--with-colons</samp> for any unattended use of
<code class="command">gpg</code>.  Should not be used in an option file.
</p>
</dd>
<dt><a id="index-no_002dtty"></a><span><code class="code">--no-tty</code><a class="copiable-link" href="#index-no_002dtty"> &para;</a></span></dt>
<dd><p>Make sure that the TTY (terminal) is never used for any output.
This option is needed in some cases because GnuPG sometimes prints
warnings to the TTY even if <samp class="option">--batch</samp> is used.
</p>
</dd>
<dt><a id="index-yes"></a><span><code class="code">--yes</code><a class="copiable-link" href="#index-yes"> &para;</a></span></dt>
<dd><p>Assume &quot;yes&quot; on most questions.  Should not be used in an option file.
</p>
</dd>
<dt><a id="index-no"></a><span><code class="code">--no</code><a class="copiable-link" href="#index-no"> &para;</a></span></dt>
<dd><p>Assume &quot;no&quot; on most questions.  Should not be used in an option file.
</p>

</dd>
<dt><a id="index-list_002dfilter"></a><span><code class="code">--list-filter {select=<var class="var">expr</var>}</code><a class="copiable-link" href="#index-list_002dfilter"> &para;</a></span></dt>
<dd><p>A list filter can be used to output only certain keys during key
listing commands. For the available property names, see the description
of <samp class="option">--import-filter</samp>.
</p>

</dd>
<dt><a id="index-list_002doptions"></a><span><code class="code">--list-options <var class="var">parameters</var></code><a class="copiable-link" href="#index-list_002doptions"> &para;</a></span></dt>
<dd><p>This is a space or comma delimited string that gives options used when
listing keys and signatures (that is, <samp class="option">--list-keys</samp>,
<samp class="option">--check-signatures</samp>, <samp class="option">--list-public-keys</samp>,
<samp class="option">--list-secret-keys</samp>, and the <samp class="option">--edit-key</samp> functions).
Options can be prepended with a <samp class="option">no-</samp> (after the two dashes) to
give the opposite meaning.  The options are:
</p>
<dl class="table">
<dt>show-photos</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dphotos"></a>
<p>Causes <samp class="option">--list-keys</samp>, <samp class="option">--check-signatures</samp>,
  <samp class="option">--list-public-keys</samp>, and <samp class="option">--list-secret-keys</samp> to
  display any photo IDs attached to the key.  Defaults to no. See also
  <samp class="option">--photo-viewer</samp>.  Does not work with <samp class="option">--with-colons</samp>:
  see <samp class="option">--attribute-fd</samp> for the appropriate way to get photo data
  for scripts and other frontends.
</p>
</dd>
<dt>show-usage</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dusage"></a>
<p>Show usage information for keys and subkeys in the standard key
  listing.  This is a list of letters indicating the allowed usage for a
  key (<code class="code">E</code>=encryption, <code class="code">S</code>=signing, <code class="code">C</code>=certification,
  <code class="code">A</code>=authentication).  Defaults to yes.
</p>
</dd>
<dt>show-policy-urls</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dpolicy_002durls"></a>
<p>Show policy URLs in the  <samp class="option">--check-signatures</samp>
  listings.  Defaults to no.
</p>
</dd>
<dt>show-notations</dt>
<dt>show-std-notations</dt>
<dt>show-user-notations</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dnotations"></a>
<a class="index-entry-id" id="index-list_002doptions_003ashow_002dstd_002dnotations"></a>
<a class="index-entry-id" id="index-list_002doptions_003ashow_002duser_002dnotations"></a>
<p>Show all, IETF standard, or user-defined signature notations in the
  <samp class="option">--check-signatures</samp> listings. Defaults to no.
</p>
</dd>
<dt>show-keyserver-urls</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dkeyserver_002durls"></a>
<p>Show any preferred keyserver URL in the
  <samp class="option">--check-signatures</samp> listings. Defaults to no.
</p>
</dd>
<dt>show-uid-validity</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002duid_002dvalidity"></a>
<p>Display the calculated validity of user IDs during key listings.
  Defaults to yes.
</p>
</dd>
<dt>show-unusable-uids</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dunusable_002duids"></a>
<p>Show revoked and expired user IDs in key listings. Defaults to no.
</p>
</dd>
<dt>show-unusable-subkeys</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dunusable_002dsubkeys"></a>
<p>Show revoked and expired subkeys in key listings. Defaults to no.
</p>
</dd>
<dt>show-unusable-sigs</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dunusable_002dsigs"></a>
<p>Show key signature made using weak or unsupported algorithms.
</p>
</dd>
<dt>show-keyring</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dkeyring"></a>
<p>Display the keyring name at the head of key listings to show which
  keyring a given key resides on. Defaults to no.
</p>
</dd>
<dt>show-sig-expire</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dsig_002dexpire"></a>
<p>Show signature expiration dates (if any) during
  <samp class="option">--check-signatures</samp> listings. Defaults to no.
</p>
</dd>
<dt>show-sig-subpackets</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002dsig_002dsubpackets"></a>
<p>Include signature subpackets in the key listing. This option can take an
  optional argument list of the subpackets to list. If no argument is
  passed, list all subpackets. Defaults to no. This option is only
  meaningful when using <samp class="option">--with-colons</samp> along with
  <samp class="option">--check-signatures</samp>.
</p>
</dd>
<dt>show-only-fpr-mbox</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003ashow_002donly_002dfpr_002dmbox"></a>
<p>For each user-id which has a valid mail address print
  only the fingerprint followed by the mail address.
</p>
</dd>
<dt>sort-sigs</dt>
<dd><a class="index-entry-id" id="index-list_002doptions_003asort_002dsigs"></a>
<p>With &ndash;list-sigs and &ndash;check-sigs sort the signatures by keyID and
  creation time to make it easier to view the history of these
  signatures.  The self-signature is also listed before other
  signatures. Defaults to yes.
</p>
</dd>
</dl>

</dd>
<dt><a id="index-verify_002doptions"></a><span><code class="code">--verify-options <var class="var">parameters</var></code><a class="copiable-link" href="#index-verify_002doptions"> &para;</a></span></dt>
<dd><p>This is a space or comma delimited string that gives options used when
verifying signatures. Options can be prepended with a &lsquo;no-&rsquo; to give
the opposite meaning. The options are:
</p>
<dl class="table">
<dt>show-photos</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002dphotos"></a>
<p>Display any photo IDs present on the key that issued the signature.
  Defaults to no. See also <samp class="option">--photo-viewer</samp>.
</p>
</dd>
<dt>show-policy-urls</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002dpolicy_002durls"></a>
<p>Show policy URLs in the signature being verified. Defaults to yes.
</p>
</dd>
<dt>show-notations</dt>
<dt>show-std-notations</dt>
<dt>show-user-notations</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002dnotations"></a>
<a class="index-entry-id" id="index-verify_002doptions_003ashow_002dstd_002dnotations"></a>
<a class="index-entry-id" id="index-verify_002doptions_003ashow_002duser_002dnotations"></a>
<p>Show all, IETF standard, or user-defined signature notations in the
  signature being verified. Defaults to IETF standard.
</p>
</dd>
<dt>show-keyserver-urls</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002dkeyserver_002durls"></a>
<p>Show any preferred keyserver URL in the signature being verified.
  Defaults to yes.
</p>
</dd>
<dt>show-uid-validity</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002duid_002dvalidity"></a>
<p>Display the calculated validity of the user IDs on the key that issued
  the signature. Defaults to yes.
</p>
</dd>
<dt>show-unusable-uids</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002dunusable_002duids"></a>
<p>Show revoked and expired user IDs during signature verification.
  Defaults to no.
</p>
</dd>
<dt>show-primary-uid-only</dt>
<dd><a class="index-entry-id" id="index-verify_002doptions_003ashow_002dprimary_002duid_002donly"></a>
<p>Show only the primary user ID during signature verification.  That is
  all the AKA lines as well as photo Ids are not shown with the signature
  verification status.
</p>
</dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-disable_002dlarge_002drsa"></a>
<a id="index-enable_002dlarge_002drsa"></a><span><code class="code">--enable-large-rsa</code><a class="copiable-link" href="#index-enable_002dlarge_002drsa"> &para;</a></span></dt>
<dt><code class="code">--disable-large-rsa</code></dt>
<dd><p>With &ndash;generate-key and &ndash;batch, enable the creation of RSA secret keys as
large as 8192 bit.  Note: 8192 bit is more than is generally
recommended.  These large keys don&rsquo;t significantly improve security,
but they are more expensive to use, and their signatures and
certifications are larger.  This option is only available if the
binary was build with large-secmem support.
</p>
</dd>
<dt><a class="index-entry-id" id="index-disable_002ddsa2"></a>
<a id="index-enable_002ddsa2"></a><span><code class="code">--enable-dsa2</code><a class="copiable-link" href="#index-enable_002ddsa2"> &para;</a></span></dt>
<dt><code class="code">--disable-dsa2</code></dt>
<dd><p>Enable hash truncation for all DSA keys even for old DSA Keys up to
1024 bit.  This is also the default with <samp class="option">--openpgp</samp>.  Note
that older versions of GnuPG also required this flag to allow the
generation of DSA larger than 1024 bit.
</p>
</dd>
<dt><a id="index-photo_002dviewer"></a><span><code class="code">--photo-viewer <var class="var">string</var></code><a class="copiable-link" href="#index-photo_002dviewer"> &para;</a></span></dt>
<dd><p>This is the command line that should be run to view a photo ID. &quot;%i&quot;
will be expanded to a filename containing the photo. &quot;%I&quot; does the
same, except the file will not be deleted once the viewer exits.
Other flags are &quot;%k&quot; for the key ID, &quot;%K&quot; for the long key ID, &quot;%f&quot;
for the key fingerprint, &quot;%t&quot; for the extension of the image type
(e.g. &quot;jpg&quot;), &quot;%T&quot; for the MIME type of the image (e.g. &quot;image/jpeg&quot;),
&quot;%v&quot; for the single-character calculated validity of the image being
viewed (e.g. &quot;f&quot;), &quot;%V&quot; for the calculated validity as a string (e.g.
&quot;full&quot;), &quot;%U&quot; for a base32 encoded hash of the user ID,
and &quot;%%&quot; for an actual percent sign. If neither %i or %I are present,
then the photo will be supplied to the viewer on standard input.
</p>
<p>On Unix the default viewer is
<code class="code">xloadimage -fork -quiet -title 'KeyID 0x%k' STDIN</code>
with a fallback to
<code class="code">display -title 'KeyID 0x%k' %i</code>
and finally to
<code class="code">xdg-open %i</code>.
On Windows
<code class="code">!ShellExecute 400 %i</code> is used; here the command is a meta
command to use that API call followed by a wait time in milliseconds
which is used to give the viewer time to read the temporary image file
before gpg deletes it again.  Note that if your image viewer program
is not secure, then executing it from gpg does not make it secure.
</p>
</dd>
<dt><a class="index-entry-id" id="index-PATH"></a>
<a id="index-exec_002dpath"></a><span><code class="code">--exec-path <var class="var">string</var></code><a class="copiable-link" href="#index-exec_002dpath"> &para;</a></span></dt>
<dd><p>Sets a list of directories to search for photo viewers If not provided
photo viewers use the <code class="code">PATH</code> environment variable.
</p>
</dd>
<dt><a id="index-keyring"></a><span><code class="code">--keyring <var class="var">file</var></code><a class="copiable-link" href="#index-keyring"> &para;</a></span></dt>
<dd><p>Add <var class="var">file</var> to the current list of keyrings. If <var class="var">file</var> begins
with a tilde and a slash, these are replaced by the $HOME directory. If
the filename does not contain a slash, it is assumed to be in the GnuPG
home directory (&quot;~/.gnupg&quot; unless <samp class="option">--homedir</samp> or $GNUPGHOME is
used).
</p>
<p>Note that this adds a keyring to the current list. If the intent is to
use the specified keyring alone, use <samp class="option">--keyring</samp> along with
<samp class="option">--no-default-keyring</samp>.
</p>
<p>If the option <samp class="option">--no-keyring</samp> has been used no keyrings will
be used at all.
</p>
<p>Note that if the option <samp class="option">use-keyboxd</samp> is enabled in
<samp class="file">common.conf</samp>, no keyrings are used at all and keys are all
maintained by the keyboxd process in its own database.
</p>
</dd>
<dt><a id="index-primary_002dkeyring"></a><span><code class="code">--primary-keyring <var class="var">file</var></code><a class="copiable-link" href="#index-primary_002dkeyring"> &para;</a></span></dt>
<dd><p>This is a varian of <samp class="option">--keyring</samp> and designates <var class="var">file</var> as
the primary public keyring. This means that newly imported keys (via
<samp class="option">--import</samp> or keyserver <samp class="option">--recv-from</samp>) will go to this
keyring.
</p>

</dd>
<dt><a id="index-secret_002dkeyring"></a><span><code class="code">--secret-keyring <var class="var">file</var></code><a class="copiable-link" href="#index-secret_002dkeyring"> &para;</a></span></dt>
<dd><p>This is an obsolete option and ignored.  All secret keys are stored in
the <samp class="file">private-keys-v1.d</samp> directory below the GnuPG home directory.
</p>
</dd>
<dt><a id="index-trustdb_002dname"></a><span><code class="code">--trustdb-name <var class="var">file</var></code><a class="copiable-link" href="#index-trustdb_002dname"> &para;</a></span></dt>
<dd><p>Use <var class="var">file</var> instead of the default trustdb. If <var class="var">file</var> begins
with a tilde and a slash, these are replaced by the $HOME directory. If
the filename does not contain a slash, it is assumed to be in the GnuPG
home directory (<samp class="file">~/.gnupg</samp> if <samp class="option">--homedir</samp> or $GNUPGHOME is
not used).
</p>
</dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME-1"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-1"></a>
<a id="index-homedir-1"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir-1"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>

</dd>
<dt><a id="index-display_002dcharset"></a><span><code class="code">--display-charset <var class="var">name</var></code><a class="copiable-link" href="#index-display_002dcharset"> &para;</a></span></dt>
<dd><p>Set the name of the native character set. This is used to convert some
informational strings like user IDs to the proper UTF-8 encoding.
Note that this has nothing to do with the character set of data to be
encrypted or signed; GnuPG does not recode user-supplied data. If this
option is not used, the default character set is determined from the
current locale. A verbosity level of 3 shows the chosen set.  This
option should not be used on Windows.  Valid values for <var class="var">name</var>
are:
</p>
<dl class="table">
<dt>iso-8859-1</dt>
<dd><a class="index-entry-id" id="index-display_002dcharset_003aiso_002d8859_002d1"></a>
<p>This is the Latin 1 set.
</p>
</dd>
<dt>iso-8859-2</dt>
<dd><a class="index-entry-id" id="index-display_002dcharset_003aiso_002d8859_002d2"></a>
<p>The Latin 2 set.
</p>
</dd>
<dt>iso-8859-15</dt>
<dd><a class="index-entry-id" id="index-display_002dcharset_003aiso_002d8859_002d15"></a>
<p>This is currently an alias for
  the Latin 1 set.
</p>
</dd>
<dt>koi8-r</dt>
<dd><a class="index-entry-id" id="index-display_002dcharset_003akoi8_002dr"></a>
<p>The usual Russian set (RFC-1489).
</p>
</dd>
<dt>utf-8</dt>
<dd><a class="index-entry-id" id="index-display_002dcharset_003autf_002d8"></a>
<p>Bypass all translations and assume
  that the OS uses native UTF-8 encoding.
</p></dd>
</dl>

</dd>
<dt><a id="index-utf8_002dstrings"></a><span><code class="code">--utf8-strings</code><a class="copiable-link" href="#index-utf8_002dstrings"> &para;</a></span></dt>
<dt><code class="code">--no-utf8-strings</code></dt>
<dd><p>Assume that command line arguments are given as UTF-8 strings. The
default (<samp class="option">--no-utf8-strings</samp>) is to assume that arguments are
encoded in the character set as specified by
<samp class="option">--display-charset</samp>. These options affect all following
arguments. Both options may be used multiple times.
This option should not be used in an option file.
</p>
<p>This option has no effect on Windows.  There the internal used UTF-8
encoding is translated for console input and output.  The command line
arguments are expected as Unicode and translated to UTF-8.  Thus when
calling this program from another, make sure to use the Unicode
version of CreateProcess.
</p>
<a class="anchor" id="gpg_002doption-_002d_002doptions"></a></dd>
<dt><a id="index-options-3"></a><span><code class="code">--options <var class="var">file</var></code><a class="copiable-link" href="#index-options-3"> &para;</a></span></dt>
<dd><p>Read options from <var class="var">file</var> and do not try to read them from the
default options file in the homedir (see <samp class="option">--homedir</samp>). This
option is ignored if used in an options file.
</p>
</dd>
<dt><a id="index-no_002doptions"></a><span><code class="code">--no-options</code><a class="copiable-link" href="#index-no_002doptions"> &para;</a></span></dt>
<dd><p>Shortcut for <samp class="option">--options /dev/null</samp>. This option is detected
before an attempt to open an option file.  Using this option will also
prevent the creation of a <samp class="file">~/.gnupg</samp> homedir.
</p>
</dd>
<dt><a class="index-entry-id" id="index-bzip2_002dcompress_002dlevel"></a>
<a class="index-entry-id" id="index-no_002dcompress"></a>
<a id="index-compress_002dlevel"></a><span><code class="code">-z <var class="var">n</var></code><a class="copiable-link" href="#index-compress_002dlevel"> &para;</a></span></dt>
<dt><code class="code">--compress-level <var class="var">n</var></code></dt>
<dt><code class="code">--bzip2-compress-level <var class="var">n</var></code></dt>
<dt><code class="code">--no-compress</code></dt>
<dd><p>Set compression level to <var class="var">n</var> for the ZIP and ZLIB compression
algorithms. The default is to use the default compression level of zlib
(normally 6). <samp class="option">--bzip2-compress-level</samp> sets the compression level
for the BZIP2 compression algorithm (defaulting to 6 as well). This is a
different option from <samp class="option">--compress-level</samp> since BZIP2 uses a
significant amount of memory for each additional compression level.
</p>
<p>Option <samp class="option">-z</samp> sets both. A value of 0 for <var class="var">n</var> disables
compression.  A value of -1 forces compression using the default
level.  Option <samp class="option">--no-compress</samp> is identical to <samp class="option">-z0</samp>.
</p>
<p>Except for the <samp class="option">--store</samp> command compression is always used
unless <code class="command">gpg</code> detects that the input is already compressed.  To
inhibit the use of compression use <samp class="option">-z0</samp> or
<samp class="option">--no-compress</samp>; to force compression use <samp class="option">-z-1</samp> or
option <samp class="option">z</samp> with another compression level than the default as
indicated by -1.  Note that this overriding of the default deection
works only with <samp class="option">z</samp> and not with the long variant of this
option.
</p>

</dd>
<dt><a id="index-bzip2_002ddecompress_002dlowmem"></a><span><code class="code">--bzip2-decompress-lowmem</code><a class="copiable-link" href="#index-bzip2_002ddecompress_002dlowmem"> &para;</a></span></dt>
<dd><p>Use a different decompression method for BZIP2 compressed files. This
alternate method uses a bit more than half the memory, but also runs
at half the speed. This is useful under extreme low memory
circumstances when the file was originally compressed at a high
<samp class="option">--bzip2-compress-level</samp>.
</p>

</dd>
<dt><a class="index-entry-id" id="index-no_002dmangle_002ddos_002dfilenames"></a>
<a id="index-mangle_002ddos_002dfilenames"></a><span><code class="code">--mangle-dos-filenames</code><a class="copiable-link" href="#index-mangle_002ddos_002dfilenames"> &para;</a></span></dt>
<dt><code class="code">--no-mangle-dos-filenames</code></dt>
<dd><p>Older version of Windows cannot handle filenames with more than one
dot. <samp class="option">--mangle-dos-filenames</samp> causes GnuPG to replace (rather
than add to) the extension of an output filename to avoid this
problem. This option is off by default and has no effect on non-Windows
platforms.
</p>
</dd>
<dt><a id="index-ask_002dcert_002dlevel"></a><span><code class="code">--ask-cert-level</code><a class="copiable-link" href="#index-ask_002dcert_002dlevel"> &para;</a></span></dt>
<dt><code class="code">--no-ask-cert-level</code></dt>
<dd><p>When making a key signature, prompt for a certification level. If this
option is not specified, the certification level used is set via
<samp class="option">--default-cert-level</samp>. See <samp class="option">--default-cert-level</samp> for
information on the specific levels and how they are
used. <samp class="option">--no-ask-cert-level</samp> disables this option. This option
defaults to no.
</p>
</dd>
<dt><a id="index-default_002dcert_002dlevel"></a><span><code class="code">--default-cert-level <var class="var">n</var></code><a class="copiable-link" href="#index-default_002dcert_002dlevel"> &para;</a></span></dt>
<dd><p>The default to use for the check level when signing a key.
</p>
<p>0 means you make no particular claim as to how carefully you verified
the key.
</p>
<p>1 means you believe the key is owned by the person who claims to own
it but you could not, or did not verify the key at all. This is
useful for a &quot;persona&quot; verification, where you sign the key of a
pseudonymous user.
</p>
<p>2 means you did casual verification of the key. For example, this
could mean that you verified the key fingerprint and checked the
user ID on the key against a photo ID.
</p>
<p>3 means you did extensive verification of the key. For example, this
could mean that you verified the key fingerprint with the owner of the
key in person, and that you checked, by means of a hard to forge
document with a photo ID (such as a passport) that the name of the key
owner matches the name in the user ID on the key, and finally that you
verified (by exchange of email) that the email address on the key
belongs to the key owner.
</p>
<p>Note that the examples given above for levels 2 and 3 are just that:
examples. In the end, it is up to you to decide just what &quot;casual&quot;
and &quot;extensive&quot; mean to you.
</p>
<p>This option defaults to 0 (no particular claim).
</p>
</dd>
<dt><a id="index-min_002dcert_002dlevel"></a><span><code class="code">--min-cert-level</code><a class="copiable-link" href="#index-min_002dcert_002dlevel"> &para;</a></span></dt>
<dd><p>When building the trust database, treat any signatures with a
certification level below this as invalid. Defaults to 2, which
disregards level 1 signatures. Note that level 0 &quot;no particular
claim&quot; signatures are always accepted.
</p>
</dd>
<dt><a id="index-trusted_002dkey"></a><span><code class="code">--trusted-key <var class="var">long key ID or fingerprint</var></code><a class="copiable-link" href="#index-trusted_002dkey"> &para;</a></span></dt>
<dd><p>Assume that the specified key (which should be given as fingerprint)
is as trustworthy as one of your own secret keys. This option is
useful if you don&rsquo;t want to keep your secret keys (or one of them)
online but still want to be able to check the validity of a given
recipient&rsquo;s or signator&rsquo;s key.  If the given key is not locally
available but an LDAP keyserver is configured the missing key is
imported from that server.  The value &quot;none&quot; is explicitly allowed to
distinguish between the use of any trusted-key option and no use of
this option at all (e.g. due to the <samp class="option">--no-options</samp> option).
</p>
</dd>
<dt><a id="index-add_002ddesig_002drevoker"></a><span><code class="code">--add-desig-revoker [sensitive:]<var class="var">fingerprint</var></code><a class="copiable-link" href="#index-add_002ddesig_002drevoker"> &para;</a></span></dt>
<dd><p>Add the key specified by <var class="var">fingerprint</var> as a designated revoker to
newly created keys.  If the fingerprint is prefixed with the keyword
&ldquo;sensitive:&rdquo; that info is normally not exported wit the key.  This
option may be given several time to add more than one designated
revoker.  If the keyword &ldquo;clear&rdquo; is used instead of a fingerprint,
all designated options previously encountered are discarded.
Designated revokers are marked on the key as non-revocable.  Note that
a designated revoker specified using a parameter file will also be
added to the key.
</p>

</dd>
<dt><a id="index-trust_002dmodel"></a><span><code class="code">--trust-model {pgp|classic|tofu|tofu+pgp|direct|always|auto}</code><a class="copiable-link" href="#index-trust_002dmodel"> &para;</a></span></dt>
<dd><p>Set what trust model GnuPG should follow. The models are:
</p>
<dl class="table">
<dt>pgp</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003apgp"></a>
<p>This is the Web of Trust combined with trust signatures as used in PGP
  5.x and later. This is the default trust model when creating a new
  trust database.
</p>
</dd>
<dt>classic</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003aclassic"></a>
<p>This is the standard Web of Trust as introduced by PGP 2.
</p>
</dd>
<dt>tofu</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003atofu"></a>
<a class="anchor" id="trust_002dmodel_002dtofu"></a><p>TOFU stands for Trust On First Use.  In this experimental trust
  model, the first
  time a key is seen, it is memorized.  If later another key with a
  user id with the same email address is seen, both keys are marked as
  suspect.  In that case, the next time either is used, a warning is
  displayed describing the conflict, why it might have occurred
  (either the user generated a new key and failed to cross sign the
  old and new keys, the key is forgery, or a man-in-the-middle attack
  is being attempted), and the user is prompted to manually confirm
  the validity of the key in question.
</p>
<p>Because a potential attacker is able to control the email address
  and thereby circumvent the conflict detection algorithm by using an
  email address that is similar in appearance to a trusted email
  address, whenever a message is verified, statistics about the number
  of messages signed with the key are shown.  In this way, a user can
  easily identify attacks using fake keys for regular correspondents.
</p>
<p>When compared with the Web of Trust, TOFU offers significantly
  weaker security guarantees.  In particular, TOFU only helps ensure
  consistency (that is, that the binding between a key and email
  address doesn&rsquo;t change).  A major advantage of TOFU is that it
  requires little maintenance to use correctly.  To use the web of
  trust properly, you need to actively sign keys and mark users as
  trusted introducers.  This is a time-consuming process and anecdotal
  evidence suggests that even security-conscious users rarely take the
  time to do this thoroughly and instead rely on an ad-hoc TOFU
  process.
</p>
<p>In the TOFU model, policies are associated with bindings between
  keys and email addresses (which are extracted from user ids and
  normalized).  There are five policies, which can be set manually
  using the <samp class="option">--tofu-policy</samp> option.  The default policy can be
  set using the <samp class="option">--tofu-default-policy</samp> option.
</p>
<p>The TOFU policies are: <code class="code">auto</code>, <code class="code">good</code>, <code class="code">unknown</code>,
  <code class="code">bad</code> and <code class="code">ask</code>.  The <code class="code">auto</code> policy is used by
  default (unless overridden by <samp class="option">--tofu-default-policy</samp>) and
  marks a binding as marginally trusted.  The <code class="code">good</code>,
  <code class="code">unknown</code> and <code class="code">bad</code> policies mark a binding as fully
  trusted, as having unknown trust or as having trust never,
  respectively.  The <code class="code">unknown</code> policy is useful for just using
  TOFU to detect conflicts, but to never assign positive trust to a
  binding.  The final policy, <code class="code">ask</code> prompts the user to indicate
  the binding&rsquo;s trust.  If batch mode is enabled (or input is
  inappropriate in the context), then the user is not prompted and the
  <code class="code">undefined</code> trust level is returned.
</p>
</dd>
<dt>tofu+pgp</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003atofu_002bpgp"></a>
<p>This experimental trust model combines TOFU with the Web of Trust.
  This is done
  by computing the trust level for each model and then taking the
  maximum trust level where the trust levels are ordered as follows:
  <code class="code">unknown &lt; undefined &lt; marginal &lt; fully &lt; ultimate &lt; expired &lt;
  never</code>.
</p>
<p>By setting <samp class="option">--tofu-default-policy=unknown</samp>, this model can be
  used to implement the web of trust with TOFU&rsquo;s conflict detection
  algorithm, but without its assignment of positive trust values,
  which some security-conscious users don&rsquo;t like.
</p>
</dd>
<dt>direct</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003adirect"></a>
<p>Key validity is set directly by the user and not calculated via the
  Web of Trust.  This model is solely based on the key and does
  not distinguish user IDs.  Note that when changing to another trust
  model the trust values assigned to a key are transformed into
  ownertrust values, which also indicate how you trust the owner of
  the key to sign other keys.
</p>
</dd>
<dt>always</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003aalways"></a>
<p>Skip key validation and assume that used keys are always fully
  valid. You generally won&rsquo;t use this unless you are using some
  external validation scheme. This option also suppresses the
  &quot;[uncertain]&quot; tag printed with signature checks when there is no
  evidence that the user ID is bound to the key.  Note that this
  trust model still does not allow the use of expired, revoked, or
  disabled keys.
</p>
</dd>
<dt>auto</dt>
<dd><a class="index-entry-id" id="index-trust_002dmodel_003aauto"></a>
<p>Select the trust model depending on whatever the internal trust
  database says. This is the default model if such a database already
  exists.  Note that a tofu trust model is not considered here and
  must be enabled explicitly.
</p></dd>
</dl>

</dd>
<dt><a id="index-always_002dtrust"></a><span><code class="code">--always-trust</code><a class="copiable-link" href="#index-always_002dtrust"> &para;</a></span></dt>
<dd><p>Identical to <samp class="option">--trust-model always</samp>.
</p>
</dd>
<dt><a id="index-assert_002dsigner"></a><span><code class="code">--assert-signer <var class="var">fpr_or_file</var></code><a class="copiable-link" href="#index-assert_002dsigner"> &para;</a></span></dt>
<dd><p>This option checks whether at least one valid signature on a file has
been made with the specified key.  The key is either specified as a
fingerprint or a file listing fingerprints.  The fingerprint must be
given or listed in compact format (no colons or spaces in between).
This option can be given multiple times and each fingerprint is
checked against the signing key as well as the corresponding primary
key.  If <var class="var">fpr_or_file</var> specifies a file, empty lines are ignored
as well as all lines starting with a hash sign.  With this option gpg
is guaranteed to return with an exit code of 0 if and only if a
signature has been encountered, is valid, and the key matches one of
the fingerprints given by this option.
</p>
</dd>
<dt><a id="index-assert_002dpubkey_002dalgo"></a><span><code class="code">--assert-pubkey-algo <var class="var">algolist</var></code><a class="copiable-link" href="#index-assert_002dpubkey_002dalgo"> &para;</a></span></dt>
<dd><p>During data signature verification this options checks whether the
used public key algorithm matches the algorithms given by
<var class="var">algolist</var>.  This option can be given multiple times to
concatenate more algorithms to the list; the delimiter of the list are
either commas or spaces.
</p>
<p>The algorithm names given in the list may either be verbatim names
like &quot;ed25519&quot; with an optional leading single equal sign, or being
prefixed with &quot;&gt;&quot;, &quot;&gt;=&quot;, &quot;&lt;=&quot;, or &quot;&lt;&quot;.  That prefix operator is
applied to the number part of the algorithm name; for example 2048 in
&quot;rsa2048&quot; or 384 in &quot;brainpoolP384r1&quot;.  If the the leading non-digits
in the name matches, the prefix operator is used to compare the number
part, a trailing suffix is ignored in this case.  For example an
algorithm list &quot;&gt;rsa3000, &gt;=brainpool384r1, =ed25519&quot; allows RSA
signatures with more that 3000 bits, Brainpool curves 384 and 512,
and the ed25519 algorithm.
</p>
<p>With this option gpg (and also gpgv) is guaranteed to return with an
exit code of 0 if and only if all valid signatures on data are made
using a matching algorithm from the given list.
</p>

</dd>
<dt><a id="index-auto_002dkey_002dlocate"></a><span><code class="code">--auto-key-locate <var class="var">mechanisms</var></code><a class="copiable-link" href="#index-auto_002dkey_002dlocate"> &para;</a></span></dt>
<dt><code class="code">--no-auto-key-locate</code></dt>
<dd><p>GnuPG can automatically locate and retrieve keys as needed using this
option.  This happens when encrypting to an email address (in the
&quot;user@example.com&quot; form), and there are no &quot;user@example.com&quot; keys
on the local keyring.  This option takes any number of the mechanisms
listed below, in the order they are to be tried.  Instead of listing
the mechanisms as comma delimited arguments, the option may also be
given several times to add more mechanism.  The option
<samp class="option">--no-auto-key-locate</samp> or the mechanism &quot;clear&quot; resets the
list.  The default is &quot;local,wkd&quot;.
</p>
<dl class="table">
<dt>cert</dt>
<dd><p>Locate a key using DNS CERT, as specified in RFC-4398.
</p>
</dd>
<dt>dane</dt>
<dd><p>Locate a key using DANE, as specified
  in draft-ietf-dane-openpgpkey-05.txt.
</p>
</dd>
<dt>wkd</dt>
<dd><p>Locate a key using the Web Key Directory protocol.
</p>
</dd>
<dt>ldap</dt>
<dd><p>Using DNS Service Discovery, check the domain in question for any LDAP
  keyservers to use.  If this fails, attempt to locate the key using the
  PGP Universal method of checking &lsquo;<samp class="samp">ldap://keys.(thedomain)</samp>&rsquo;.
</p>
</dd>
<dt>ntds</dt>
<dd><p>Locate the key using the Active Directory (Windows only).  This
  method also allows one to search by fingerprint using the command
  <samp class="option">--locate-external-key</samp>.  Note that this mechanism is
  actually a shortcut for the mechanism &lsquo;<samp class="samp">keyserver</samp>&rsquo; but using
  &quot;ldap:///&quot; as the keyserver.
</p>
</dd>
<dt>keyserver</dt>
<dd><p>Locate a key using a keyserver.  This method also allows one to search
  by fingerprint using the command <samp class="option">--locate-external-key</samp> if
  any of the configured keyservers is an LDAP server.
</p>
</dd>
<dt>keyserver-URL</dt>
<dd><p>In addition, a keyserver URL as used in the <code class="command">dirmngr</code>
  configuration may be used here to query that particular keyserver.
  This method also allows one to search by fingerprint using the command
  <samp class="option">--locate-external-key</samp> if the URL specifies an LDAP server.
</p>
</dd>
<dt>local</dt>
<dd><p>Locate the key using the local keyrings.  This mechanism allows the user to
  select the order a local key lookup is done.  Thus using
  &lsquo;<samp class="samp">--auto-key-locate local</samp>&rsquo; is identical to
  <samp class="option">--no-auto-key-locate</samp>.
</p>
</dd>
<dt>nodefault</dt>
<dd><p>This flag disables the standard local key lookup, done before any of the
  mechanisms defined by the <samp class="option">--auto-key-locate</samp> are tried.  The
  position of this mechanism in the list does not matter.  It is not
  required if <code class="code">local</code> is also used.
</p>
</dd>
<dt>clear</dt>
<dd><p>Clear all defined mechanisms.  This is useful to override
  mechanisms given in a config file.  Note that a <code class="code">nodefault</code> in
  <var class="var">mechanisms</var> will also be cleared unless it is given after the
  <code class="code">clear</code>.
</p>
</dd>
</dl>


</dd>
<dt><a class="index-entry-id" id="index-no_002dauto_002dkey_002dimport"></a>
<a id="index-auto_002dkey_002dimport"></a><span><code class="code">--auto-key-import</code><a class="copiable-link" href="#index-auto_002dkey_002dimport"> &para;</a></span></dt>
<dt><code class="code">--no-auto-key-import</code></dt>
<dd><p>This is an offline mechanism to get a missing key for signature
verification and for later encryption to this key.  If this option is
enabled and a signature includes an embedded key, that key is
used to verify the signature and on verification success the key is
imported. The default is <samp class="option">--no-auto-key-import</samp>.
</p>
<p>On the sender (signing) site the option <samp class="option">--include-key-block</samp>
needs to be used to put the public part of the signing key as “Key
Block subpacket” into the signature.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002dauto_002dkey_002dretrieve"></a>
<a id="index-auto_002dkey_002dretrieve"></a><span><code class="code">--auto-key-retrieve</code><a class="copiable-link" href="#index-auto_002dkey_002dretrieve"> &para;</a></span></dt>
<dt><code class="code">--no-auto-key-retrieve</code></dt>
<dd><p>These options enable or disable the automatic retrieving of keys from
a keyserver when verifying signatures made by keys that are not on the
local keyring.  The default is <samp class="option">--no-auto-key-retrieve</samp>.
</p>
<p>The order of methods tried to lookup the key is:
</p>
<p>1. If the option <samp class="option">--auto-key-import</samp> is set and the signatures
includes an embedded key, that key is used to verify the signature and
on verification success that key is imported.
</p>
<p>2. If a preferred keyserver is specified in the signature and the
option <samp class="option">honor-keyserver-url</samp> is active (which is not the
default), that keyserver is tried.  Note that the creator of the
signature uses the option <samp class="option">--sig-keyserver-url</samp> to specify the
preferred keyserver for data signatures.
</p>
<p>3. If the signature has the Signer&rsquo;s UID set (e.g. using
<samp class="option">--sender</samp> while creating the signature) a Web Key Directory
(WKD) lookup is done.  This is the default configuration but can be
disabled by removing WKD from the auto-key-locate list or by using the
option <samp class="option">--disable-signer-uid</samp>.
</p>
<p>4. If any keyserver is configured and the Issuer Fingerprint is part
of the signature (since GnuPG 2.1.16), the configured keyservers are
tried.
</p>
<p>Note that this option makes a &quot;web bug&quot; like behavior possible.
Keyserver or Web Key Directory operators can see which keys you
request, so by sending you a message signed by a brand new key (which
you naturally will not have on your local keyring), the operator can
tell both your IP address and the time when you verified the
signature.
</p>
</dd>
<dt><a id="index-keyid_002dformat"></a><span><code class="code">--keyid-format {none|short|0xshort|long|0xlong}</code><a class="copiable-link" href="#index-keyid_002dformat"> &para;</a></span></dt>
<dd><p>Select how to display key IDs.  &quot;none&quot; does not show the key ID at all
but shows the fingerprint in a separate line.  &quot;short&quot; is the
traditional 8-character key ID.  &quot;long&quot; is the more accurate (but less
convenient) 16-character key ID.  Add an &quot;0x&quot; to either to include an
&quot;0x&quot; at the beginning of the key ID, as in 0x99242560.  Note that this
option is ignored if the option <samp class="option">--with-colons</samp> is used.
</p>
</dd>
<dt><a id="index-keyserver-1"></a><span><code class="code">--keyserver <var class="var">name</var></code><a class="copiable-link" href="#index-keyserver-1"> &para;</a></span></dt>
<dd><p>This option is deprecated - please use the <samp class="option">--keyserver</samp> in
<samp class="file">dirmngr.conf</samp> instead.
</p>
<p>Use <var class="var">name</var> as your keyserver. This is the server that
<samp class="option">--receive-keys</samp>, <samp class="option">--send-keys</samp>, and <samp class="option">--search-keys</samp>
will communicate with to receive keys from, send keys to, and search for
keys on. The format of the <var class="var">name</var> is a URI:
&lsquo;scheme:[//]keyservername[:port]&rsquo; The scheme is the type of keyserver:
&quot;hkp&quot;/&quot;hkps&quot; for the HTTP (or compatible) keyservers or &quot;ldap&quot;/&quot;ldaps&quot;
for the LDAP keyservers.  Note that your particular installation of
GnuPG may have other keyserver types available as well. Keyserver
schemes are case-insensitive.
</p>
<p>Most keyservers synchronize with each other, so there is generally no
need to send keys to more than one server. The keyserver
<code class="code">hkp://keys.gnupg.net</code> uses round robin DNS to give a different
keyserver each time you use it.
</p>
</dd>
<dt><a id="index-keyserver_002doptions"></a><span><code class="code">--keyserver-options {<var class="var">name</var>=<var class="var">value</var>}</code><a class="copiable-link" href="#index-keyserver_002doptions"> &para;</a></span></dt>
<dd><p>This is a space or comma delimited string that gives options for the
keyserver. Options can be prefixed with a &lsquo;no-&rsquo; to give the opposite
meaning. Valid import-options or export-options may be used here as
well to apply to importing (<samp class="option">--recv-key</samp>) or exporting
(<samp class="option">--send-key</samp>) a key from a keyserver. While not all options
are available for all keyserver types, some common options are:
</p>
<dl class="table">
<dt>include-revoked</dt>
<dd><p>When searching for a key with <samp class="option">--search-keys</samp>, include keys that
  are marked on the keyserver as revoked. Note that not all keyservers
  differentiate between revoked and unrevoked keys, and for such
  keyservers this option is meaningless. Note also that most keyservers do
  not have cryptographic verification of key revocations, and so turning
  this option off may result in skipping keys that are incorrectly marked
  as revoked.
</p>
</dd>
<dt>include-disabled</dt>
<dd><p>When searching for a key with <samp class="option">--search-keys</samp>, include keys that
  are marked on the keyserver as disabled. Note that this option is not
  used with HKP keyservers.
</p>
</dd>
<dt>auto-key-retrieve</dt>
<dd><p>This is an obsolete alias for the option <samp class="option">auto-key-retrieve</samp>.
  Please do not use it; it will be removed in future versions..
</p>
</dd>
<dt>honor-keyserver-url</dt>
<dd><p>When using <samp class="option">--refresh-keys</samp>, if the key in question has a preferred
  keyserver URL, then use that preferred keyserver to refresh the key
  from. In addition, if auto-key-retrieve is set, and the signature
  being verified has a preferred keyserver URL, then use that preferred
  keyserver to fetch the key from. Note that this option introduces a
  &quot;web bug&quot;: The creator of the key can see when the keys is
  refreshed.  Thus this option is not enabled by default.
</p>
</dd>
<dt>include-subkeys</dt>
<dd><p>When receiving a key, include subkeys as potential targets. Note that
  this option is not used with HKP keyservers, as they do not support
  retrieving keys by subkey id.
</p>
</dd>
<dt>timeout</dt>
<dt>http-proxy=<var class="var">value</var></dt>
<dt>verbose</dt>
<dt>debug</dt>
<dt>check-cert</dt>
<dt>ca-cert-file</dt>
<dd><p>These options have no more function since GnuPG 2.1.  Use the
  <code class="code">dirmngr</code> configuration options instead.
</p>
</dd>
</dl>

<p>The default list of options is: &quot;self-sigs-only, import-clean,
repair-keys, repair-pks-subkey-bug, export-attributes&quot;. However, if
the actual used source is an LDAP server &quot;no-self-sigs-only&quot; is
assumed unless &quot;self-sigs-only&quot; has been explicitly configured.
</p>

</dd>
<dt><a id="index-compliant_002dneeded"></a><span><code class="code">--completes-needed <var class="var">n</var></code><a class="copiable-link" href="#index-compliant_002dneeded"> &para;</a></span></dt>
<dd><p>Number of completely trusted users to introduce a new
key signer (defaults to 1).
</p>
</dd>
<dt><a id="index-marginals_002dneeded"></a><span><code class="code">--marginals-needed <var class="var">n</var></code><a class="copiable-link" href="#index-marginals_002dneeded"> &para;</a></span></dt>
<dd><p>Number of marginally trusted users to introduce a new
key signer (defaults to 3)
</p>
</dd>
<dt><a id="index-tofu_002ddefault_002dpolicy"></a><span><code class="code">--tofu-default-policy {auto|good|unknown|bad|ask}</code><a class="copiable-link" href="#index-tofu_002ddefault_002dpolicy"> &para;</a></span></dt>
<dd><p>The default TOFU policy (defaults to <code class="code">auto</code>).  For more
information about the meaning of this option, see <a class="pxref" href="#trust_002dmodel_002dtofu">trust-model-tofu</a>.
</p>
</dd>
<dt><a id="index-max_002dcert_002ddepth"></a><span><code class="code">--max-cert-depth <var class="var">n</var></code><a class="copiable-link" href="#index-max_002dcert_002ddepth"> &para;</a></span></dt>
<dd><p>Maximum depth of a certification chain (default is 5).
</p>
</dd>
<dt><a id="index-no_002dsig_002dcache"></a><span><code class="code">--no-sig-cache</code><a class="copiable-link" href="#index-no_002dsig_002dcache"> &para;</a></span></dt>
<dd><p>Do not cache the verification status of key signatures.
Caching gives a much better performance in key listings. However, if
you suspect that your public keyring is not safe against write
modifications, you can use this option to disable the caching. It
probably does not make sense to disable it because all kind of damage
can be done if someone else has write access to your public keyring.
</p>
</dd>
<dt><a id="index-auto_002dcheck_002dtrustdb"></a><span><code class="code">--auto-check-trustdb</code><a class="copiable-link" href="#index-auto_002dcheck_002dtrustdb"> &para;</a></span></dt>
<dt><code class="code">--no-auto-check-trustdb</code></dt>
<dd><p>If GnuPG feels that its information about the Web of Trust has to be
updated, it automatically runs the <samp class="option">--check-trustdb</samp> command
internally.  This may be a time consuming
process. <samp class="option">--no-auto-check-trustdb</samp> disables this option.
</p>
</dd>
<dt><a id="index-use_002dagent"></a><span><code class="code">--use-agent</code><a class="copiable-link" href="#index-use_002dagent"> &para;</a></span></dt>
<dt><code class="code">--no-use-agent</code></dt>
<dd><p>This is dummy option. <code class="command">gpg</code> always requires the agent.
</p>
</dd>
<dt><a id="index-gpg_002dagent_002dinfo"></a><span><code class="code">--gpg-agent-info</code><a class="copiable-link" href="#index-gpg_002dagent_002dinfo"> &para;</a></span></dt>
<dd><p>This is dummy option. It has no effect when used with <code class="command">gpg</code>.
</p>

</dd>
<dt><a id="index-agent_002dprogram"></a><span><code class="code">--agent-program <var class="var">file</var></code><a class="copiable-link" href="#index-agent_002dprogram"> &para;</a></span></dt>
<dd><p>Specify an agent program to be used for secret key operations.  The
default value is determined by running <code class="command">gpgconf</code> with the
option <samp class="option">--list-dirs</samp>.  Note that the pipe symbol (<code class="code">|</code>) is
used for a regression test suite hack and may thus not be used in the
file name.
</p>
</dd>
<dt><a id="index-dirmngr_002dprogram"></a><span><code class="code">--dirmngr-program <var class="var">file</var></code><a class="copiable-link" href="#index-dirmngr_002dprogram"> &para;</a></span></dt>
<dd><p>Specify a dirmngr program to be used for keyserver access.  The
default value is <samp class="file">/usr/bin/dirmngr</samp>.
</p>
</dd>
<dt><code class="code">--disable-dirmngr</code></dt>
<dd><p>Entirely disable the use of the Dirmngr.
</p>
</dd>
<dt><a id="index-no_002dautostart"></a><span><code class="code">--no-autostart</code><a class="copiable-link" href="#index-no_002dautostart"> &para;</a></span></dt>
<dd><p>Do not start the gpg-agent or the dirmngr if it has not yet been
started and its service is required.  This option is mostly useful on
machines where the connection to gpg-agent has been redirected to
another machines.  If dirmngr is required on the remote machine, it
may be started manually using <code class="command">gpgconf --launch dirmngr</code>.
</p>
</dd>
<dt><a id="index-lock_002donce"></a><span><code class="code">--lock-once</code><a class="copiable-link" href="#index-lock_002donce"> &para;</a></span></dt>
<dd><p>Lock the databases the first time a lock is requested
and do not release the lock until the process
terminates.
</p>
</dd>
<dt><a id="index-lock_002dmultiple"></a><span><code class="code">--lock-multiple</code><a class="copiable-link" href="#index-lock_002dmultiple"> &para;</a></span></dt>
<dd><p>Release the locks every time a lock is no longer
needed. Use this to override a previous <samp class="option">--lock-once</samp>
from a config file.
</p>
</dd>
<dt><a id="index-lock_002dnever"></a><span><code class="code">--lock-never</code><a class="copiable-link" href="#index-lock_002dnever"> &para;</a></span></dt>
<dd><p>Disable locking entirely. This option should be used only in very
special environments, where it can be assured that only one process
is accessing those files. A bootable floppy with a stand-alone
encryption system will probably use this. Improper usage of this
option may lead to data and key corruption.
</p>
</dd>
<dt><a id="index-exit_002don_002dstatus_002dwrite_002derror"></a><span><code class="code">--exit-on-status-write-error</code><a class="copiable-link" href="#index-exit_002don_002dstatus_002dwrite_002derror"> &para;</a></span></dt>
<dd><p>This option will cause write errors on the status FD to immediately
terminate the process. That should in fact be the default but it never
worked this way and thus we need an option to enable this, so that the
change won&rsquo;t break applications which close their end of a status fd
connected pipe too early. Using this option along with
<samp class="option">--enable-progress-filter</samp> may be used to cleanly cancel long
running gpg operations.
</p>
</dd>
<dt><a id="index-limit_002dcard_002dinsert_002dtries"></a><span><code class="code">--limit-card-insert-tries <var class="var">n</var></code><a class="copiable-link" href="#index-limit_002dcard_002dinsert_002dtries"> &para;</a></span></dt>
<dd><p>With <var class="var">n</var> greater than 0 the number of prompts asking to insert a
smartcard gets limited to N-1. Thus with a value of 1 gpg won&rsquo;t at
all ask to insert a card if none has been inserted at startup. This
option is useful in the configuration file in case an application does
not know about the smartcard support and waits ad infinitum for an
inserted card.
</p>
</dd>
<dt><a id="index-no_002drandom_002dseed_002dfile"></a><span><code class="code">--no-random-seed-file</code><a class="copiable-link" href="#index-no_002drandom_002dseed_002dfile"> &para;</a></span></dt>
<dd><p>GnuPG uses a file to store its internal random pool over invocations.
This makes random generation faster; however sometimes write operations
are not desired. This option can be used to achieve that with the cost of
slower random generation.
</p>
</dd>
<dt><a id="index-no_002dgreeting"></a><span><code class="code">--no-greeting</code><a class="copiable-link" href="#index-no_002dgreeting"> &para;</a></span></dt>
<dd><p>Suppress the initial copyright message.
</p>
</dd>
<dt><a id="index-no_002dsecmem_002dwarning"></a><span><code class="code">--no-secmem-warning</code><a class="copiable-link" href="#index-no_002dsecmem_002dwarning"> &para;</a></span></dt>
<dd><p>Suppress the warning about &quot;using insecure memory&quot;.
</p>
</dd>
<dt><a id="index-permission_002dwarning"></a><span><code class="code">--no-permission-warning</code><a class="copiable-link" href="#index-permission_002dwarning"> &para;</a></span></dt>
<dd><p>Suppress the warning about unsafe file and home directory (<samp class="option">--homedir</samp>)
permissions. Note that the permission checks that GnuPG performs are
not intended to be authoritative, but rather they simply warn about
certain common permission problems. Do not assume that the lack of a
warning means that your system is secure.
</p>
<p>Note that the warning for unsafe <samp class="option">--homedir</samp> permissions cannot be
suppressed in the gpg.conf file, as this would allow an attacker to
place an unsafe gpg.conf file in place, and use this file to suppress
warnings about itself. The <samp class="option">--homedir</samp> permissions warning may only be
suppressed on the command line.
</p>
</dd>
<dt><a id="index-require_002dsecmem"></a><span><code class="code">--require-secmem</code><a class="copiable-link" href="#index-require_002dsecmem"> &para;</a></span></dt>
<dt><code class="code">--no-require-secmem</code></dt>
<dd><p>Refuse to run if GnuPG cannot get secure memory. Defaults to no
(i.e. run, but give a warning).
</p>

</dd>
<dt><a id="index-require_002dcross_002dcertification"></a><span><code class="code">--require-cross-certification</code><a class="copiable-link" href="#index-require_002dcross_002dcertification"> &para;</a></span></dt>
<dt><code class="code">--no-require-cross-certification</code></dt>
<dd><p>When verifying a signature made from a subkey, ensure that the cross
certification &quot;back signature&quot; on the subkey is present and valid.  This
protects against a subtle attack against subkeys that can sign.
Defaults to <samp class="option">--require-cross-certification</samp> for
<code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-expert"></a><span><code class="code">--expert</code><a class="copiable-link" href="#index-expert"> &para;</a></span></dt>
<dt><code class="code">--no-expert</code></dt>
<dd><p>Allow the user to do certain nonsensical or &quot;silly&quot; things like
signing an expired or revoked key, or certain potentially incompatible
things like generating unusual key types. This also disables certain
warning messages about potentially incompatible actions. As the name
implies, this option is for experts only. If you don&rsquo;t fully
understand the implications of what it allows you to do, leave this
off. <samp class="option">--no-expert</samp> disables this option.
</p>
</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="GPG-Key-related-Options">
<div class="nav-panel">
<p>
Next: <a href="#GPG-Input-and-Output" accesskey="n" rel="next">Input and Output</a>, Previous: <a href="#GPG-Configuration-Options" accesskey="p" rel="prev">How to change the configuration</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Key-related-options"><span>4.2.2 Key related options<a class="copiable-link" href="#Key-related-options"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-recipient"></a><span><code class="code">--recipient <var class="var">name</var></code><a class="copiable-link" href="#index-recipient"> &para;</a></span></dt>
<dt><code class="code">-r</code></dt>
<dd><p>Encrypt for user id <var class="var">name</var>. If this option or
<samp class="option">--hidden-recipient</samp> is not specified, GnuPG asks for the user-id
unless <samp class="option">--default-recipient</samp> is given.
</p>
</dd>
<dt><a id="index-hidden_002drecipient"></a><span><code class="code">--hidden-recipient <var class="var">name</var></code><a class="copiable-link" href="#index-hidden_002drecipient"> &para;</a></span></dt>
<dt><code class="code">-R</code></dt>
<dd><p>Encrypt for user ID <var class="var">name</var>, but hide the key ID of this user&rsquo;s
key. This option helps to hide the receiver of the message and is a
limited countermeasure against traffic analysis. If this option or
<samp class="option">--recipient</samp> is not specified, GnuPG asks for the user ID unless
<samp class="option">--default-recipient</samp> is given.
</p>
</dd>
<dt><a id="index-recipient_002dfile"></a><span><code class="code">--recipient-file <var class="var">file</var></code><a class="copiable-link" href="#index-recipient_002dfile"> &para;</a></span></dt>
<dt><code class="code">-f</code></dt>
<dd><p>This option is similar to <samp class="option">--recipient</samp> except that it
encrypts to a key stored in the given file.  <var class="var">file</var> must be the
name of a file containing exactly one key.  <code class="command">gpg</code> assumes that
the key in this file is fully valid.
</p>
</dd>
<dt><a id="index-hidden_002drecipient_002dfile"></a><span><code class="code">--hidden-recipient-file <var class="var">file</var></code><a class="copiable-link" href="#index-hidden_002drecipient_002dfile"> &para;</a></span></dt>
<dt><code class="code">-F</code></dt>
<dd><p>This option is similar to <samp class="option">--hidden-recipient</samp> except that it
encrypts to a key stored in the given file.  <var class="var">file</var> must be the
name of a file containing exactly one key.  <code class="command">gpg</code> assumes that
the key in this file is fully valid.
</p>
</dd>
<dt><a id="index-encrypt_002dto"></a><span><code class="code">--encrypt-to <var class="var">name</var></code><a class="copiable-link" href="#index-encrypt_002dto"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--recipient</samp> but this one is intended for use in the
options file and may be used with your own user-id as an
&quot;encrypt-to-self&quot;.  It is suggested to use a fingerprint or at least a
long keyID for <var class="var">name</var>.  These keys are only used when there are
other recipients given either by use of <samp class="option">--recipient</samp> or by the
asked user id.  No trust checking is performed for these user ids and
even disabled keys can be used.
</p>
</dd>
<dt><a id="index-hidden_002dencrypt_002dto"></a><span><code class="code">--hidden-encrypt-to <var class="var">name</var></code><a class="copiable-link" href="#index-hidden_002dencrypt_002dto"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--hidden-recipient</samp> but this one is intended for use
in the options file and may be used with your own user-id as a hidden
&quot;encrypt-to-self&quot;.  It is suggested to use a fingerprint or at least a
long keyID for <var class="var">name</var>.  These keys are only used when there are
other recipients given either by use of <samp class="option">--recipient</samp> or by the
asked user id.  No trust checking is performed for these user ids and
even disabled keys can be used.
</p>
</dd>
<dt><a id="index-no_002dencrypt_002dto"></a><span><code class="code">--no-encrypt-to</code><a class="copiable-link" href="#index-no_002dencrypt_002dto"> &para;</a></span></dt>
<dd><p>Disable the use of all <samp class="option">--encrypt-to</samp> and
<samp class="option">--hidden-encrypt-to</samp> keys.
</p>
</dd>
<dt><a id="index-group"></a><span><code class="code">--group {<var class="var">name</var>=<var class="var">value</var>}</code><a class="copiable-link" href="#index-group"> &para;</a></span></dt>
<dd><p>Sets up a named group, which is similar to aliases in email programs.
Any time the group name is a recipient (<samp class="option">-r</samp> or
<samp class="option">--recipient</samp>), it will be expanded to the values
specified. Multiple groups with the same name are automatically merged
into a single group.
</p>
<p>The values are <code class="code">key IDs</code> or fingerprints, but any key description
is accepted. Note that a value with spaces in it will be treated as
two different values. Note also there is only one level of expansion
&mdash; you cannot make an group that points to another group. When used
from the command line, it may be necessary to quote the argument to
this option to prevent the shell from treating it as multiple
arguments.
</p>
</dd>
<dt><a id="index-ungroup"></a><span><code class="code">--ungroup <var class="var">name</var></code><a class="copiable-link" href="#index-ungroup"> &para;</a></span></dt>
<dd><p>Remove a given entry from the <samp class="option">--group</samp> list.
</p>
</dd>
<dt><a id="index-no_002dgroups"></a><span><code class="code">--no-groups</code><a class="copiable-link" href="#index-no_002dgroups"> &para;</a></span></dt>
<dd><p>Remove all entries from the <samp class="option">--group</samp> list.
</p>
</dd>
<dt><a id="index-local_002duser"></a><span><code class="code">--local-user <var class="var">name</var></code><a class="copiable-link" href="#index-local_002duser"> &para;</a></span></dt>
<dt><code class="code">-u</code></dt>
<dd><p>Use <var class="var">name</var> as the key to sign with. Note that this option overrides
<samp class="option">--default-key</samp>.
</p>
</dd>
<dt><a id="index-sender"></a><span><code class="code">--sender <var class="var">mbox</var></code><a class="copiable-link" href="#index-sender"> &para;</a></span></dt>
<dd><p>This option has two purposes.  <var class="var">mbox</var> must either be a complete
user ID containing a proper mail address or just a plain mail address.
The option can be given multiple times.
</p>
<p>When creating a signature this option tells gpg the signing key&rsquo;s user
id used to make the signature and embeds that user ID into the created
signature (using OpenPGP&rsquo;s &ldquo;Signer&rsquo;s User ID&rdquo; subpacket).  If the
option is given multiple times a suitable user ID is picked.  However,
if the signing key was specified directly by using a mail address
(i.e. not by using a fingerprint or key ID) this option is used and
the mail address is embedded in the created signature.
</p>
<p>When verifying a signature <var class="var">mbox</var> is used to restrict the
information printed by the TOFU code to matching user IDs.  If the
option is used and the signature contains a &ldquo;Signer&rsquo;s User ID&rdquo;
subpacket that information is is also used to restrict the printed
information.  Note that GnuPG considers only the mail address part of
a User ID.
</p>
<p>If this option or the said subpacket is available the TRUST lines as
printed by option <samp class="option">status-fd</samp> correspond to the corresponding
User ID; if no User ID is known the TRUST lines are computed directly
on the key and do not give any information about the User ID.  In the
latter case it his highly recommended to scripts and other frontends
to evaluate the VALIDSIG line, retrieve the key and print all User IDs
along with their validity (trust) information.
</p>

</dd>
<dt><a id="index-try_002dsecret_002dkey"></a><span><code class="code">--try-secret-key <var class="var">name</var></code><a class="copiable-link" href="#index-try_002dsecret_002dkey"> &para;</a></span></dt>
<dd><p>For hidden recipients GPG needs to know the keys to use for trial
decryption.  The key set with <samp class="option">--default-key</samp> is always tried
first, but this is often not sufficient.  This option allows setting more
keys to be used for trial decryption.  Although any valid user-id
specification may be used for <var class="var">name</var> it makes sense to use at least
the long keyid to avoid ambiguities.  Note that gpg-agent might pop up a
pinentry for a lot keys to do the trial decryption.  If you want to stop
all further trial decryption you may use close-window button instead of
the cancel button.
</p>
</dd>
<dt><a id="index-try_002dall_002dsecrets"></a><span><code class="code">--try-all-secrets</code><a class="copiable-link" href="#index-try_002dall_002dsecrets"> &para;</a></span></dt>
<dd><p>Don&rsquo;t look at the key ID as stored in the message but try all secret
keys in turn to find the right decryption key. This option forces the
behaviour as used by anonymous recipients (created by using
<samp class="option">--throw-keyids</samp> or <samp class="option">--hidden-recipient</samp>) and might come
handy in case where an encrypted message contains a bogus key ID.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002dskip_002dhidden_002drecipients"></a>
<a id="index-skip_002dhidden_002drecipients"></a><span><code class="code">--skip-hidden-recipients</code><a class="copiable-link" href="#index-skip_002dhidden_002drecipients"> &para;</a></span></dt>
<dt><code class="code">--no-skip-hidden-recipients</code></dt>
<dd><p>During decryption skip all anonymous recipients.  This option helps in
the case that people use the hidden recipients feature to hide their
own encrypt-to key from others.  If one has many secret keys this
may lead to a major annoyance because all keys are tried in turn to
decrypt something which was not really intended for it.  The drawback
of this option is that it is currently not possible to decrypt a
message which includes real anonymous recipients.
</p>

</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="GPG-Input-and-Output">
<div class="nav-panel">
<p>
Next: <a href="#OpenPGP-Options" accesskey="n" rel="next">OpenPGP protocol specific options</a>, Previous: <a href="#GPG-Key-related-Options" accesskey="p" rel="prev">Key related options</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Input-and-Output-1"><span>4.2.3 Input and Output<a class="copiable-link" href="#Input-and-Output-1"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-armor"></a><span><code class="code">--armor</code><a class="copiable-link" href="#index-armor"> &para;</a></span></dt>
<dt><code class="code">-a</code></dt>
<dd><p>Create ASCII armored output.  The default is to create the binary
OpenPGP format.
</p>
</dd>
<dt><a id="index-no_002darmor"></a><span><code class="code">--no-armor</code><a class="copiable-link" href="#index-no_002darmor"> &para;</a></span></dt>
<dd><p>Assume the input data is not in ASCII armored format.
</p>
</dd>
<dt><a id="index-output"></a><span><code class="code">--output <var class="var">file</var></code><a class="copiable-link" href="#index-output"> &para;</a></span></dt>
<dt><code class="code">-o <var class="var">file</var></code></dt>
<dd><p>Write output to <var class="var">file</var>.  To write to stdout use <code class="code">-</code> as the
filename.
</p>
</dd>
<dt><a id="index-max_002doutput"></a><span><code class="code">--max-output <var class="var">n</var></code><a class="copiable-link" href="#index-max_002doutput"> &para;</a></span></dt>
<dd><p>This option sets a limit on the number of bytes that will be generated
when processing a file. Since OpenPGP supports various levels of
compression, it is possible that the plaintext of a given message may be
significantly larger than the original OpenPGP message. While GnuPG
works properly with such messages, there is often a desire to set a
maximum file size that will be generated before processing is forced to
stop by the OS limits. Defaults to 0, which means &quot;no limit&quot;.
</p>
</dd>
<dt><a id="index-chunk_002dsize"></a><span><code class="code">--chunk-size <var class="var">n</var></code><a class="copiable-link" href="#index-chunk_002dsize"> &para;</a></span></dt>
<dd><p>The AEAD encryption mode encrypts the data in chunks so that a
receiving side can check for transmission errors or tampering at the
end of each chunk and does not need to delay this until all data has
been received.  The used chunk size is 2^<var class="var">n</var> byte.  The lowest
allowed value for <var class="var">n</var> is 6 (64 byte) and the largest is the
default of 22 which creates chunks not larger than 4 MiB.
</p>
</dd>
<dt><a id="index-input_002dsize_002dhint"></a><span><code class="code">--input-size-hint <var class="var">n</var></code><a class="copiable-link" href="#index-input_002dsize_002dhint"> &para;</a></span></dt>
<dd><p>This option can be used to tell GPG the size of the input data in
bytes.  <var class="var">n</var> must be a positive base-10 number.  This option is
only useful if the input is not taken from a file.  GPG may use this
hint to optimize its buffer allocation strategy.  It is also used by
the <samp class="option">--status-fd</samp> line &ldquo;PROGRESS&rdquo; to provide a value for
&ldquo;total&rdquo; if that is not available by other means.
</p>
</dd>
<dt><a id="index-key_002dorigin"></a><span><code class="code">--key-origin <var class="var">string</var>[,<var class="var">url</var>]</code><a class="copiable-link" href="#index-key_002dorigin"> &para;</a></span></dt>
<dd><p>gpg can track the origin of a key. Certain origins are implicitly
known (e.g. keyserver, web key directory) and set.  For a standard
import the origin of the keys imported can be set with this option.
To list the possible values use &quot;help&quot; for <var class="var">string</var>.  Some origins
can store an optional <var class="var">url</var> argument.  That URL can appended to
<var class="var">string</var> after a comma.
</p>
</dd>
<dt><a id="index-import_002doptions"></a><span><code class="code">--import-options <var class="var">parameters</var></code><a class="copiable-link" href="#index-import_002doptions"> &para;</a></span></dt>
<dd><p>This is a space or comma delimited string that gives options for
importing keys. Options can be prepended with a &lsquo;no-&rsquo; to give the
opposite meaning. The options are:
</p>
<dl class="table">
<dt>import-local-sigs</dt>
<dd><p>Allow importing key signatures marked as &quot;local&quot;. This is not
  generally useful unless a shared keyring scheme is being used.
  Defaults to no.
</p>
</dd>
<dt>keep-ownertrust</dt>
<dd><p>Normally possible still existing ownertrust values of a key are
  cleared if a key is imported.  This is in general desirable so that
  a formerly deleted key does not automatically gain an ownertrust
  values merely due to import.  On the other hand it is sometimes
  necessary to re-import a trusted set of keys again but keeping
  already assigned ownertrust values.  This can be achieved by using
  this option.
</p>
</dd>
<dt>repair-pks-subkey-bug</dt>
<dd><p>During import, attempt to repair the damage caused by the PKS keyserver
  bug (pre version 0.9.6) that mangles keys with multiple subkeys. Note
  that this cannot completely repair the damaged key as some crucial data
  is removed by the keyserver, but it does at least give you back one
  subkey. Defaults to no for regular <samp class="option">--import</samp> and to yes for
  keyserver <samp class="option">--receive-keys</samp>.
</p>
</dd>
<dt>import-show</dt>
<dt>show-only</dt>
<dd><p>Show a listing of the key as imported right before it is stored.
  This can be combined with the option <samp class="option">--dry-run</samp> to only look
  at keys; the option <samp class="option">show-only</samp> is a shortcut for this
  combination.  The command <samp class="option">--show-keys</samp> is another shortcut
  for this.  Note that suffixes like &rsquo;#&rsquo; for &quot;sec&quot; and &quot;sbb&quot; lines
  may or may not be printed.
</p>
</dd>
<dt>import-export</dt>
<dd><p>Run the entire import code but instead of storing the key to the
  local keyring write it to the output.  The export option
  <samp class="option">export-dane</samp> affect the output.  This option can for example
  be used to remove all invalid parts from a key without the
  need to store it.
</p>
</dd>
<dt>merge-only</dt>
<dd><p>During import, allow key updates to existing keys, but do not allow
  any new keys to be imported. Defaults to no.
</p>
</dd>
<dt>import-clean</dt>
<dd><p>After import, compact (remove all signatures except the
  self-signature) any user IDs from the new key that are not usable.
  Then, remove any signatures from the new key that are not usable.
  This includes signatures that were issued by keys that are not present
  on the keyring. This option is the same as running the <samp class="option">--edit-key</samp>
  command &quot;clean&quot; after import. Defaults to no.
</p>
</dd>
<dt>self-sigs-only</dt>
<dd><p>Accept only self-signatures while importing a key.  All other key
  signatures are skipped at an early import stage.  This option can be
  used with <code class="code">keyserver-options</code> to mitigate attempts to flood a
  key with bogus signatures from a keyserver.  The drawback is that
  all other valid key signatures, as required by the Web of Trust are
  also not imported.  Note that when using this option along with
  import-clean it suppresses the final clean step after merging the
  imported key into the existing key.
</p>
</dd>
<dt>ignore-attributes</dt>
<dd><p>Ignore all attribute user IDs (photo IDs) and their signatures while
  importing a key.
</p>
</dd>
<dt>repair-keys</dt>
<dd><p>After import, fix various problems with the
  keys.  For example, this reorders signatures, and strips duplicate
  signatures.  Defaults to yes.
</p>
</dd>
<dt>bulk-import</dt>
<dd><p>When used the keyboxd (option <samp class="option">use-keyboxd</samp> in <samp class="file">common.conf</samp>)
  does the import within a single
  transaction.
</p>
</dd>
<dt>import-minimal</dt>
<dd><p>Import the smallest key possible. This removes all signatures except
  the most recent self-signature on each user ID. This option is the
  same as running the <samp class="option">--edit-key</samp> command &quot;minimize&quot; after import.
  Defaults to no.
</p>
</dd>
<dt>restore</dt>
<dt>import-restore</dt>
<dd><p>Import in key restore mode.  This imports all data which is usually
  skipped during import; including all GnuPG specific data.  All other
  contradicting options are overridden.
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-export_002dfilter"></a>
<a id="index-import_002dfilter"></a><span><code class="code">--import-filter {<var class="var">name</var>=<var class="var">expr</var>}</code><a class="copiable-link" href="#index-import_002dfilter"> &para;</a></span></dt>
<dt><code class="code">--export-filter {<var class="var">name</var>=<var class="var">expr</var>}</code></dt>
<dd><p>These options define an import/export filter which are applied to the
imported/exported keyblock right before it will be stored/written.
<var class="var">name</var> defines the type of filter to use, <var class="var">expr</var> the
expression to evaluate.  The option can be used several times which
then appends more expression to the same <var class="var">name</var>.
</p>
<p>The available filter types are:
</p>
<dl class="table">
<dt>keep-uid</dt>
<dd><p>This filter will keep a user id packet and its dependent packets in
  the keyblock if the expression evaluates to true.
</p>
</dd>
<dt>drop-subkey</dt>
<dd><p>This filter drops the selected subkeys.
  Currently only implemented for &ndash;export-filter.
</p>
</dd>
<dt>drop-sig</dt>
<dd><p>This filter drops the selected key signatures on user ids.
  Self-signatures are not considered.
  Currently only implemented for &ndash;import-filter.
</p>
</dd>
<dt>select</dt>
<dd><p>This filter is only implemented by <samp class="option">--list-filter</samp>.  All
  property names may be used.
</p>
</dd>
</dl>

<p>For the syntax of the expression see the chapter &quot;FILTER EXPRESSIONS&quot;.
The property names for the expressions depend on the actual filter
type and are indicated in the following table.  Note that all property
names may also be used by <samp class="option">--list-filter</samp>.
</p>
<p>Property names may be prefix with a scope delimited by a slash.  Valid
scopes are &quot;pub&quot; for public and secret primary keys, &quot;sub&quot; for public
and secret subkeys, &quot;uid&quot; for for user-ID packets, and &quot;sig&quot; for
signature packets.  Invalid scopes are currently ignored.
</p>
<p>The available properties are:
</p>
<dl class="table">
<dt>uid</dt>
<dd><p>A string with the user id.  (keep-uid)
</p>
</dd>
<dt>mbox</dt>
<dd><p>The addr-spec part of a user id with mailbox or the empty string.
  (keep-uid)
</p>
</dd>
<dt>algostr</dt>
<dd><p>A string with the key algorithm description.  For example &quot;rsa3072&quot;
  or &quot;ed25519&quot;.
</p>
</dd>
<dt>key_algo</dt>
<dd><p>A number with the public key algorithm of a key or subkey packet.
  (drop-subkey)
</p>
</dd>
<dt>key_size</dt>
<dd><p>A number with the effective key size of a key or subkey packet.
  (drop-subkey)
</p>
</dd>
<dt>key_created</dt>
<dt>key_created_d</dt>
<dd><p>The first is the timestamp a public key or subkey packet was
  created.  The second is the same but given as an ISO string,
  e.g. &quot;2016-08-17&quot;. (drop-subkey)
</p>
</dd>
<dt>key_expires</dt>
<dt>key_expires_d</dt>
<dd><p>The expiration time of a public key or subkey or 0 if it does not
  expire.  The second is the same but given as an ISO date string or
  an empty string e.g. &quot;2038-01-19&quot;.
</p>
</dd>
<dt>fpr</dt>
<dd><p>The hexified fingerprint of the current subkey or primary key.
  (drop-subkey)
</p>
</dd>
<dt>primary</dt>
<dd><p>Boolean indicating whether the user id is the primary one.  (keep-uid)
</p>
</dd>
<dt>expired</dt>
<dd><p>Boolean indicating whether a user id (keep-uid), a key (drop-subkey), or a
  signature (drop-sig) expired.
</p>
</dd>
<dt>revoked</dt>
<dd><p>Boolean indicating whether a user id (keep-uid) or a key (drop-subkey) has
  been revoked.
</p>
</dd>
<dt>disabled</dt>
<dd><p>Boolean indicating whether a primary key is disabled.
</p>
</dd>
<dt>secret</dt>
<dd><p>Boolean indicating whether a key or subkey is a secret one.
  (drop-subkey)
</p>
</dd>
<dt>usage</dt>
<dd><p>A string indicating the usage flags for the subkey, from the
  sequence &ldquo;ecsa?&rdquo;.  For example, a subkey capable of just signing
  and authentication would be an exact match for &ldquo;sa&rdquo;. (drop-subkey)
</p>
</dd>
<dt>sig_created</dt>
<dt>sig_created_d</dt>
<dd><p>The first is the timestamp a signature packet was created.  The
  second is the same but given as an ISO date string,
  e.g. &quot;2016-08-17&quot;. (drop-sig)
</p>
</dd>
<dt>sig_expires</dt>
<dt>sig_expires_d</dt>
<dd><p>The expiration time of a signature packet or 0 if it does not
  expire.  The second is the same but given as an ISO date string or
  an empty string e.g. &quot;2038-01-19&quot;.
</p>
</dd>
<dt>sig_algo</dt>
<dd><p>A number with the public key algorithm of a signature packet. (drop-sig)
</p>
</dd>
<dt>sig_digest_algo</dt>
<dd><p>A number with the digest algorithm of a signature packet. (drop-sig)
</p>
</dd>
<dt>origin</dt>
<dd><p>A string with the key origin or a question mark.  For example the
  string &ldquo;wkd&rdquo; is used if a key originated from a Web Key Directory
  lookup.
</p>
</dd>
<dt>lastupd</dt>
<dd><p>The timestamp the key was last updated from a keyserver or the Web
  Key Directory.
</p>
</dd>
<dt>url</dt>
<dd><p>A string with the the URL associated wit the last key lookup.
</p>
</dd>
</dl>

</dd>
<dt><a id="index-export_002doptions"></a><span><code class="code">--export-options <var class="var">parameters</var></code><a class="copiable-link" href="#index-export_002doptions"> &para;</a></span></dt>
<dd><p>This is a space or comma delimited string that gives options for
exporting keys.  Options can be prepended with a &lsquo;no-&rsquo; to give the
opposite meaning.  The options are:
</p>
<dl class="table">
<dt>export-local-sigs</dt>
<dd><p>Allow exporting key signatures marked as &quot;local&quot;. This is not
  generally useful unless a shared keyring scheme is being used.
  Defaults to no.
</p>
</dd>
<dt>export-attributes</dt>
<dd><p>Include attribute user IDs (photo IDs) while exporting. Not
  including attribute user IDs is useful to export keys that are going
  to be used by an OpenPGP program that does not accept attribute user
  IDs.  Defaults to yes.
</p>
</dd>
<dt>export-sensitive-revkeys</dt>
<dd><p>Include designated revoker information that was marked as
  &quot;sensitive&quot;. Defaults to no.
</p>

</dd>
<dt>backup</dt>
<dt>export-backup</dt>
<dd><p>Export for use as a backup.  The exported data includes all data
  which is needed to restore the key or keys later with GnuPG.  The
  format is basically the OpenPGP format but enhanced with GnuPG
  specific data.  All other contradicting options are overridden.
</p>
</dd>
<dt>export-clean</dt>
<dd><p>Compact (remove all signatures from) user IDs on the key being
  exported if the user IDs are not usable. Also, do not export any
  signatures that are not usable. This includes signatures that were
  issued by keys that are not present on the keyring. This option is
  the same as running the <samp class="option">--edit-key</samp> command &quot;clean&quot; before export
  except that the local copy of the key is not modified. Defaults to
  no.
</p>
</dd>
<dt>export-minimal</dt>
<dd><p>Export the smallest key possible. This removes all signatures except the
  most recent self-signature on each user ID. This option is the same as
  running the <samp class="option">--edit-key</samp> command &quot;minimize&quot; before export except
  that the local copy of the key is not modified. Defaults to no.
</p>
</dd>
<dt>export-revocs</dt>
<dd><p>Export only standalone revocation certificates of the key.  This
  option does not export revocations of 3rd party certificate
  revocations.
</p>
</dd>
<dt>export-dane</dt>
<dd><p>Instead of outputting the key material output OpenPGP DANE records
  suitable to put into DNS zone files.  An ORIGIN line is printed before
  each record to allow diverting the records to the corresponding zone
  file.
</p>
</dd>
<dt>mode1003</dt>
<dd><p>Enable the use of a new secret key export format.  This format
  avoids the re-encryption as required with the current OpenPGP format
  and also improves the security of the secret key if it has been
  protected with a passphrase.  Note that an unprotected key is
  exported as-is and thus not secure; the general rule to convey
  secret keys in an OpenPGP encrypted file still applies with this
  mode.  Versions of GnuPG before 2.4.0 are not able to import such a
  secret file.
</p>
</dd>
</dl>

</dd>
<dt><a id="index-with_002dcolons"></a><span><code class="code">--with-colons</code><a class="copiable-link" href="#index-with_002dcolons"> &para;</a></span></dt>
<dd><p>Print key listings delimited by colons. Note that the output will be
encoded in UTF-8 regardless of any <samp class="option">--display-charset</samp> setting. This
format is useful when GnuPG is called from scripts and other programs
as it is easily machine parsed. The details of this format are
documented in the file <samp class="file">doc/DETAILS</samp>, which is included in the GnuPG
source distribution.
</p>
</dd>
<dt><a id="index-fixed_002dlist_002dmode"></a><span><code class="code">--fixed-list-mode</code><a class="copiable-link" href="#index-fixed_002dlist_002dmode"> &para;</a></span></dt>
<dd><p>Do not merge primary user ID and primary key in <samp class="option">--with-colon</samp>
listing mode and print all timestamps as seconds since 1970-01-01.
Since GnuPG 2.0.10, this mode is always used and thus this option is
obsolete; it does not harm to use it though.
</p>
</dd>
<dt><a id="index-legacy_002dlist_002dmode"></a><span><code class="code">--legacy-list-mode</code><a class="copiable-link" href="#index-legacy_002dlist_002dmode"> &para;</a></span></dt>
<dd><p>Revert to the pre-2.1 public key list mode.  This only affects the
human readable output and not the machine interface
(i.e. <code class="code">--with-colons</code>).  Note that the legacy format does not
convey suitable information for elliptic curves.
</p>
</dd>
<dt><a id="index-with_002dfingerprint"></a><span><code class="code">--with-fingerprint</code><a class="copiable-link" href="#index-with_002dfingerprint"> &para;</a></span></dt>
<dd><p>Same as the command <samp class="option">--fingerprint</samp> but changes only the format
of the output and may be used together with another command.
</p>
</dd>
<dt><a id="index-with_002dsubkey_002dfingerprint"></a><span><code class="code">--with-subkey-fingerprint</code><a class="copiable-link" href="#index-with_002dsubkey_002dfingerprint"> &para;</a></span></dt>
<dd><p>If a fingerprint is printed for the primary key, this option forces
printing of the fingerprint for all subkeys.  This could also be
achieved by using the <samp class="option">--with-fingerprint</samp> twice but by using
this option along with keyid-format &quot;none&quot; a compact fingerprint is
printed.
</p>
</dd>
<dt><a id="index-with_002dv5_002dfingerprint"></a><span><code class="code">--with-v5-fingerprint</code><a class="copiable-link" href="#index-with_002dv5_002dfingerprint"> &para;</a></span></dt>
<dd><p>In a colon mode listing emit &quot;fp2&quot; lines for version 4 OpenPGP keys
having a v5 style fingerprint of the key.
</p>
</dd>
<dt><a id="index-with_002dicao_002dspelling"></a><span><code class="code">--with-icao-spelling</code><a class="copiable-link" href="#index-with_002dicao_002dspelling"> &para;</a></span></dt>
<dd><p>Print the ICAO spelling of the fingerprint in addition to the hex digits.
</p>
</dd>
<dt><a id="index-with_002dkeygrip"></a><span><code class="code">--with-keygrip</code><a class="copiable-link" href="#index-with_002dkeygrip"> &para;</a></span></dt>
<dd><p>Include the keygrip in the key listings.  In <code class="code">--with-colons</code> mode
this is implicitly enable for secret keys.
</p>
</dd>
<dt><a id="index-with_002dkey_002dorigin"></a><span><code class="code">--with-key-origin</code><a class="copiable-link" href="#index-with_002dkey_002dorigin"> &para;</a></span></dt>
<dd><p>Include the locally held information on the origin and last update of
a key in a key listing.  In <code class="code">--with-colons</code> mode this is always
printed.  This data is currently experimental and shall not be
considered part of the stable API.
</p>
</dd>
<dt><a id="index-with_002dwkd_002dhash"></a><span><code class="code">--with-wkd-hash</code><a class="copiable-link" href="#index-with_002dwkd_002dhash"> &para;</a></span></dt>
<dd><p>Print a Web Key Directory identifier along with each user ID in key
listings.  This is an experimental feature and semantics may change.
</p>
</dd>
<dt><a id="index-with_002dsecret"></a><span><code class="code">--with-secret</code><a class="copiable-link" href="#index-with_002dsecret"> &para;</a></span></dt>
<dd><p>Include info about the presence of a secret key in public key listings
done with <code class="code">--with-colons</code>.
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="OpenPGP-Options">
<div class="nav-panel">
<p>
Next: <a href="#Compliance-Options" accesskey="n" rel="next">Compliance options</a>, Previous: <a href="#GPG-Input-and-Output" accesskey="p" rel="prev">Input and Output</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="OpenPGP-protocol-specific-options"><span>4.2.4 OpenPGP protocol specific options<a class="copiable-link" href="#OpenPGP-protocol-specific-options"> &para;</a></span></h4>

<dl class="table">
<dt><a class="index-entry-id" id="index-force_002daead"></a>
<a id="index-force_002docb"></a><span><code class="code">--force-ocb</code><a class="copiable-link" href="#index-force_002docb"> &para;</a></span></dt>
<dt><code class="code">--force-aead</code></dt>
<dd><p>Force the use of AEAD encryption over MDC encryption.  AEAD is a
modern and faster way to do authenticated encryption than the old MDC
method.  <samp class="option">--force-aead</samp> is an alias and deprecated.  See also
option <samp class="option">--chunk-size</samp>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-disable_002dmdc"></a>
<a id="index-force_002dmdc"></a><span><code class="code">--force-mdc</code><a class="copiable-link" href="#index-force_002dmdc"> &para;</a></span></dt>
<dt><code class="code">--disable-mdc</code></dt>
<dd><p>These options are obsolete and have no effect since GnuPG 2.2.8.  The
MDC is always used unless the keys indicate that an AEAD algorithm can
be used in which case AEAD is used.  But note: If the creation of a
legacy non-MDC message is exceptionally required, the option
<samp class="option">--rfc2440</samp> allows for this.
</p>
</dd>
<dt><a id="index-disable_002dsigner_002duid"></a><span><code class="code">--disable-signer-uid</code><a class="copiable-link" href="#index-disable_002dsigner_002duid"> &para;</a></span></dt>
<dd><p>By default the user ID of the signing key is embedded in the data signature.
As of now this is only done if the signing key has been specified with
<samp class="option">local-user</samp> using a mail address, or with <samp class="option">sender</samp>.  This
information can be helpful for verifier to locate the key; see option
<samp class="option">--auto-key-retrieve</samp>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002dinclude_002dkey_002dblock"></a>
<a id="index-include_002dkey_002dblock"></a><span><code class="code">--include-key-block</code><a class="copiable-link" href="#index-include_002dkey_002dblock"> &para;</a></span></dt>
<dt><code class="code">--no-include-key-block</code></dt>
<dd><p>This option is used to embed the actual signing key into a data
signature.  The embedded key is stripped down to a single user id and
includes only the signing subkey used to create the signature as well
as as valid encryption subkeys.  All other info is removed from the
key to keep it and thus the signature small.  This option is the
OpenPGP counterpart to the <code class="command">gpgsm</code> option
<samp class="option">--include-certs</samp> and allows the recipient of a signed message
to reply encrypted to the sender without using any online directories
to lookup the key.  The default is <samp class="option">--no-include-key-block</samp>.
See also the option <samp class="option">--auto-key-import</samp>.
</p>
</dd>
<dt><a id="index-personal_002dcipher_002dpreferences"></a><span><code class="code">--personal-cipher-preferences <var class="var">string</var></code><a class="copiable-link" href="#index-personal_002dcipher_002dpreferences"> &para;</a></span></dt>
<dd><p>Set the list of personal cipher preferences to <var class="var">string</var>.  Use
<code class="command">gpg --version</code> to get a list of available algorithms,
and use <code class="code">none</code> to set no preference at all.  This allows the user
to safely override the algorithm chosen by the recipient key
preferences, as GPG will only select an algorithm that is usable by
all recipients.  The most highly ranked cipher in this list is also
used for the <samp class="option">--symmetric</samp> encryption command.
</p>
</dd>
<dt><a id="index-personal_002ddigest_002dpreferences"></a><span><code class="code">--personal-digest-preferences <var class="var">string</var></code><a class="copiable-link" href="#index-personal_002ddigest_002dpreferences"> &para;</a></span></dt>
<dd><p>Set the list of personal digest preferences to <var class="var">string</var>.  Use
<code class="command">gpg --version</code> to get a list of available algorithms,
and use <code class="code">none</code> to set no preference at all.  This allows the user
to safely override the algorithm chosen by the recipient key
preferences, as GPG will only select an algorithm that is usable by
all recipients.  The most highly ranked digest algorithm in this list
is also used when signing without encryption
(e.g. <samp class="option">--clear-sign</samp> or <samp class="option">--sign</samp>).
</p>
</dd>
<dt><a id="index-personal_002dcompress_002dpreferences"></a><span><code class="code">--personal-compress-preferences <var class="var">string</var></code><a class="copiable-link" href="#index-personal_002dcompress_002dpreferences"> &para;</a></span></dt>
<dd><p>Set the list of personal compression preferences to <var class="var">string</var>.
Use <code class="command">gpg --version</code> to get a list of available
algorithms, and use <code class="code">none</code> to set no preference at all.  This
allows the user to safely override the algorithm chosen by the
recipient key preferences, as GPG will only select an algorithm that
is usable by all recipients.  The most highly ranked compression
algorithm in this list is also used when there are no recipient keys
to consider (e.g. <samp class="option">--symmetric</samp>).
</p>
</dd>
<dt><a id="index-s2k_002dcipher_002dalgo"></a><span><code class="code">--s2k-cipher-algo <var class="var">name</var></code><a class="copiable-link" href="#index-s2k_002dcipher_002dalgo"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as the cipher algorithm for symmetric encryption with
a passphrase if <samp class="option">--personal-cipher-preferences</samp> and
<samp class="option">--cipher-algo</samp> are not given.  The default is AES-128.
</p>
</dd>
<dt><a id="index-s2k_002ddigest_002dalgo"></a><span><code class="code">--s2k-digest-algo <var class="var">name</var></code><a class="copiable-link" href="#index-s2k_002ddigest_002dalgo"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as the digest algorithm used to mangle the passphrases
for symmetric encryption.  The default is SHA-1.
</p>
</dd>
<dt><a id="index-s2k_002dmode"></a><span><code class="code">--s2k-mode <var class="var">n</var></code><a class="copiable-link" href="#index-s2k_002dmode"> &para;</a></span></dt>
<dd><p>Selects how passphrases for symmetric encryption are mangled. If
<var class="var">n</var> is 0 a plain passphrase (which is in general not recommended)
will be used, a 1 adds a salt (which should not be used) to the
passphrase and a 3 (the default) iterates the whole process a number
of times (see <samp class="option">--s2k-count</samp>).
</p>
</dd>
<dt><a id="index-s2k_002dcount-1"></a><span><code class="code">--s2k-count <var class="var">n</var></code><a class="copiable-link" href="#index-s2k_002dcount-1"> &para;</a></span></dt>
<dd><p>Specify how many times the passphrases mangling for symmetric
encryption is repeated.  This value may range between 1024 and
65011712 inclusive.  The default is inquired from gpg-agent.  Note
that not all values in the 1024-65011712 range are legal and if an
illegal value is selected, GnuPG will round up to the nearest legal
value.  This option is only meaningful if <samp class="option">--s2k-mode</samp> is set
to the default of 3.
</p>

</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="Compliance-Options">
<div class="nav-panel">
<p>
Next: <a href="#GPG-Esoteric-Options" accesskey="n" rel="next">Doing things one usually doesn&rsquo;t want to do</a>, Previous: <a href="#OpenPGP-Options" accesskey="p" rel="prev">OpenPGP protocol specific options</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Compliance-options"><span>4.2.5 Compliance options<a class="copiable-link" href="#Compliance-options"> &para;</a></span></h4>

<p>These options control what GnuPG is compliant to. Only one of these
options may be active at a time. Note that the default setting of
this is nearly always the correct one. See the INTEROPERABILITY WITH
OTHER OPENPGP PROGRAMS section below before using one of these
options.
</p>
<dl class="table">
<dt><a id="index-gnupg"></a><span><code class="code">--gnupg</code><a class="copiable-link" href="#index-gnupg"> &para;</a></span></dt>
<dd><p>Use standard GnuPG behavior. This is essentially OpenPGP behavior (see
<samp class="option">--openpgp</samp>), but with extension from the proposed update to
OpenPGP and with some additional workarounds for common compatibility
problems in different versions of PGP.  This is the default option, so
it is not generally needed, but it may be useful to override a
different compliance option in the gpg.conf file.
</p>
</dd>
<dt><a id="index-openpgp"></a><span><code class="code">--openpgp</code><a class="copiable-link" href="#index-openpgp"> &para;</a></span></dt>
<dd><p>Reset all packet, cipher and digest options to strict OpenPGP
behavior.  This option implies <samp class="option">--allow-old-cipher-algos</samp>.  Use
this option to reset all previous options like <samp class="option">--s2k-*</samp>,
<samp class="option">--cipher-algo</samp>, <samp class="option">--digest-algo</samp> and
<samp class="option">--compress-algo</samp> to OpenPGP compliant values. All PGP
workarounds are disabled.
</p>
</dd>
<dt><a id="index-rfc4880"></a><span><code class="code">--rfc4880</code><a class="copiable-link" href="#index-rfc4880"> &para;</a></span></dt>
<dd><p>Reset all packet, cipher and digest options to strict RFC-4880
behavior.  This option implies <samp class="option">--allow-old-cipher-algos</samp>.
Note that this is currently the same thing as <samp class="option">--openpgp</samp>.
</p>
</dd>
<dt><a id="index-rfc4880bis"></a><span><code class="code">--rfc4880bis</code><a class="copiable-link" href="#index-rfc4880bis"> &para;</a></span></dt>
<dd><p>Reset all packet, cipher and digest options to strict according to the
proposed updates of RFC-4880.
</p>
</dd>
<dt><a id="index-rfc2440"></a><span><code class="code">--rfc2440</code><a class="copiable-link" href="#index-rfc2440"> &para;</a></span></dt>
<dd><p>Reset all packet, cipher and digest options to strict RFC-2440
behavior.  Note that by using this option encryption packets are
created in a legacy mode without MDC protection.  This is dangerous
and should thus only be used for experiments.  This option implies
<samp class="option">--allow-old-cipher-algos</samp>.  See also option
<samp class="option">--ignore-mdc-error</samp>.
</p>
</dd>
<dt><a id="index-pgp6"></a><span><code class="code">--pgp6</code><a class="copiable-link" href="#index-pgp6"> &para;</a></span></dt>
<dd><p>This option is obsolete; it is handled as an alias for <samp class="option">--pgp7</samp>
</p>
</dd>
<dt><a id="index-pgp7"></a><span><code class="code">--pgp7</code><a class="copiable-link" href="#index-pgp7"> &para;</a></span></dt>
<dd><p>Set up all options to be as PGP 7 compliant as possible. This allowed
the ciphers IDEA, 3DES, CAST5,AES128, AES192, AES256, and TWOFISH.,
the hashes MD5, SHA1 and RIPEMD160, and the compression algorithms
none and ZIP.  This option implies <samp class="option">--escape-from-lines</samp> and
disables <samp class="option">--throw-keyids</samp>,
</p>
</dd>
<dt><a id="index-pgp8"></a><span><code class="code">--pgp8</code><a class="copiable-link" href="#index-pgp8"> &para;</a></span></dt>
<dd><p>Set up all options to be as PGP 8 compliant as possible. PGP 8 is a lot
closer to the OpenPGP standard than previous versions of PGP, so all
this does is disable <samp class="option">--throw-keyids</samp> and set
<samp class="option">--escape-from-lines</samp>.  All algorithms are allowed except for the
SHA224, SHA384, and SHA512 digests.
</p>
</dd>
<dt><a id="index-compliance"></a><span><code class="code">--compliance <var class="var">string</var></code><a class="copiable-link" href="#index-compliance"> &para;</a></span></dt>
<dd><p>This option can be used instead of one of the options above.  Valid
values for <var class="var">string</var> are the above option names (without the double
dash) and possibly others as shown when using &quot;help&quot; for <var class="var">string</var>.
</p>
</dd>
<dt><a id="index-min_002drsa_002dlength"></a><span><code class="code">--min-rsa-length <var class="var">n</var></code><a class="copiable-link" href="#index-min_002drsa_002dlength"> &para;</a></span></dt>
<dd><p>This option adjusts the compliance mode &quot;de-vs&quot; for stricter key size
requirements.  For example, a value of 3000 turns rsa2048 and dsa2048
keys into non-VS-NfD compliant keys.
</p>
</dd>
<dt><a id="index-require_002dcompliance"></a><span><code class="code">--require-compliance</code><a class="copiable-link" href="#index-require_002dcompliance"> &para;</a></span></dt>
<dd><p>To check that data has been encrypted according to the rules of the
current compliance mode, a gpg user needs to evaluate the status
lines.  This is allows frontends to handle compliance check in a more
flexible way.  However, for scripted use the required evaluation of
the status-line requires quite some effort; this option can be used
instead to make sure that the gpg process exits with a failure if the
compliance rules are not fulfilled.  Note that this option has
currently an effect only in &quot;de-vs&quot; mode.
</p>
</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="GPG-Esoteric-Options">
<div class="nav-panel">
<p>
Next: <a href="#Deprecated-Options" accesskey="n" rel="next">Deprecated options</a>, Previous: <a href="#Compliance-Options" accesskey="p" rel="prev">Compliance options</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Doing-things-one-usually-doesn_0027t-want-to-do"><span>4.2.6 Doing things one usually doesn&rsquo;t want to do<a class="copiable-link" href="#Doing-things-one-usually-doesn_0027t-want-to-do"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-dry_002drun"></a><span><code class="code">-n</code><a class="copiable-link" href="#index-dry_002drun"> &para;</a></span></dt>
<dt><code class="code">--dry-run</code></dt>
<dd><p>Don&rsquo;t make any changes (this is not completely implemented).
</p>
</dd>
<dt><a id="index-list_002donly"></a><span><code class="code">--list-only</code><a class="copiable-link" href="#index-list_002donly"> &para;</a></span></dt>
<dd><p>Changes the behaviour of some commands. This is like <samp class="option">--dry-run</samp> but
different in some cases. The semantic of this option may be extended in
the future. Currently it only skips the actual decryption pass and
therefore enables a fast listing of the encryption keys.
</p>
</dd>
<dt><a id="index-interactive"></a><span><code class="code">-i</code><a class="copiable-link" href="#index-interactive"> &para;</a></span></dt>
<dt><code class="code">--interactive</code></dt>
<dd><p>Prompt before overwriting any files.
</p>
</dd>
<dt><a id="index-compatibility_002dflags-1"></a><span><code class="code">--compatibility-flags <var class="var">flags</var></code><a class="copiable-link" href="#index-compatibility_002dflags-1"> &para;</a></span></dt>
<dd><p>Set compatibility flags to work around problems due to non-compliant
keys or data.  The <var class="var">flags</var> are given as a comma separated
list of flag names and are OR-ed together.  The special flag &quot;none&quot;
clears the list and allows one to start over with an empty list.  To get a
list of available flags the sole word &quot;help&quot; can be used.
</p>
</dd>
<dt><a id="index-debug_002dlevel-2"></a><span><code class="code">--debug-level <var class="var">level</var></code><a class="copiable-link" href="#index-debug_002dlevel-2"> &para;</a></span></dt>
<dd><p>Select the debug level for investigating problems. <var class="var">level</var> may be
a numeric value or by a keyword:
</p>
<dl class="table">
<dt><code class="code">none</code></dt>
<dd><p>No debugging at all.  A value of less than 1 may be used instead of
  the keyword.
  </p></dd>
<dt><code class="code">basic</code></dt>
<dd><p>Some basic debug messages.  A value between 1 and 2 may be used
  instead of the keyword.
  </p></dd>
<dt><code class="code">advanced</code></dt>
<dd><p>More verbose debug messages.  A value between 3 and 5 may be used
  instead of the keyword.
  </p></dd>
<dt><code class="code">expert</code></dt>
<dd><p>Even more detailed messages.  A value between 6 and 8 may be used
  instead of the keyword.
  </p></dd>
<dt><code class="code">guru</code></dt>
<dd><p>All of the debug messages you can get. A value greater than 8 may be
  used instead of the keyword.  The creation of hash tracing files is
  only enabled if the keyword is used.
</p></dd>
</dl>

<p>How these messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this program. They are
however carefully selected to best aid in debugging.
</p>
</dd>
<dt><a id="index-debug-2"></a><span><code class="code">--debug <var class="var">flags</var></code><a class="copiable-link" href="#index-debug-2"> &para;</a></span></dt>
<dd><p>Set debug flags.  All flags are or-ed and <var class="var">flags</var> may be given
in C syntax (e.g. 0x0042) or as a comma separated list of flag names.
To get a list of all supported flags the single word &quot;help&quot; can be
used. This option is only useful for debugging and the behavior may
change at any time without notice.
</p>
</dd>
<dt><a id="index-debug_002dall-2"></a><span><code class="code">--debug-all</code><a class="copiable-link" href="#index-debug_002dall-2"> &para;</a></span></dt>
<dd><p>Set all useful debugging flags.
</p>
</dd>
<dt><a id="index-debug_002diolbf"></a><span><code class="code">--debug-iolbf</code><a class="copiable-link" href="#index-debug_002diolbf"> &para;</a></span></dt>
<dd><p>Set stdout into line buffered mode.  This option is only honored when
given on the command line.
</p>
</dd>
<dt><a id="index-debug_002diolbf-1"></a><span><code class="code">--debug-set-iobuf-size <var class="var">n</var></code><a class="copiable-link" href="#index-debug_002diolbf-1"> &para;</a></span></dt>
<dd><p>Change the buffer size of the IOBUFs to <var class="var">n</var> kilobyte.  Using 0
prints the current size.  Note well: This is a maintainer only option
and may thus be changed or removed at any time without notice.
</p>
</dd>
<dt><a id="index-debug_002dallow_002dlarge_002dchunks"></a><span><code class="code">--debug-allow-large-chunks</code><a class="copiable-link" href="#index-debug_002dallow_002dlarge_002dchunks"> &para;</a></span></dt>
<dd><p>To facilitate software tests and experiments this option allows one to
specify a limit of up to 4 EiB (<code class="code">--chunk-size 62</code>).
</p>
</dd>
<dt><a id="index-debug_002dignore_002dexpiration"></a><span><code class="code">--debug-ignore-expiration</code><a class="copiable-link" href="#index-debug_002dignore_002dexpiration"> &para;</a></span></dt>
<dd><p>This option tries to override certain key expiration dates.  It is
only useful for certain regression tests.
</p>
</dd>
<dt><a id="index-faked_002dsystem_002dtime-2"></a><span><code class="code">--faked-system-time <var class="var">epoch</var></code><a class="copiable-link" href="#index-faked_002dsystem_002dtime-2"> &para;</a></span></dt>
<dd><p>This option is only useful for testing; it sets the system time back
or forth to <var class="var">epoch</var> which is the number of seconds elapsed since
the year 1970.  Alternatively <var class="var">epoch</var> may be given as a full ISO
time string (e.g. &quot;20070924T154812&quot;).
</p>
<p>If you suffix <var class="var">epoch</var> with an exclamation mark (!), the system time
will appear to be frozen at the specified time.
</p>
</dd>
<dt><a id="index-full_002dtimestrings"></a><span><code class="code">--full-timestrings</code><a class="copiable-link" href="#index-full_002dtimestrings"> &para;</a></span></dt>
<dd><p>Change the format of printed creation and expiration times from just
the date to the date and time.  This is in general not useful and the
same information is anyway available in <samp class="option">--with-colons</samp> mode.
These longer strings are also not well aligned with other printed
data.
</p>
</dd>
<dt><a id="index-enable_002dprogress_002dfilter"></a><span><code class="code">--enable-progress-filter</code><a class="copiable-link" href="#index-enable_002dprogress_002dfilter"> &para;</a></span></dt>
<dd><p>Enable certain PROGRESS status outputs. This option allows frontends
to display a progress indicator while gpg is processing larger files.
There is a slight performance overhead using it.
</p>
</dd>
<dt><a id="index-status_002dfd"></a><span><code class="code">--status-fd <var class="var">n</var></code><a class="copiable-link" href="#index-status_002dfd"> &para;</a></span></dt>
<dd><p>Write special status strings to the file descriptor <var class="var">n</var>.
See the file DETAILS in the documentation for a listing of them.
</p>
</dd>
<dt><a id="index-status_002dfile"></a><span><code class="code">--status-file <var class="var">file</var></code><a class="copiable-link" href="#index-status_002dfile"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--status-fd</samp>, except the status data is written to file
<var class="var">file</var>.
</p>
</dd>
<dt><a id="index-logger_002dfd"></a><span><code class="code">--logger-fd <var class="var">n</var></code><a class="copiable-link" href="#index-logger_002dfd"> &para;</a></span></dt>
<dd><p>Write log output to file descriptor <var class="var">n</var> and not to STDERR.
</p>
</dd>
<dt><a id="index-log_002dfile-2"></a><span><code class="code">--log-file <var class="var">file</var></code><a class="copiable-link" href="#index-log_002dfile-2"> &para;</a></span></dt>
<dt><code class="code">--logger-file <var class="var">file</var></code></dt>
<dd><p>Same as <samp class="option">--logger-fd</samp>, except the logger data is written to
file <var class="var">file</var>.  Use <samp class="file">socket://</samp> to log to s socket.
</p>
</dd>
<dt><a id="index-log_002dtime"></a><span><code class="code">--log-time</code><a class="copiable-link" href="#index-log_002dtime"> &para;</a></span></dt>
<dd><p>Prefix all log output with a timestamp even if no log file is used.
</p>
</dd>
<dt><a id="index-attribute_002dfd"></a><span><code class="code">--attribute-fd <var class="var">n</var></code><a class="copiable-link" href="#index-attribute_002dfd"> &para;</a></span></dt>
<dd><p>Write attribute subpackets to the file descriptor <var class="var">n</var>. This is most
useful for use with <samp class="option">--status-fd</samp>, since the status messages are
needed to separate out the various subpackets from the stream delivered
to the file descriptor.
</p>
</dd>
<dt><a id="index-attribute_002dfile"></a><span><code class="code">--attribute-file <var class="var">file</var></code><a class="copiable-link" href="#index-attribute_002dfile"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--attribute-fd</samp>, except the attribute data is written to
file <var class="var">file</var>.
</p>
</dd>
<dt><a id="index-comment"></a><span><code class="code">--comment <var class="var">string</var></code><a class="copiable-link" href="#index-comment"> &para;</a></span></dt>
<dt><code class="code">--no-comments</code></dt>
<dd><p>Use <var class="var">string</var> as a comment string in cleartext signatures and ASCII
armored messages or keys (see <samp class="option">--armor</samp>). The default behavior is
not to use a comment string. <samp class="option">--comment</samp> may be repeated multiple
times to get multiple comment strings. <samp class="option">--no-comments</samp> removes
all comments.  It is a good idea to keep the length of a single comment
below 60 characters to avoid problems with mail programs wrapping such
lines.  Note that comment lines, like all other header lines, are not
protected by the signature.
</p>
</dd>
<dt><a id="index-emit_002dversion"></a><span><code class="code">--emit-version</code><a class="copiable-link" href="#index-emit_002dversion"> &para;</a></span></dt>
<dt><code class="code">--no-emit-version</code></dt>
<dd><p>Force inclusion of the version string in ASCII armored output.  If
given once only the name of the program and the major number is
emitted, given twice the minor is also emitted, given thrice
the micro is added, and given four times an operating system identification
is also emitted.  <samp class="option">--no-emit-version</samp> (default) disables the version
line.
</p>
</dd>
<dt><a class="index-entry-id" id="index-cert_002dnotation"></a>
<a class="index-entry-id" id="index-set_002dnotation"></a>
<a id="index-sig_002dnotation"></a><span><code class="code">--sig-notation {<var class="var">name</var>=<var class="var">value</var>}</code><a class="copiable-link" href="#index-sig_002dnotation"> &para;</a></span></dt>
<dt><code class="code">--cert-notation {<var class="var">name</var>=<var class="var">value</var>}</code></dt>
<dt><code class="code">-N, --set-notation {<var class="var">name</var>=<var class="var">value</var>}</code></dt>
<dd><p>Put the name value pair into the signature as notation data.
<var class="var">name</var> must consist only of printable characters or spaces, and
must contain a &rsquo;@&rsquo; character in the form keyname@domain.example.com
(substituting the appropriate keyname and domain name, of course).  This
is to help prevent pollution of the IETF reserved notation
namespace. The <samp class="option">--expert</samp> flag overrides the &rsquo;@&rsquo;
check. <var class="var">value</var> may be any printable string; it will be encoded in
UTF-8, so you should check that your <samp class="option">--display-charset</samp> is set
correctly. If you prefix <var class="var">name</var> with an exclamation mark (!), the
notation data will be flagged as critical
(rfc4880:5.2.3.16). <samp class="option">--sig-notation</samp> sets a notation for data
signatures. <samp class="option">--cert-notation</samp> sets a notation for key signatures
(certifications). <samp class="option">--set-notation</samp> sets both.
</p>
<p>There are special codes that may be used in notation names. &quot;%k&quot; will
be expanded into the key ID of the key being signed, &quot;%K&quot; into the
long key ID of the key being signed, &quot;%f&quot; into the fingerprint of the
key being signed, &quot;%s&quot; into the key ID of the key making the
signature, &quot;%S&quot; into the long key ID of the key making the signature,
&quot;%g&quot; into the fingerprint of the key making the signature (which might
be a subkey), &quot;%p&quot; into the fingerprint of the primary key of the key
making the signature, &quot;%c&quot; into the signature count from the OpenPGP
smartcard, and &quot;%%&quot; results in a single &quot;%&quot;. %k, %K, and %f are only
meaningful when making a key signature (certification), and %c is only
meaningful when using the OpenPGP smartcard.
</p>
</dd>
<dt><a id="index-known_002dnotation"></a><span><code class="code">--known-notation <var class="var">name</var></code><a class="copiable-link" href="#index-known_002dnotation"> &para;</a></span></dt>
<dd><p>Adds <var class="var">name</var> to a list of known critical signature notations.  The
effect of this is that gpg will not mark a signature with a critical
signature notation of that name as bad.  Note that gpg already knows
by default about a few critical signatures notation names.
</p>
</dd>
<dt><a class="index-entry-id" id="index-cert_002dpolicy_002durl"></a>
<a class="index-entry-id" id="index-set_002dpolicy_002durl"></a>
<a id="index-sig_002dpolicy_002durl"></a><span><code class="code">--sig-policy-url <var class="var">string</var></code><a class="copiable-link" href="#index-sig_002dpolicy_002durl"> &para;</a></span></dt>
<dt><code class="code">--cert-policy-url <var class="var">string</var></code></dt>
<dt><code class="code">--set-policy-url <var class="var">string</var></code></dt>
<dd><p>Use <var class="var">string</var> as a Policy URL for signatures (rfc4880:5.2.3.20).  If
you prefix it with an exclamation mark (!), the policy URL packet will
be flagged as critical. <samp class="option">--sig-policy-url</samp> sets a policy url for
data signatures. <samp class="option">--cert-policy-url</samp> sets a policy url for key
signatures (certifications). <samp class="option">--set-policy-url</samp> sets both.
</p>
<p>The same %-expandos used for notation data are available here as well.
</p>
</dd>
<dt><a id="index-sig_002dkeyserver_002durl"></a><span><code class="code">--sig-keyserver-url <var class="var">string</var></code><a class="copiable-link" href="#index-sig_002dkeyserver_002durl"> &para;</a></span></dt>
<dd><p>Use <var class="var">string</var> as a preferred keyserver URL for data signatures. If
you prefix it with an exclamation mark (!), the keyserver URL packet
will be flagged as critical.
</p>
<p>The same %-expandos used for notation data are available here as well.
</p>
</dd>
<dt><a id="index-set_002dfilename"></a><span><code class="code">--set-filename <var class="var">string</var></code><a class="copiable-link" href="#index-set_002dfilename"> &para;</a></span></dt>
<dd><p>Use <var class="var">string</var> as the filename which is stored inside messages.
This overrides the default, which is to use the actual filename of the
file being encrypted.  Using the empty string for <var class="var">string</var>
effectively removes the filename from the output.
</p>
</dd>
<dt><a id="index-for_002dyour_002deyes_002donly"></a><span><code class="code">--for-your-eyes-only</code><a class="copiable-link" href="#index-for_002dyour_002deyes_002donly"> &para;</a></span></dt>
<dt><code class="code">--no-for-your-eyes-only</code></dt>
<dd><p>Set the &lsquo;for your eyes only&rsquo; flag in the message. This causes GnuPG to
refuse to save the file unless the <samp class="option">--output</samp> option is given,
and PGP to use a &quot;secure viewer&quot; with a claimed Tempest-resistant font
to display the message. This option overrides <samp class="option">--set-filename</samp>.
<samp class="option">--no-for-your-eyes-only</samp> disables this option.
</p>
</dd>
<dt><a id="index-use_002dembedded_002dfilename"></a><span><code class="code">--use-embedded-filename</code><a class="copiable-link" href="#index-use_002dembedded_002dfilename"> &para;</a></span></dt>
<dt><code class="code">--no-use-embedded-filename</code></dt>
<dd><p>Try to create a file with a name as embedded in the data. This can be
a dangerous option as it enables overwriting files by giving the
sender control on how to store files.  Defaults to no.
Note that the option <samp class="option">--output</samp> overrides this option.
</p>
<p>A better approach than using this option is to decrypt to a temporary
filename and then rename that file to the embedded file name after
checking that the embedded filename is harmless.  When using the
<samp class="option">--status-fd</samp> option gpg tells the filename as part of the
PLAINTEXT status message.  If the filename is important, the use of
<code class="command">gpgtar</code> is another option because gpgtar will never overwrite
a file but decrypt the files to a new directory.
</p>
<p>Note also that unless a modern version 5 signature is used the
embedded filename is not part of the signed data.
</p>


</dd>
<dt><a id="index-cipher_002dalgo"></a><span><code class="code">--cipher-algo <var class="var">name</var></code><a class="copiable-link" href="#index-cipher_002dalgo"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as cipher algorithm. Running the program with the
command <samp class="option">--version</samp> yields a list of supported algorithms. If
this is not used the cipher algorithm is selected from the preferences
stored with the key. In general, you do not want to use this option as
it allows you to violate the OpenPGP standard.  The option
<samp class="option">--personal-cipher-preferences</samp> is the safe way to accomplish the
same thing.
</p>
</dd>
<dt><a id="index-digest_002dalgo"></a><span><code class="code">--digest-algo <var class="var">name</var></code><a class="copiable-link" href="#index-digest_002dalgo"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as the message digest algorithm. Running the program
with the command <samp class="option">--version</samp> yields a list of supported
algorithms. In general, you do not want to use this option as it
allows you to violate the OpenPGP standard.  The option
<samp class="option">--personal-digest-preferences</samp> is the safe way to accomplish
the same thing.
</p>
</dd>
<dt><a id="index-compress_002dalgo"></a><span><code class="code">--compress-algo <var class="var">name</var></code><a class="copiable-link" href="#index-compress_002dalgo"> &para;</a></span></dt>
<dd><p>Use compression algorithm <var class="var">name</var>. &quot;zlib&quot; is RFC-1950 ZLIB
compression. &quot;zip&quot; is RFC-1951 ZIP compression which is used by PGP.
&quot;bzip2&quot; is a more modern compression scheme that can compress some
things better than zip or zlib, but at the cost of more memory used
during compression and decompression. &quot;uncompressed&quot; or &quot;none&quot;
disables compression. If this option is not used, the default
behavior is to examine the recipient key preferences to see which
algorithms the recipient supports. If all else fails, ZIP is used for
maximum compatibility.
</p>
<p>ZLIB may give better compression results than ZIP, as the compression
window size is not limited to 8k. BZIP2 may give even better
compression results than that, but will use a significantly larger
amount of memory while compressing and decompressing. This may be
significant in low memory situations. Note, however, that PGP (all
versions) only supports ZIP compression. Using any algorithm other
than ZIP or &quot;none&quot; will make the message unreadable with PGP. In
general, you do not want to use this option as it allows you to
violate the OpenPGP standard.  The option
<samp class="option">--personal-compress-preferences</samp> is the safe way to accomplish
the same thing.
</p>
</dd>
<dt><a id="index-cert_002ddigest_002dalgo"></a><span><code class="code">--cert-digest-algo <var class="var">name</var></code><a class="copiable-link" href="#index-cert_002ddigest_002dalgo"> &para;</a></span></dt>
<dd><p>Use <var class="var">name</var> as the message digest algorithm used when signing a
key. Running the program with the command <samp class="option">--version</samp> yields a
list of supported algorithms.  Be aware that if you choose an
algorithm that GnuPG supports but other OpenPGP implementations do
not, then some users will not be able to use the key signatures you
make, or quite possibly your entire key.  Note also that a public key
algorithm must be compatible with the specified digest algorithm; thus
selecting an arbitrary digest algorithm may result in error messages
from lower crypto layers or lead to security flaws.
</p>

</dd>
<dt><a id="index-disable_002dcipher_002dalgo"></a><span><code class="code">--disable-cipher-algo <var class="var">name</var></code><a class="copiable-link" href="#index-disable_002dcipher_002dalgo"> &para;</a></span></dt>
<dd><p>Never allow the use of <var class="var">name</var> as cipher algorithm.
The given name will not be checked so that a later loaded algorithm
will still get disabled.
</p>
</dd>
<dt><a id="index-disable_002dpubkey_002dalgo"></a><span><code class="code">--disable-pubkey-algo <var class="var">name</var></code><a class="copiable-link" href="#index-disable_002dpubkey_002dalgo"> &para;</a></span></dt>
<dd><p>Never allow the use of <var class="var">name</var> as public key algorithm.
The given name will not be checked so that a later loaded algorithm
will still get disabled.
</p>
</dd>
<dt><a id="index-throw_002dkeyids"></a><span><code class="code">--throw-keyids</code><a class="copiable-link" href="#index-throw_002dkeyids"> &para;</a></span></dt>
<dt><code class="code">--no-throw-keyids</code></dt>
<dd><p>Do not put the recipient key IDs into encrypted messages. This helps to
hide the receivers of the message and is a limited countermeasure
against traffic analysis.<a class="footnote" id="DOCF2" href="#FOOT2"><sup>2</sup></a>  On the receiving side, it may
slow down the decryption process because all available secret keys must
be tried.  <samp class="option">--no-throw-keyids</samp> disables this option. This option
is essentially the same as using <samp class="option">--hidden-recipient</samp> for all
recipients.
</p>
</dd>
<dt><a id="index-not_002ddash_002descaped"></a><span><code class="code">--not-dash-escaped</code><a class="copiable-link" href="#index-not_002ddash_002descaped"> &para;</a></span></dt>
<dd><p>This option changes the behavior of cleartext signatures
so that they can be used for patch files. You should not
send such an armored file via email because all spaces
and line endings are hashed too. You can not use this
option for data which has 5 dashes at the beginning of a
line, patch files don&rsquo;t have this. A special armor header
line tells GnuPG about this cleartext signature option.
</p>
</dd>
<dt><a id="index-escape_002dfrom_002dlines"></a><span><code class="code">--escape-from-lines</code><a class="copiable-link" href="#index-escape_002dfrom_002dlines"> &para;</a></span></dt>
<dt><code class="code">--no-escape-from-lines</code></dt>
<dd><p>Because some mailers change lines starting with &quot;From &quot; to &quot;&gt;From &quot; it
is good to handle such lines in a special way when creating cleartext
signatures to prevent the mail system from breaking the signature. Note
that all other PGP versions do it this way too.  Enabled by
default. <samp class="option">--no-escape-from-lines</samp> disables this option.
</p>
</dd>
<dt><a id="index-passphrase_002drepeat"></a><span><code class="code">--passphrase-repeat <var class="var">n</var></code><a class="copiable-link" href="#index-passphrase_002drepeat"> &para;</a></span></dt>
<dd><p>Specify how many times <code class="command">gpg</code> will request a new
passphrase be repeated.  This is useful for helping memorize a
passphrase.  Defaults to 1 repetition; can be set to 0 to disable any
passphrase repetition.  Note that a <var class="var">n</var> greater than 1 will pop up
the pinentry window <var class="var">n</var>+1 times even if a modern pinentry with
two entry fields is used.
</p>
</dd>
<dt><a id="index-passphrase_002dfd"></a><span><code class="code">--passphrase-fd <var class="var">n</var></code><a class="copiable-link" href="#index-passphrase_002dfd"> &para;</a></span></dt>
<dd><p>Read the passphrase from file descriptor <var class="var">n</var>. Only the first line
will be read from file descriptor <var class="var">n</var>. If you use 0 for <var class="var">n</var>,
the passphrase will be read from STDIN. This can only be used if only
one passphrase is supplied.
</p>
<p>Note that since Version 2.0 this passphrase is only used if the
option <samp class="option">--batch</samp> has also been given. Since Version 2.1
the <samp class="option">--pinentry-mode</samp> also needs to be set to <code class="code">loopback</code>.
</p>
</dd>
<dt><a id="index-passphrase_002dfile"></a><span><code class="code">--passphrase-file <var class="var">file</var></code><a class="copiable-link" href="#index-passphrase_002dfile"> &para;</a></span></dt>
<dd><p>Read the passphrase from file <var class="var">file</var>. Only the first line will
be read from file <var class="var">file</var>. This can only be used if only one
passphrase is supplied. Obviously, a passphrase stored in a file is
of questionable security if other users can read this file. Don&rsquo;t use
this option if you can avoid it.
</p>
<p>Note that since Version 2.0 this passphrase is only used if the
option <samp class="option">--batch</samp> has also been given. Since Version 2.1
the <samp class="option">--pinentry-mode</samp> also needs to be set to <code class="code">loopback</code>.
</p>
</dd>
<dt><a id="index-passphrase"></a><span><code class="code">--passphrase <var class="var">string</var></code><a class="copiable-link" href="#index-passphrase"> &para;</a></span></dt>
<dd><p>Use <var class="var">string</var> as the passphrase. This can only be used if only one
passphrase is supplied. Obviously, this is of very questionable
security on a multi-user system. Don&rsquo;t use this option if you can
avoid it.
</p>
<p>Note that since Version 2.0 this passphrase is only used if the
option <samp class="option">--batch</samp> has also been given. Since Version 2.1
the <samp class="option">--pinentry-mode</samp> also needs to be set to <code class="code">loopback</code>.
</p>
</dd>
<dt><a id="index-pinentry_002dmode"></a><span><code class="code">--pinentry-mode <var class="var">mode</var></code><a class="copiable-link" href="#index-pinentry_002dmode"> &para;</a></span></dt>
<dd><p>Set the pinentry mode to <var class="var">mode</var>.  Allowed values for <var class="var">mode</var>
are:
</p><dl class="table">
<dt>default</dt>
<dd><p>Use the default of the agent, which is <code class="code">ask</code>.
  </p></dd>
<dt>ask</dt>
<dd><p>Force the use of the Pinentry.
  </p></dd>
<dt>cancel</dt>
<dd><p>Emulate use of Pinentry&rsquo;s cancel button.
  </p></dd>
<dt>error</dt>
<dd><p>Return a Pinentry error (&ldquo;No Pinentry&rdquo;).
  </p></dd>
<dt>loopback</dt>
<dd><p>Redirect Pinentry queries to the caller.  Note that in contrast to
  Pinentry the user is not prompted again if he enters a bad password.
</p></dd>
</dl>

</dd>
<dt><a id="index-no_002dsymkey_002dcache"></a><span><code class="code">--no-symkey-cache</code><a class="copiable-link" href="#index-no_002dsymkey_002dcache"> &para;</a></span></dt>
<dd><p>Disable the passphrase cache used for symmetrical en- and decryption.
This cache is based on the message specific salt value
(cf. <samp class="option">--s2k-mode</samp>).
</p>
</dd>
<dt><a id="index-request_002dorigin"></a><span><code class="code">--request-origin <var class="var">origin</var></code><a class="copiable-link" href="#index-request_002dorigin"> &para;</a></span></dt>
<dd><p>Tell gpg to assume that the operation ultimately originated at
<var class="var">origin</var>.  Depending on the origin certain restrictions are applied
and the Pinentry may include an extra note on the origin.  Supported
values for <var class="var">origin</var> are: <code class="code">local</code> which is the default,
<code class="code">remote</code> to indicate a remote origin or <code class="code">browser</code> for an
operation requested by a web browser.
</p>
</dd>
<dt><a id="index-command_002dfd"></a><span><code class="code">--command-fd <var class="var">n</var></code><a class="copiable-link" href="#index-command_002dfd"> &para;</a></span></dt>
<dd><p>This is a replacement for the deprecated shared-memory IPC mode.
If this option is enabled, user input on questions is not expected
from the TTY but from the given file descriptor. It should be used
together with <samp class="option">--status-fd</samp>. See the file doc/DETAILS in the source
distribution for details on how to use it.
</p>
</dd>
<dt><a id="index-command_002dfile"></a><span><code class="code">--command-file <var class="var">file</var></code><a class="copiable-link" href="#index-command_002dfile"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--command-fd</samp>, except the commands are read out of file
<var class="var">file</var>
</p>
</dd>
<dt><a id="index-allow_002dnon_002dselfsigned_002duid"></a><span><code class="code">--allow-non-selfsigned-uid</code><a class="copiable-link" href="#index-allow_002dnon_002dselfsigned_002duid"> &para;</a></span></dt>
<dt><code class="code">--no-allow-non-selfsigned-uid</code></dt>
<dd><p>Allow the import and use of keys with user IDs which are not
self-signed. This is not recommended, as a non self-signed user ID is
trivial to forge. <samp class="option">--no-allow-non-selfsigned-uid</samp> disables.
</p>
</dd>
<dt><a id="index-allow_002dfreeform_002duid"></a><span><code class="code">--allow-freeform-uid</code><a class="copiable-link" href="#index-allow_002dfreeform_002duid"> &para;</a></span></dt>
<dd><p>Disable all checks on the form of the user ID while generating a new
one. This option should only be used in very special environments as
it does not ensure the de-facto standard format of user IDs.
</p>
</dd>
<dt><a id="index-ignore_002dtime_002dconflict"></a><span><code class="code">--ignore-time-conflict</code><a class="copiable-link" href="#index-ignore_002dtime_002dconflict"> &para;</a></span></dt>
<dd><p>GnuPG normally checks that the timestamps associated with keys and
signatures have plausible values. However, sometimes a signature
seems to be older than the key due to clock problems. This option
makes these checks just a warning. See also <samp class="option">--ignore-valid-from</samp> for
timestamp issues on subkeys.
</p>
</dd>
<dt><a id="index-ignore_002dvalid_002dfrom"></a><span><code class="code">--ignore-valid-from</code><a class="copiable-link" href="#index-ignore_002dvalid_002dfrom"> &para;</a></span></dt>
<dd><p>GnuPG normally does not select and use subkeys created in the future.
This option allows the use of such keys and thus exhibits the
pre-1.0.7 behaviour. You should not use this option unless there
is some clock problem. See also <samp class="option">--ignore-time-conflict</samp> for timestamp
issues with signatures.
</p>
</dd>
<dt><a id="index-ignore_002dcrc_002derror"></a><span><code class="code">--ignore-crc-error</code><a class="copiable-link" href="#index-ignore_002dcrc_002derror"> &para;</a></span></dt>
<dd><p>The ASCII armor used by OpenPGP is protected by a CRC checksum against
transmission errors. Occasionally the CRC gets mangled somewhere on
the transmission channel but the actual content (which is protected by
the OpenPGP protocol anyway) is still okay. This option allows GnuPG
to ignore CRC errors.
</p>
</dd>
<dt><a id="index-ignore_002dmdc_002derror"></a><span><code class="code">--ignore-mdc-error</code><a class="copiable-link" href="#index-ignore_002dmdc_002derror"> &para;</a></span></dt>
<dd><p>This option changes a MDC integrity protection failure into a warning.
It is required to decrypt old messages which did not use an MDC.  It
may also be useful if a message is partially garbled, but it is
necessary to get as much data as possible out of that garbled message.
Be aware that a missing or failed MDC can be an indication of an
attack.  Use with great caution; see also option <samp class="option">--rfc2440</samp>.
</p>
</dd>
<dt><a id="index-allow_002dold_002dcipher_002dalgos"></a><span><code class="code">--allow-old-cipher-algos</code><a class="copiable-link" href="#index-allow_002dold_002dcipher_002dalgos"> &para;</a></span></dt>
<dd><p>Old cipher algorithms like 3DES, IDEA, or CAST5 encrypt data using
blocks of 64 bits; modern algorithms use blocks of 128 bit instead.
To avoid certain attack on these old algorithms it is suggested not to
encrypt more than 150 MiByte using the same key.  For this reason gpg
does not allow the use of 64 bit block size algorithms for encryption
unless this option is specified.
</p>
</dd>
<dt><a id="index-allow_002dweak_002ddigest_002dalgos"></a><span><code class="code">--allow-weak-digest-algos</code><a class="copiable-link" href="#index-allow_002dweak_002ddigest_002dalgos"> &para;</a></span></dt>
<dd><p>Signatures made with known-weak digest algorithms are normally
rejected with an &ldquo;invalid digest algorithm&rdquo; message.  This option
allows the verification of signatures made with such weak algorithms.
MD5 is the only digest algorithm considered weak by default.  See also
<samp class="option">--weak-digest</samp> to reject other digest algorithms.
</p>
</dd>
<dt><a id="index-weak_002ddigest"></a><span><code class="code">--weak-digest <var class="var">name</var></code><a class="copiable-link" href="#index-weak_002ddigest"> &para;</a></span></dt>
<dd><p>Treat the specified digest algorithm as weak.  Signatures made over
weak digests algorithms are normally rejected. This option can be
supplied multiple times if multiple algorithms should be considered
weak.  See also <samp class="option">--allow-weak-digest-algos</samp> to disable
rejection of weak digests.  MD5 is always considered weak, and does
not need to be listed explicitly.
</p>
</dd>
<dt><a id="index-allow_002dweak_002dkey_002dsignatures"></a><span><code class="code">--allow-weak-key-signatures</code><a class="copiable-link" href="#index-allow_002dweak_002dkey_002dsignatures"> &para;</a></span></dt>
<dd><p>To avoid a minor risk of collision attacks on third-party key
signatures made using SHA-1, those key signatures are considered
invalid.  This options allows one to override this restriction.
</p>
</dd>
<dt><code class="code">--override-compliance-check</code></dt>
<dd><p>This was a temporary introduced option and has no more effect.
</p>
</dd>
<dt><a id="index-no_002ddefault_002dkeyring"></a><span><code class="code">--no-default-keyring</code><a class="copiable-link" href="#index-no_002ddefault_002dkeyring"> &para;</a></span></dt>
<dd><p>Do not add the default keyring to the list of keyrings. Note that
GnuPG needs for almost all operations a keyring. Thus if you use this
option and do not provide alternate keyrings via <samp class="option">--keyring</samp>,
then GnuPG will still use the default keyring.
</p>
<p>Note that if the option <samp class="option">use-keyboxd</samp> is enabled in
<samp class="file">common.conf</samp>, no keyrings are used at all and keys are all
maintained by the keyboxd process in its own database.
</p>
</dd>
<dt><a id="index-no_002dkeyring"></a><span><code class="code">--no-keyring</code><a class="copiable-link" href="#index-no_002dkeyring"> &para;</a></span></dt>
<dd><p>Do not use any keyring at all.  This overrides the default and all
options which specify keyrings.
</p>
</dd>
<dt><a id="index-skip_002dverify"></a><span><code class="code">--skip-verify</code><a class="copiable-link" href="#index-skip_002dverify"> &para;</a></span></dt>
<dd><p>Skip the signature verification step. This may be
used to make the decryption faster if the signature
verification is not needed.
</p>
</dd>
<dt><a id="index-with_002dkey_002ddata"></a><span><code class="code">--with-key-data</code><a class="copiable-link" href="#index-with_002dkey_002ddata"> &para;</a></span></dt>
<dd><p>Print key listings delimited by colons (like <samp class="option">--with-colons</samp>) and
print the public key data.
</p>
</dd>
<dt><a id="index-list_002dsigs"></a><span><code class="code">--list-signatures</code><a class="copiable-link" href="#index-list_002dsigs"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-list_002dsignatures"></a>
</dd>
<dt><code class="code">--list-sigs</code></dt>
<dd><p>Same as <samp class="option">--list-keys</samp>, but the signatures are listed too.  This
command has the same effect as using <samp class="option">--list-keys</samp> with
<samp class="option">--with-sig-list</samp>.  Note that in contrast to
<samp class="option">--check-signatures</samp> the key signatures are not verified.  This
command can be used to create a list of signing keys missing in the
local keyring; for example:
</p>
<div class="example">
<pre class="example-preformatted">      gpg --list-sigs --with-colons USERID | \
        awk -F: '$1==&quot;sig&quot; &amp;&amp; $2==&quot;?&quot; {if($13){print $13}else{print $5}}'
</pre></div>

</dd>
<dt><a id="index-fast_002dlist_002dmode"></a><span><code class="code">--fast-list-mode</code><a class="copiable-link" href="#index-fast_002dlist_002dmode"> &para;</a></span></dt>
<dd><p>Changes the output of the list commands to work faster; this is achieved
by leaving some parts empty. Some applications don&rsquo;t need the user ID
and the trust information given in the listings. By using this options
they can get a faster listing. The exact behaviour of this option may
change in future versions.  If you are missing some information, don&rsquo;t
use this option.
</p>
</dd>
<dt><a id="index-no_002dliteral"></a><span><code class="code">--no-literal</code><a class="copiable-link" href="#index-no_002dliteral"> &para;</a></span></dt>
<dd><p>This is not for normal use. Use the source to see for what it might be useful.
</p>
</dd>
<dt><a id="index-set_002dfilesize"></a><span><code class="code">--set-filesize</code><a class="copiable-link" href="#index-set_002dfilesize"> &para;</a></span></dt>
<dd><p>This is not for normal use. Use the source to see for what it might be useful.
</p>
</dd>
<dt><a id="index-show_002dsession_002dkey"></a><span><code class="code">--show-session-key</code><a class="copiable-link" href="#index-show_002dsession_002dkey"> &para;</a></span></dt>
<dd><p>Display the session key used for one message. See
<samp class="option">--override-session-key</samp> for the counterpart of this option.
</p>
<p>We think that Key Escrow is a Bad Thing; however the user should have
the freedom to decide whether to go to prison or to reveal the content
of one specific message without compromising all messages ever
encrypted for one secret key.
</p>
<p>You can also use this option if you receive an encrypted message which
is abusive or offensive, to prove to the administrators of the
messaging system that the ciphertext transmitted corresponds to an
inappropriate plaintext so they can take action against the offending
user.
</p>
</dd>
<dt><a id="index-override_002dsession_002dkey"></a><span><code class="code">--override-session-key <var class="var">string</var></code><a class="copiable-link" href="#index-override_002dsession_002dkey"> &para;</a></span></dt>
<dt><code class="code">--override-session-key-fd <var class="var">fd</var></code></dt>
<dd><p>Don&rsquo;t use the public key but the session key <var class="var">string</var> respective
the session key taken from the first line read from file descriptor
<var class="var">fd</var>.  The format of this string is the same as the one printed by
<samp class="option">--show-session-key</samp>. This option is normally not used but
comes handy in case someone forces you to reveal the content of an
encrypted message; using this option you can do this without handing
out the secret key.  Note that using <samp class="option">--override-session-key</samp>
may reveal the session key to all local users via the global process
table.  Often it is useful to combine this option with
<samp class="option">--no-keyring</samp>.
</p>
</dd>
<dt><a id="index-ask_002dsig_002dexpire"></a><span><code class="code">--ask-sig-expire</code><a class="copiable-link" href="#index-ask_002dsig_002dexpire"> &para;</a></span></dt>
<dt><code class="code">--no-ask-sig-expire</code></dt>
<dd><p>When making a data signature, prompt for an expiration time. If this
option is not specified, the expiration time set via
<samp class="option">--default-sig-expire</samp> is used. <samp class="option">--no-ask-sig-expire</samp>
disables this option.
</p>
</dd>
<dt><a id="index-default_002dsig_002dexpire"></a><span><code class="code">--default-sig-expire</code><a class="copiable-link" href="#index-default_002dsig_002dexpire"> &para;</a></span></dt>
<dd><p>The default expiration time to use for signature expiration. Valid
values are &quot;0&quot; for no expiration, a number followed by the letter d
(for days), w (for weeks), m (for months), or y (for years) (for
example &quot;2m&quot; for two months, or &quot;5y&quot; for five years), or an absolute
date in the form YYYY-MM-DD. Defaults to &quot;0&quot;.
</p>
</dd>
<dt><a id="index-ask_002dcert_002dexpire"></a><span><code class="code">--ask-cert-expire</code><a class="copiable-link" href="#index-ask_002dcert_002dexpire"> &para;</a></span></dt>
<dt><code class="code">--no-ask-cert-expire</code></dt>
<dd><p>When making a key signature, prompt for an expiration time. If this
option is not specified, the expiration time set via
<samp class="option">--default-cert-expire</samp> is used. <samp class="option">--no-ask-cert-expire</samp>
disables this option.
</p>
</dd>
<dt><a id="index-default_002dcert_002dexpire"></a><span><code class="code">--default-cert-expire</code><a class="copiable-link" href="#index-default_002dcert_002dexpire"> &para;</a></span></dt>
<dd><p>The default expiration time to use for key signature expiration.
Valid values are &quot;0&quot; for no expiration, a number followed by the
letter d (for days), w (for weeks), m (for months), or y (for years)
(for example &quot;2m&quot; for two months, or &quot;5y&quot; for five years), or an
absolute date in the form YYYY-MM-DD. Defaults to &quot;0&quot;.
</p>
</dd>
<dt><a id="index-default_002dnew_002dkey_002dalgo-string"></a><span><code class="code">--default-new-key-algo <var class="var">string</var></code><a class="copiable-link" href="#index-default_002dnew_002dkey_002dalgo-string"> &para;</a></span></dt>
<dd><p>This option can be used to change the default algorithms for key
generation. The <var class="var">string</var> is similar to the arguments required for
the command <samp class="option">--quick-add-key</samp> but slightly different.  For
example the current default of <code class="code">&quot;rsa2048/cert,sign+rsa2048/encr&quot;</code>
(or <code class="code">&quot;rsa3072&quot;</code>) can be changed to the value of what we currently
call future default, which is <code class="code">&quot;ed25519/cert,sign+cv25519/encr&quot;</code>.
You need to consult the source code to learn the details.  Note that
the advanced key generation commands can always be used to specify a
key algorithm directly.
</p>
</dd>
<dt><a id="index-no_002dauto_002dtrust_002dnew_002dkey"></a><span><code class="code">--no-auto-trust-new-key</code><a class="copiable-link" href="#index-no_002dauto_002dtrust_002dnew_002dkey"> &para;</a></span></dt>
<dd><p>When creating a new key the ownertrust of the new key is set to
ultimate.  This option disables this and the user needs to manually
assign an ownertrust value.
</p>
</dd>
<dt><a id="index-force_002dsign_002dkey"></a><span><code class="code">--force-sign-key</code><a class="copiable-link" href="#index-force_002dsign_002dkey"> &para;</a></span></dt>
<dd><p>This option modifies the behaviour of the commands
<samp class="option">--quick-sign-key</samp>, <samp class="option">--quick-lsign-key</samp>, and the &quot;sign&quot;
sub-commands of <samp class="option">--edit-key</samp> by forcing the creation of a key
signature, even if one already exists.
</p>
</dd>
<dt><a id="index-forbid_002dgen_002dkey"></a><span><code class="code">--forbid-gen-key</code><a class="copiable-link" href="#index-forbid_002dgen_002dkey"> &para;</a></span></dt>
<dd><p>This option is intended for use in the global config file to disallow
the use of generate key commands.  Those commands will then fail with
the error code for Not Enabled.
</p>
</dd>
<dt><a id="index-allow_002dsecret_002dkey_002dimport"></a><span><code class="code">--allow-secret-key-import</code><a class="copiable-link" href="#index-allow_002dsecret_002dkey_002dimport"> &para;</a></span></dt>
<dd><p>This is an obsolete option and is not used anywhere.
</p>
</dd>
<dt><code class="code">--allow-multiple-messages</code></dt>
<dt><code class="code">--no-allow-multiple-messages</code></dt>
<dd><p>These are obsolete options; they have no more effect since GnuPG 2.2.8.
</p>
</dd>
<dt><a id="index-enable_002dspecial_002dfilenames"></a><span><code class="code">--enable-special-filenames</code><a class="copiable-link" href="#index-enable_002dspecial_002dfilenames"> &para;</a></span></dt>
<dd><p>This option enables a mode in which filenames of the form
<samp class="file">-&amp;n</samp>, where n is a non-negative decimal number,
refer to the file descriptor n and not to a file with that name.
</p>
</dd>
<dt><a id="index-no_002dexpensive_002dtrust_002dchecks"></a><span><code class="code">--no-expensive-trust-checks</code><a class="copiable-link" href="#index-no_002dexpensive_002dtrust_002dchecks"> &para;</a></span></dt>
<dd><p>Experimental use only.
</p>
</dd>
<dt><a id="index-preserve_002dpermissions"></a><span><code class="code">--preserve-permissions</code><a class="copiable-link" href="#index-preserve_002dpermissions"> &para;</a></span></dt>
<dd><p>Don&rsquo;t change the permissions of a secret keyring back to user
read/write only. Use this option only if you really know what you are doing.
</p>
</dd>
<dt><a id="index-default_002dpreference_002dlist"></a><span><code class="code">--default-preference-list <var class="var">string</var></code><a class="copiable-link" href="#index-default_002dpreference_002dlist"> &para;</a></span></dt>
<dd><p>Set the list of default preferences to <var class="var">string</var>. This preference
list is used for new keys and becomes the default for &quot;setpref&quot; in the
<samp class="option">--edit-key</samp> menu.
</p>
</dd>
<dt><a id="index-default_002dkeyserver_002durl"></a><span><code class="code">--default-keyserver-url <var class="var">name</var></code><a class="copiable-link" href="#index-default_002dkeyserver_002durl"> &para;</a></span></dt>
<dd><p>Set the default keyserver URL to <var class="var">name</var>. This keyserver will be
used as the keyserver URL when writing a new self-signature on a key,
which includes key generation and changing preferences.
</p>
</dd>
<dt><a id="index-list_002dconfig"></a><span><code class="code">--list-config</code><a class="copiable-link" href="#index-list_002dconfig"> &para;</a></span></dt>
<dd><p>Display various internal configuration parameters of GnuPG. This option
is intended for external programs that call GnuPG to perform tasks, and
is thus not generally useful. See the file <samp class="file">doc/DETAILS</samp> in the
source distribution for the details of which configuration items may be
listed. <samp class="option">--list-config</samp> is only usable with
<samp class="option">--with-colons</samp> set.
</p>
</dd>
<dt><a id="index-list_002dgcrypt_002dconfig"></a><span><code class="code">--list-gcrypt-config</code><a class="copiable-link" href="#index-list_002dgcrypt_002dconfig"> &para;</a></span></dt>
<dd><p>Display various internal configuration parameters of Libgcrypt.
</p>
</dd>
<dt><a id="index-gpgconf_002dlist"></a><span><code class="code">--gpgconf-list</code><a class="copiable-link" href="#index-gpgconf_002dlist"> &para;</a></span></dt>
<dd><p>This command is similar to <samp class="option">--list-config</samp> but in general only
internally used by the <code class="command">gpgconf</code> tool.
</p>
</dd>
<dt><a id="index-gpgconf_002dtest"></a><span><code class="code">--gpgconf-test</code><a class="copiable-link" href="#index-gpgconf_002dtest"> &para;</a></span></dt>
<dd><p>This is more or less dummy action.  However it parses the configuration
file and returns with failure if the configuration file would prevent
<code class="command">gpg</code> from startup.  Thus it may be used to run a syntax check
on the configuration file.
</p>

</dd>
<dt><a id="index-chuid"></a><span><code class="code">--chuid <var class="var">uid</var></code><a class="copiable-link" href="#index-chuid"> &para;</a></span></dt>
<dd><p>Change the current user to <var class="var">uid</var> which may either be a number or a
name.  This can be used from the root account to run gpg for
another user.  If <var class="var">uid</var> is not the current UID a standard PATH is
set and the envvar GNUPGHOME is unset.  To override the latter the
option <samp class="option">--homedir</samp> can be used.  This option has only an effect
when used on the command line.  This option has currently no effect at
all on Windows.
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="Deprecated-Options">
<div class="nav-panel">
<p>
Previous: <a href="#GPG-Esoteric-Options" accesskey="p" rel="prev">Doing things one usually doesn&rsquo;t want to do</a>, Up: <a href="#GPG-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Deprecated-options"><span>4.2.7 Deprecated options<a class="copiable-link" href="#Deprecated-options"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-textmode"></a><span><code class="code">-t, --textmode</code><a class="copiable-link" href="#index-textmode"> &para;</a></span></dt>
<dt><code class="code">--no-textmode</code></dt>
<dd><p>Treat input files as text and store them in the OpenPGP canonical text
form with standard &quot;CRLF&quot; line endings. This also sets the necessary
flags to inform the recipient that the encrypted or signed data is text
and may need its line endings converted back to whatever the local
system uses. This option was useful when communicating between two
platforms with different line ending conventions (UNIX-like to Mac,
Mac to Windows, etc). <samp class="option">--no-textmode</samp> disables this option, and
is the default.  Note that this is a legacy option which should not
anymore be used by any modern software.
</p>
</dd>
<dt><code class="code">--force-v3-sigs</code></dt>
<dt><code class="code">--no-force-v3-sigs</code></dt>
<dt><code class="code">--force-v4-certs</code></dt>
<dt><code class="code">--no-force-v4-certs</code></dt>
<dd><p>These options are obsolete and have no effect since GnuPG 2.1.
</p>
</dd>
<dt><a id="index-show_002dphotos"></a><span><code class="code">--show-photos</code><a class="copiable-link" href="#index-show_002dphotos"> &para;</a></span></dt>
<dt><code class="code">--no-show-photos</code></dt>
<dd><p>Causes <samp class="option">--list-keys</samp>, <samp class="option">--list-signatures</samp>,
<samp class="option">--list-public-keys</samp>, <samp class="option">--list-secret-keys</samp>, and verifying
a signature to also display the photo ID attached to the key, if
any. See also <samp class="option">--photo-viewer</samp>. These options are deprecated. Use
<samp class="option">--list-options [no-]show-photos</samp> and/or <samp class="option">--verify-options
[no-]show-photos</samp> instead.
</p>
</dd>
<dt><a id="index-show_002dkeyring"></a><span><code class="code">--show-keyring</code><a class="copiable-link" href="#index-show_002dkeyring"> &para;</a></span></dt>
<dd><p>Display the keyring name at the head of key listings to show which
keyring a given key resides on. This option is deprecated: use
<samp class="option">--list-options [no-]show-keyring</samp> instead.
</p>
</dd>
<dt><a id="index-show_002dnotation"></a><span><code class="code">--show-notation</code><a class="copiable-link" href="#index-show_002dnotation"> &para;</a></span></dt>
<dt><code class="code">--no-show-notation</code></dt>
<dd><p>Show signature notations in the <samp class="option">--list-signatures</samp> or <samp class="option">--check-signatures</samp> listings
as well as when verifying a signature with a notation in it. These
options are deprecated. Use <samp class="option">--list-options [no-]show-notation</samp>
and/or <samp class="option">--verify-options [no-]show-notation</samp> instead.
</p>
</dd>
<dt><a id="index-show_002dpolicy_002durl"></a><span><code class="code">--show-policy-url</code><a class="copiable-link" href="#index-show_002dpolicy_002durl"> &para;</a></span></dt>
<dt><code class="code">--no-show-policy-url</code></dt>
<dd><p>Show policy URLs in the <samp class="option">--list-signatures</samp> or <samp class="option">--check-signatures</samp>
listings as well as when verifying a signature with a policy URL in
it. These options are deprecated. Use <samp class="option">--list-options
[no-]show-policy-url</samp> and/or <samp class="option">--verify-options
[no-]show-policy-url</samp> instead.
</p>
</dd>
<dt><a id="index-personal_002daead_002dpreferences"></a><span><code class="code">--personal-aead-preferences <var class="var">string</var></code><a class="copiable-link" href="#index-personal_002daead_002dpreferences"> &para;</a></span></dt>
<dd><p>This option is deprecated and has no more effect since version 2.3.9.
</p>
</dd>
<dt><code class="code">--aead-algo <var class="var">name</var></code></dt>
<dd><p>This option is deprecated and has no more effect since version 2.3.9.
</p>

</dd>
</dl>



<hr>
</div>
</div>
<div class="section-level-extent" id="GPG-Configuration">
<div class="nav-panel">
<p>
Next: <a href="#GPG-Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#GPG-Options" accesskey="p" rel="prev">Option Summary</a>, Up: <a href="#Invoking-GPG" accesskey="u" rel="up">Invoking GPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Configuration-files"><span>4.3 Configuration files<a class="copiable-link" href="#Configuration-files"> &para;</a></span></h3>

<p>There are a few configuration files to control certain aspects of
<code class="command">gpg</code>&rsquo;s operation. Unless noted, they are expected in the
current home directory (see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).
</p>
<dl class="table">
<dt><samp class="file">gpg.conf</samp></dt>
<dd><a class="index-entry-id" id="index-gpg_002econf"></a>
<p>This is the standard configuration file read by <code class="command">gpg</code> on
  startup.  It may contain any valid long option; the leading two dashes
  may not be entered and the option may not be abbreviated.  This default
  name may be changed on the command line (see <a class="pxref" href="#gpg_002doption-_002d_002doptions">gpg-option --options</a>).
  You should backup this file.
</p>
</dd>
<dt><samp class="file">common.conf</samp></dt>
<dd><a class="index-entry-id" id="index-common_002econf"></a>
<p>This is an optional configuration file read by <code class="command">gpg</code> on
  startup.  It may contain options pertaining to all components of
  GnuPG.  Its current main use is for the &quot;use-keyboxd&quot; option.  If
  the default home directory <samp class="file">~/.gnupg</samp> does not exist, GnuPG creates
  this directory and a <samp class="file">common.conf</samp> file with &quot;use_keyboxd&quot;.
</p>
</dd>
</dl>

<p>Note that on larger installations, it is useful to put predefined files
into the directory <samp class="file">/etc/skel/.gnupg</samp> so that
newly created users start up with a working configuration.
For existing users a small
helper script is provided to create these files (see <a class="pxref" href="#addgnupghome">Create .gnupg home directories</a>).
</p>
<p>For internal purposes <code class="command">gpg</code> creates and maintains a few other
files; They all live in the current home directory (see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).  Only the <code class="command">gpg</code> program may modify these files.
</p>

<dl class="table">
<dt><samp class="file">~/.gnupg</samp></dt>
<dd><a class="index-entry-id" id="index-_007e_002f_002egnupg"></a>
<p>This is the default home directory which is used if neither the
  environment variable <code class="code">GNUPGHOME</code> nor the option
  <samp class="option">--homedir</samp> is given.
</p>
</dd>
<dt><samp class="file">~/.gnupg/pubring.gpg</samp></dt>
<dd><a class="index-entry-id" id="index-pubring_002egpg"></a>
<p>The public keyring using a legacy format.  You should backup this file.
</p>
<p>If this file is not available, <code class="command">gpg</code> defaults to the new
  keybox format and creates a file <samp class="file">pubring.kbx</samp> unless that file
  already exists in which case that file will also be used for OpenPGP
  keys.
</p>
<p>Note that in the case that both files, <samp class="file">pubring.gpg</samp> and
  <samp class="file">pubring.kbx</samp> exists but the latter has no OpenPGP keys, the
  legacy file <samp class="file">pubring.gpg</samp> will be used.  Take care: GnuPG
  versions before 2.1 will always use the file <samp class="file">pubring.gpg</samp>
  because they do not know about the new keybox format. In the case
  that you have to use GnuPG 1.4 to decrypt archived data you should
  keep this file.
</p>
</dd>
<dt><samp class="file">~/.gnupg/pubring.gpg.lock</samp></dt>
<dd><p>The lock file for the public keyring.
</p>
</dd>
<dt><samp class="file">~/.gnupg/pubring.kbx</samp></dt>
<dd><a class="index-entry-id" id="index-pubring_002ekbx"></a>
<p>The public keyring using the new keybox format.  This file is shared
  with <code class="command">gpgsm</code>.  You should backup this file.  See above for
  the relation between this file and it predecessor.
</p>
<p>To convert an existing <samp class="file">pubring.gpg</samp> file to the keybox format, you
  first backup the ownertrust values, then rename <samp class="file">pubring.gpg</samp> to
  <samp class="file">publickeys.backup</samp>, so it won’t be recognized by any GnuPG version,
  run import, and finally restore the ownertrust values:
</p>
<div class="example">
<pre class="example-preformatted">  $ cd ~/.gnupg
  $ gpg --export-ownertrust &gt;otrust.lst
  $ mv pubring.gpg publickeys.backup
  $ gpg --import-options restore --import publickeys.backup
  $ gpg --import-ownertrust otrust.lst
  </pre></div>

</dd>
<dt><samp class="file">~/.gnupg/pubring.kbx.lock</samp></dt>
<dd><p>The lock file for <samp class="file">pubring.kbx</samp>.
</p>
</dd>
<dt><samp class="file">~/.gnupg/secring.gpg</samp></dt>
<dd><a class="index-entry-id" id="index-secring_002egpg"></a>
<p>The legacy secret keyring as used by GnuPG versions before 2.1.  It is not
  used by GnuPG 2.1 and later.  You may want to keep it in case you
  have to use GnuPG 1.4 to decrypt archived data.
</p>
</dd>
<dt><samp class="file">~/.gnupg/secring.gpg.lock</samp></dt>
<dd><p>The lock file for the legacy secret keyring.
</p>
</dd>
<dt><samp class="file">~/.gnupg/.gpg-v21-migrated</samp></dt>
<dd><a class="index-entry-id" id="index-_002egpg_002dv21_002dmigrated"></a>
<p>File indicating that a migration to GnuPG 2.1 has been done.
</p>
</dd>
<dt><samp class="file">~/.gnupg/trustdb.gpg</samp></dt>
<dd><a class="index-entry-id" id="index-trustdb_002egpg"></a>
<p>The trust database.  There is no need to backup this file; it is better
  to backup the ownertrust values (see <a class="pxref" href="#option-_002d_002dexport_002downertrust">option --export-ownertrust</a>).
</p>
</dd>
<dt><samp class="file">~/.gnupg/trustdb.gpg.lock</samp></dt>
<dd><p>The lock file for the trust database.
</p>
</dd>
<dt><samp class="file">~/.gnupg/random_seed</samp></dt>
<dd><a class="index-entry-id" id="index-random_005fseed"></a>
<p>A file used to preserve the state of the internal random pool.
</p>
</dd>
<dt><samp class="file">~/.gnupg/openpgp-revocs.d/</samp></dt>
<dd><a class="index-entry-id" id="index-openpgp_002drevocs_002ed"></a>
<p>This is the directory where gpg stores pre-generated revocation
  certificates.  The file name corresponds to the OpenPGP fingerprint of
  the respective key.  It is suggested to backup those certificates and
  if the primary private key is not stored on the disk to move them to
  an external storage device.  Anyone who can access these files is
  able to revoke the corresponding key.  You may want to print them out.
  You should backup all files in this directory and take care to keep
  this backup closed away.
</p>
</dd>
</dl>

<p>Operation is further controlled by a few environment variables:
</p>
<dl class="table">
<dt>HOME</dt>
<dd><a class="index-entry-id" id="index-HOME"></a>
<p>Used to locate the default home directory.
</p>
</dd>
<dt>GNUPGHOME</dt>
<dd><a class="index-entry-id" id="index-GNUPGHOME-2"></a>
<p>If set directory used instead of &quot;~/.gnupg&quot;.
</p>
</dd>
<dt>GPG_AGENT_INFO</dt>
<dd><p>This variable is obsolete; it was used by GnuPG versions before 2.1.
</p>
</dd>
<dt>PINENTRY_USER_DATA</dt>
<dd><a class="index-entry-id" id="index-PINENTRY_005fUSER_005fDATA"></a>
<p>This value is passed via gpg-agent to pinentry.  It is useful to convey
  extra information to a custom pinentry.
</p>
</dd>
<dt>COLUMNS</dt>
<dt>LINES</dt>
<dd><a class="index-entry-id" id="index-COLUMNS"></a>
<a class="index-entry-id" id="index-LINES"></a>
<p>Used to size some displays to the full size of the screen.
</p>
</dd>
<dt>LANGUAGE</dt>
<dd><a class="index-entry-id" id="index-LANGUAGE"></a>
<p>Apart from its use by GNU, it is used in the W32 version to override the
  language selection done through the Registry.  If used and set to a
  valid and available language name (<var class="var">langid</var>), the file with the
  translation is loaded from
  <code class="code"><var class="var">gpgdir</var>/gnupg.nls/<var class="var">langid</var>.mo</code>.  Here <var class="var">gpgdir</var> is the
  directory out of which the gpg binary has been loaded.  If it can&rsquo;t be
  loaded the Registry is tried and as last resort the native Windows
  locale system is used.
</p>
</dd>
<dt>GNUPG_BUILD_ROOT</dt>
<dd><a class="index-entry-id" id="index-GNUPG_005fBUILD_005fROOT"></a>
<p>This variable is only used by the regression test suite as a helper
  under operating systems without proper support to figure out the
  name of a process&rsquo; text file.
</p>
</dd>
<dt>GNUPG_EXEC_DEBUG_FLAGS</dt>
<dd><a class="index-entry-id" id="index-GNUPG_005fEXEC_005fDEBUG_005fFLAGS"></a>
<p>This variable allows one to enable diagnostics for process management.
  A numeric decimal value is expected.  Bit 0 enables general
  diagnostics, bit 1 enables certain warnings on Windows.
</p>
</dd>
</dl>

<p>When calling the gpg-agent component <code class="command">gpg</code> sends a set of
environment variables to gpg-agent.  The names of these variables can
be listed using the command:
</p>
<div class="example">
<pre class="example-preformatted">  gpg-connect-agent 'getinfo std_env_names' /bye | awk '$1==&quot;D&quot; {print $2}'
</pre></div>




<hr>
</div>
<div class="section-level-extent" id="GPG-Examples">
<div class="nav-panel">
<p>
Next: <a href="#Unattended-Usage-of-GPG" accesskey="n" rel="next">Unattended Usage</a>, Previous: <a href="#GPG-Configuration" accesskey="p" rel="prev">Configuration files</a>, Up: <a href="#Invoking-GPG" accesskey="u" rel="up">Invoking GPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Examples-2"><span>4.4 Examples<a class="copiable-link" href="#Examples-2"> &para;</a></span></h3>

<dl class="table">
<dt>gpg -se -r <code class="code">Bob</code> <code class="code">file</code></dt>
<dd><p>sign and encrypt for user Bob
</p>
</dd>
<dt>gpg &ndash;clear-sign <code class="code">file</code></dt>
<dd><p>make a cleartext signature
</p>
</dd>
<dt>gpg -sb <code class="code">file</code></dt>
<dd><p>make a detached signature
</p>
</dd>
<dt>gpg -u 0x12345678 -sb <code class="code">file</code></dt>
<dd><p>make a detached signature with the key 0x12345678
</p>
</dd>
<dt>gpg &ndash;list-keys <code class="code">user_ID</code></dt>
<dd><p>show keys
</p>
</dd>
<dt>gpg &ndash;fingerprint <code class="code">user_ID</code></dt>
<dd><p>show fingerprint
</p>
</dd>
<dt>gpg &ndash;verify <code class="code">pgpfile</code></dt>
<dt>gpg &ndash;verify <code class="code">sigfile</code> [<code class="code">datafile</code>]</dt>
<dd><p>Verify the signature of the file but do not output the data unless
requested.  The second form is used for detached signatures, where
<code class="code">sigfile</code> is the detached signature (either ASCII armored or
binary) and <code class="code">datafile</code> are the signed data; if this is not given, the name of the
file holding the signed data is constructed by cutting off the
extension (&quot;.asc&quot; or &quot;.sig&quot;) of <code class="code">sigfile</code> or by asking the user
for the filename.  If the option <samp class="option">--output</samp> is also used the
signed data is written to the file specified by that option; use
<code class="code">-</code> to write the signed data to stdout.
</p></dd>
</dl>





<h2 class="chapheading" id="FILTER-EXPRESSIONS"><span>FILTER EXPRESSIONS<a class="copiable-link" href="#FILTER-EXPRESSIONS"> &para;</a></span></h2>

<p>The options <samp class="option">--import-filter</samp> and <samp class="option">--export-filter</samp> use
expressions with this syntax (square brackets indicate an optional
part and curly braces a repetition, white space between the elements
are allowed):
</p>
<div class="example">
<pre class="example-preformatted">  [lc] {[{flag}] PROPNAME op VALUE [lc]}
</pre></div>

<p>The name of a property (<var class="var">PROPNAME</var>) may only consist of letters,
digits and underscores.  The description for the filter type
describes which properties are defined.  If an undefined property is
used it evaluates to the empty string.  Unless otherwise noted, the
<var class="var">VALUE</var> must always be given and may not be the empty string.  No
quoting is defined for the value, thus the value may not contain the
strings <code class="code">&amp;&amp;</code> or <code class="code">||</code>, which are used as logical connection
operators.  The flag <code class="code">--</code> can be used to remove this restriction.
</p>
<p>Numerical values are computed as long int; standard C notation
applies.  <var class="var">lc</var> is the logical connection operator; either
<code class="code">&amp;&amp;</code> for a conjunction or <code class="code">||</code> for a disjunction.  A
conjunction is assumed at the begin of an expression.  Conjunctions
have higher precedence than disjunctions.  If <var class="var">VALUE</var> starts with
one of the characters used in any <var class="var">op</var> a space after the
<var class="var">op</var> is required.
</p>
<p>The supported operators (<var class="var">op</var>) are:
</p>
<dl class="table">
<dt>=~</dt>
<dd><p>Substring must match.
</p>
</dd>
<dt>!~</dt>
<dd><p>Substring must not match.
</p>
</dd>
<dt>=</dt>
<dd><p>The full string must match.
</p>
</dd>
<dt>&lt;&gt;</dt>
<dd><p>The full string must not match.
</p>
</dd>
<dt>==</dt>
<dd><p>The numerical value must match.
</p>
</dd>
<dt>!=</dt>
<dd><p>The numerical value must not match.
</p>
</dd>
<dt>&lt;=</dt>
<dd><p>The numerical value of the field must be LE than the value.
</p>
</dd>
<dt>&lt;</dt>
<dd><p>The numerical value of the field must be LT than the value.
</p>
</dd>
<dt>&gt;</dt>
<dd><p>The numerical value of the field must be GT than the value.
</p>
</dd>
<dt>&gt;=</dt>
<dd><p>The numerical value of the field must be GE than the value.
</p>
</dd>
<dt>-le</dt>
<dd><p>The string value of the field must be less or equal than the value.
</p>
</dd>
<dt>-lt</dt>
<dd><p>The string value of the field must be less than the value.
</p>
</dd>
<dt>-gt</dt>
<dd><p>The string value of the field must be greater than the value.
</p>
</dd>
<dt>-ge</dt>
<dd><p>The string value of the field must be greater or equal than the value.
</p>
</dd>
<dt>-n</dt>
<dd><p>True if value is not empty (no value allowed).
</p>
</dd>
<dt>-z</dt>
<dd><p>True if value is empty (no value allowed).
</p>
</dd>
<dt>-t</dt>
<dd><p>Alias for &quot;PROPNAME != 0&quot; (no value allowed).
</p>
</dd>
<dt>-f</dt>
<dd><p>Alias for &quot;PROPNAME == 0&quot; (no value allowed).
</p>
</dd>
</dl>

<p>Values for <var class="var">flag</var> must be space separated.  The supported flags
are:
</p>
<dl class="table">
<dt>&ndash;</dt>
<dd><p><var class="var">VALUE</var> spans to the end of the expression.
  </p></dd>
<dt>-c</dt>
<dd><p>The string match in this part is done case-sensitive.
  </p></dd>
<dt>-t</dt>
<dd><p>Leading and trailing spaces are not removed from <var class="var">VALUE</var>.
  The optional single space after <var class="var">op</var> is here required.
</p></dd>
</dl>

<p>The filter options concatenate several specifications for a filter of
the same type.  For example the four options in this example:
</p>
<div class="example">
<pre class="example-preformatted"> --import-filter keep-uid=&quot;uid =~ Alfa&quot;
 --import-filter keep-uid=&quot;&amp;&amp; uid !~ Test&quot;
 --import-filter keep-uid=&quot;|| uid =~ Alpha&quot;
 --import-filter keep-uid=&quot;uid !~ Test&quot;
</pre></div>

<p>which is equivalent to
</p>
<div class="example">
<pre class="example-preformatted"> --import-filter \
  keep-uid=&quot;uid =~ Alfa&quot; &amp;&amp; uid !~ Test&quot; || uid =~ Alpha&quot; &amp;&amp; &quot;uid !~ Test&quot;
</pre></div>

<p>imports only the user ids of a key containing the strings &quot;Alfa&quot;
or &quot;Alpha&quot; but not the string &quot;test&quot;.
</p>



<h2 class="chapheading" id="RETURN-VALUE"><span>RETURN VALUE<a class="copiable-link" href="#RETURN-VALUE"> &para;</a></span></h2>

<p>The program returns 0 if there are no severe errors, 1 if at least a
signature was bad, and other error codes for fatal errors.
</p>
<p>Note that signature verification requires exact knowledge of what has
been signed and by whom it has been signed.  Using only the return code
is thus not an appropriate way to verify a signature by a script.
Either make proper use or the status codes or use the <code class="command">gpgv</code>
tool which has been designed to make signature verification easy for
scripts.
</p>

<h2 class="chapheading" id="WARNINGS"><span>WARNINGS<a class="copiable-link" href="#WARNINGS"> &para;</a></span></h2>

<p>Use a good password for your user account and make sure that all
security issues are always fixed on your machine.  Also employ
diligent physical protection to your machine.  Consider to use a good
passphrase as a last resort protection to your secret key in the case
your machine gets stolen.  It is important that your secret key is
never leaked.  Using an easy to carry around token or smartcard with
the secret key is often a advisable.
</p>
<p>If you are going to verify detached signatures, make sure that the
program knows about it; either give both filenames on the command line
or use &lsquo;<samp class="samp">-</samp>&rsquo; to specify STDIN.
</p>
<p>For scripted or other unattended use of <code class="command">gpg</code> make sure to use
the machine-parseable interface and not the default interface which is
intended for direct use by humans.  The machine-parseable interface
provides a stable and well documented API independent of the locale or
future changes of <code class="command">gpg</code>.  To enable this interface use the
options <samp class="option">--with-colons</samp> and <samp class="option">--status-fd</samp>.  For certain
operations the option <samp class="option">--command-fd</samp> may come handy too.  See
this man page and the file <samp class="file">DETAILS</samp> for the specification of the
interface.  Note that the GnuPG &ldquo;info&rdquo; pages as well as the PDF
version of the GnuPG manual features a chapter on unattended use of
GnuPG.  As an alternative the library <code class="command">GPGME</code> can be used as a
high-level abstraction on top of that interface.
</p>

<h2 class="chapheading" id="INTEROPERABILITY-WITH-OTHER-OPENPGP-PROGRAMS"><span>INTEROPERABILITY WITH OTHER OPENPGP PROGRAMS<a class="copiable-link" href="#INTEROPERABILITY-WITH-OTHER-OPENPGP-PROGRAMS"> &para;</a></span></h2>

<p>GnuPG tries to be a very flexible implementation of the OpenPGP
standard. In particular, GnuPG implements many of the optional parts
of the standard, such as the SHA-512 hash, and the ZLIB and BZIP2
compression algorithms. It is important to be aware that not all
OpenPGP programs implement these optional algorithms and that by
forcing their use via the <samp class="option">--cipher-algo</samp>,
<samp class="option">--digest-algo</samp>, <samp class="option">--cert-digest-algo</samp>, or
<samp class="option">--compress-algo</samp> options in GnuPG, it is possible to create a
perfectly valid OpenPGP message, but one that cannot be read by the
intended recipient.
</p>
<p>There are dozens of variations of OpenPGP programs available, and each
supports a slightly different subset of these optional algorithms.
For example, until recently, no (unhacked) version of PGP supported
the BLOWFISH cipher algorithm. A message using BLOWFISH simply could
not be read by a PGP user. By default, GnuPG uses the standard
OpenPGP preferences system that will always do the right thing and
create messages that are usable by all recipients, regardless of which
OpenPGP program they use. Only override this safe default if you
really know what you are doing.
</p>
<p>If you absolutely must override the safe default, or if the preferences
on a given key are invalid for some reason, you are far better off using
the <samp class="option">--pgp6</samp>, <samp class="option">--pgp7</samp>, or <samp class="option">--pgp8</samp> options. These
options are safe as they do not force any particular algorithms in
violation of OpenPGP, but rather reduce the available algorithms to a
&quot;PGP-safe&quot; list.
</p>

<h2 class="chapheading" id="BUGS"><span>BUGS<a class="copiable-link" href="#BUGS"> &para;</a></span></h2>

<p>On older systems this program should be installed as setuid(root). This
is necessary to lock memory pages. Locking memory pages prevents the
operating system from writing memory pages (which may contain
passphrases or other sensitive material) to disk. If you get no
warning message about insecure memory your operating system supports
locking without being root. The program drops root privileges as soon
as locked memory is allocated.
</p>
<p>Note also that some systems (especially laptops) have the ability to
&ldquo;suspend to disk&rdquo; (also known as &ldquo;safe sleep&rdquo; or &ldquo;hibernate&rdquo;).
This writes all memory to disk before going into a low power or even
powered off mode.  Unless measures are taken in the operating system
to protect the saved memory, passphrases or other sensitive material
may be recoverable from it later.
</p>
<p>Before you report a bug you should first search the mailing list
archives for similar problems and second check whether such a bug has
already been reported to our bug tracker at <a class="url" href="https://bugs.gnupg.org">https://bugs.gnupg.org</a>.
</p>

<hr>
</div>
<div class="section-level-extent" id="Unattended-Usage-of-GPG">
<div class="nav-panel">
<p>
Previous: <a href="#GPG-Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Invoking-GPG" accesskey="u" rel="up">Invoking GPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Unattended-Usage-1"><span>4.5 Unattended Usage<a class="copiable-link" href="#Unattended-Usage-1"> &para;</a></span></h3>

<p><code class="command">gpg</code> is often used as a backend engine by other software.  To help
with this a machine interface has been defined to have an unambiguous
way to do this.  The options <samp class="option">--status-fd</samp> and <samp class="option">--batch</samp>
are almost always required for this.
</p>


<ul class="mini-toc">
<li><a href="#Programmatic-use-of-GnuPG" accesskey="1">Programmatic use of GnuPG</a></li>
<li><a href="#Ephemeral-home-directories" accesskey="2">Ephemeral home directories</a></li>
<li><a href="#The-quick-key-manipulation-interface" accesskey="3">The quick key manipulation interface</a></li>
<li><a href="#Unattended-GPG-key-generation" accesskey="4">Unattended key generation</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Programmatic-use-of-GnuPG">
<div class="nav-panel">
<p>
Next: <a href="#Ephemeral-home-directories" accesskey="n" rel="next">Ephemeral home directories</a>, Up: <a href="#Unattended-Usage-of-GPG" accesskey="u" rel="up">Unattended Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Programmatic-use-of-GnuPG-1"><span>4.5.1 Programmatic use of GnuPG<a class="copiable-link" href="#Programmatic-use-of-GnuPG-1"> &para;</a></span></h4>

<p>Please consider using GPGME instead of calling <code class="command">gpg</code>
directly.  GPGME offers a stable, backend-independent interface for
many cryptographic operations.  It supports OpenPGP and S/MIME, and
also allows interaction with various GnuPG components.
</p>
<p>GPGME provides a C-API, and comes with bindings for C++, Qt, and
Python.  Bindings for other languages are available.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Ephemeral-home-directories">
<div class="nav-panel">
<p>
Next: <a href="#The-quick-key-manipulation-interface" accesskey="n" rel="next">The quick key manipulation interface</a>, Previous: <a href="#Programmatic-use-of-GnuPG" accesskey="p" rel="prev">Programmatic use of GnuPG</a>, Up: <a href="#Unattended-Usage-of-GPG" accesskey="u" rel="up">Unattended Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Ephemeral-home-directories-1"><span>4.5.2 Ephemeral home directories<a class="copiable-link" href="#Ephemeral-home-directories-1"> &para;</a></span></h4>

<p>Sometimes you want to contain effects of some operation, for example
you want to import a key to inspect it, but you do not want this key
to be added to your keyring.  In earlier versions of GnuPG, it was
possible to specify alternate keyring files for both public and secret
keys.  In modern GnuPG versions, however, we changed how secret keys
are stored in order to better protect secret key material, and it was
not possible to preserve this interface.
</p>
<p>The preferred way to do this is to use ephemeral home directories.
This technique works across all versions of GnuPG.
</p>
<p>Create a temporary directory, create (or copy) a configuration that
meets your needs, make <code class="command">gpg</code> use this directory either
using the environment variable <var class="var">GNUPGHOME</var>, or the option
<samp class="option">--homedir</samp>.  GPGME supports this too on a per-context basis,
by modifying the engine info of contexts.  Now execute whatever
operation you like, import and export key material as necessary.  Once
finished, you can delete the directory.  All GnuPG backend services
that were started will detect this and shut down.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="The-quick-key-manipulation-interface">
<div class="nav-panel">
<p>
Next: <a href="#Unattended-GPG-key-generation" accesskey="n" rel="next">Unattended key generation</a>, Previous: <a href="#Ephemeral-home-directories" accesskey="p" rel="prev">Ephemeral home directories</a>, Up: <a href="#Unattended-Usage-of-GPG" accesskey="u" rel="up">Unattended Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-quick-key-manipulation-interface-1"><span>4.5.3 The quick key manipulation interface<a class="copiable-link" href="#The-quick-key-manipulation-interface-1"> &para;</a></span></h4>

<p>Recent versions of GnuPG have an interface to manipulate keys without
using the interactive command <samp class="option">--edit-key</samp>.  This interface was
added mainly for the benefit of GPGME (please consider using GPGME,
see the manual subsection &ldquo;Programmatic use of GnuPG&rdquo;).  This
interface is described in the subsection &ldquo;How to manage your keys&rdquo;.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Unattended-GPG-key-generation">
<div class="nav-panel">
<p>
Previous: <a href="#The-quick-key-manipulation-interface" accesskey="p" rel="prev">The quick key manipulation interface</a>, Up: <a href="#Unattended-Usage-of-GPG" accesskey="u" rel="up">Unattended Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Unattended-key-generation"><span>4.5.4 Unattended key generation<a class="copiable-link" href="#Unattended-key-generation"> &para;</a></span></h4>

<p>The command <samp class="option">--generate-key</samp> may be used along with the option
<samp class="option">--batch</samp> for unattended key generation.  This is the most
flexible way of generating keys, but it is also the most complex one.
Consider using the quick key manipulation interface described in the
previous subsection &ldquo;The quick key manipulation interface&rdquo;.
</p>
<p>The parameters for the key are either read from stdin or given as a
file on the command line.  The format of the parameter file is as
follows: Text only, line length is limited to about 1000 characters.
UTF-8 encoding must be used to specify non-ASCII characters.  Empty
lines are ignored.  Leading and trailing white space is ignored.  A
hash sign as the first non white space character indicates a comment
line.  Control statements are indicated by a leading percent sign,
their arguments are separated by white space from the keyword.
Parameters are specified by a keyword, followed by a colon; arguments
are separated by white space.  The first parameter must be
&lsquo;<samp class="samp">Key-Type</samp>&rsquo; but control statements may be placed anywhere.  The
order of the parameters does not matter except for &lsquo;<samp class="samp">Key-Type</samp>&rsquo;.
The parameters are only used for the generated keyblock (primary and
subkeys); parameters from previous sets are not used.  Some syntax
checks may be performed.  Key commences when either the end of the
parameter file is reached, the next &lsquo;<samp class="samp">Key-Type</samp>&rsquo; parameter is
encountered, or the control statement &lsquo;<samp class="samp">%commit</samp>&rsquo; is encountered.
</p>
<p>Control statements:
</p>
<dl class="table">
<dt>%echo <var class="var">text</var></dt>
<dd><p>Print <var class="var">text</var> as diagnostic.
</p>
</dd>
<dt>%dry-run</dt>
<dd><p>Suppress actual key generation (useful for syntax checking).
</p>
</dd>
<dt>%commit</dt>
<dd><p>Perform the key generation.  Note that an implicit commit is done at
the next Key-Type parameter.
</p>
</dd>
<dt>%pubring <var class="var">filename</var></dt>
<dd><p>Do not write the key to the default or commandline given keyring but
to <var class="var">filename</var>.  This must be given before the first commit to take
place, duplicate specification of the same filename is ignored, the
last filename before a commit is used.  The filename is used until a
new filename is used (at commit points) and all keys are written to
that file. If a new filename is given, this file is created (and
overwrites an existing one).
</p>
<p>See the previous subsection &ldquo;Ephemeral home directories&rdquo; for a more
robust way to contain side-effects.
</p>
</dd>
<dt>%secring <var class="var">filename</var></dt>
<dd><p>This option is a no-op for GnuPG 2.1 and later.
</p>
<p>See the previous subsection &ldquo;Ephemeral home directories&rdquo;.
</p>
</dd>
<dt>%ask-passphrase</dt>
<dt>%no-ask-passphrase</dt>
<dd><p>This option is a no-op since GnuPG version 2.1.
</p>
</dd>
<dt>%no-protection</dt>
<dd><p>Using this option allows the creation of keys without any passphrase
protection.  This option is mainly intended for regression tests.
</p>
</dd>
<dt>%transient-key</dt>
<dd><p>If given the keys are created using a faster and a somewhat less
secure random number generator.  This option may be used for keys
which are only used for a short time and do not require full
cryptographic strength.  It takes only effect if used together with
the control statement &lsquo;<samp class="samp">%no-protection</samp>&rsquo;.
</p>
</dd>
</dl>

<p>General Parameters:
</p>
<dl class="table">
<dt>Key-Type: <var class="var">algo</var></dt>
<dd><p>Starts a new parameter block by giving the type of the primary
key. The algorithm must be capable of signing.  This is a required
parameter.  <var class="var">algo</var> may either be an OpenPGP algorithm number or a
string with the algorithm name.  The special value &lsquo;<samp class="samp">default</samp>&rsquo; may
be used for <var class="var">algo</var> to create the default key type; in this case a
&lsquo;<samp class="samp">Key-Usage</samp>&rsquo; shall not be given and &lsquo;<samp class="samp">default</samp>&rsquo; also be used
for &lsquo;<samp class="samp">Subkey-Type</samp>&rsquo;.
</p>
</dd>
<dt>Key-Length: <var class="var">nbits</var></dt>
<dd><p>The requested length of the generated key in bits.  The default is
returned by running the command &lsquo;<samp class="samp">gpg --gpgconf-list</samp>&rsquo;.
For ECC keys this parameter is ignored.
</p>
</dd>
<dt>Key-Curve: <var class="var">curve</var></dt>
<dd><p>The requested elliptic curve of the generated key.  This is a required
parameter for ECC keys.  It is ignored for non-ECC keys.
</p>
</dd>
<dt>Key-Grip: <var class="var">hexstring</var></dt>
<dd><p>This is optional and used to generate a CSR or certificate for an
already existing key.  Key-Length will be ignored when given.
</p>
</dd>
<dt>Key-Usage: <var class="var">usage-list</var></dt>
<dd><p>Space or comma delimited list of key usages.  Allowed values are
&lsquo;<samp class="samp">encrypt</samp>&rsquo;, &lsquo;<samp class="samp">sign</samp>&rsquo;, and &lsquo;<samp class="samp">auth</samp>&rsquo;.  This is used to
generate the key flags.  Please make sure that the algorithm is
capable of this usage.  Note that OpenPGP requires that all primary
keys are capable of certification, so no matter what usage is given
here, the &lsquo;<samp class="samp">cert</samp>&rsquo; flag will be on.  If no &lsquo;<samp class="samp">Key-Usage</samp>&rsquo; is
specified and the &lsquo;<samp class="samp">Key-Type</samp>&rsquo; is not &lsquo;<samp class="samp">default</samp>&rsquo;, all allowed
usages for that particular algorithm are used; if it is not given but
&lsquo;<samp class="samp">default</samp>&rsquo; is used the usage will be &lsquo;<samp class="samp">sign</samp>&rsquo;.
</p>
</dd>
<dt>Subkey-Type: <var class="var">algo</var></dt>
<dd><p>This generates a secondary key (subkey).  Currently only one subkey
can be handled.  See also &lsquo;<samp class="samp">Key-Type</samp>&rsquo; above.
</p>
</dd>
<dt>Subkey-Length: <var class="var">nbits</var></dt>
<dd><p>Length of the secondary key (subkey) in bits.  The default is returned
by running the command &lsquo;<samp class="samp">gpg --gpgconf-list</samp>&rsquo;.
</p>
</dd>
<dt>Subkey-Curve: <var class="var">curve</var></dt>
<dd><p>Key curve for a subkey; similar to &lsquo;<samp class="samp">Key-Curve</samp>&rsquo;.
</p>
</dd>
<dt>Subkey-Usage: <var class="var">usage-list</var></dt>
<dd><p>Key usage lists for a subkey; similar to &lsquo;<samp class="samp">Key-Usage</samp>&rsquo;.
</p>
</dd>
<dt>Passphrase: <var class="var">string</var></dt>
<dd><p>If you want to specify a passphrase for the secret key, enter it here.
Default is to use the Pinentry dialog to ask for a passphrase.
</p>
</dd>
<dt>Name-Real: <var class="var">name</var></dt>
<dt>Name-Comment: <var class="var">comment</var></dt>
<dt>Name-Email: <var class="var">email</var></dt>
<dd><p>The three parts of a user name.  Remember to use UTF-8 encoding here.
If you don&rsquo;t give any of them, no user ID is created.
</p>
</dd>
<dt>Expire-Date: <var class="var">iso-date</var>|(<var class="var">number</var>[d|w|m|y])</dt>
<dd><p>Set the expiration date for the key (and the subkey).  It may either
be entered in ISO date format (e.g. &quot;20000815T145012&quot;) or as number of
days, weeks, month or years after the creation date.  The special
notation &quot;seconds=N&quot; is also allowed to specify a number of seconds
since creation.  Without a letter days are assumed.  Note that there
is no check done on the overflow of the type used by OpenPGP for
timestamps.  Thus you better make sure that the given value make
sense.  Although OpenPGP works with time intervals, GnuPG uses an
absolute value internally and thus the last year we can represent is
2105.
</p>
</dd>
<dt>Creation-Date: <var class="var">iso-date</var></dt>
<dd><p>Set the creation date of the key as stored in the key information and
which is also part of the fingerprint calculation.  Either a date like
&quot;1986-04-26&quot; or a full timestamp like &quot;19860426T042640&quot; may be used.
The time is considered to be UTC.  The special notation &quot;seconds=N&quot;
may be used to directly specify a the number of seconds since Epoch
(Unix time).  If it is not given the current time is used.
</p>
</dd>
<dt>Preferences: <var class="var">string</var></dt>
<dd><p>Set the cipher, hash, and compression preference values for this key.
This expects the same type of string as the sub-command &lsquo;<samp class="samp">setpref</samp>&rsquo;
in the <samp class="option">--edit-key</samp> menu.
</p>
</dd>
<dt>Revoker: <var class="var">algo</var>:<var class="var">fpr</var> [sensitive]</dt>
<dd><p>Add a designated revoker to the generated key.  Algo is the public key
algorithm of the designated revoker (i.e. RSA=1, DSA=17, etc.)
<var class="var">fpr</var> is the fingerprint of the designated revoker.  <var class="var">fpr</var> may
not contain spaces or colons.  The optional &lsquo;<samp class="samp">sensitive</samp>&rsquo; flag
marks the designated revoker as sensitive information.  Only v4 and v5
keys may be designated revokers.
</p>
</dd>
<dt>Keyserver: <var class="var">string</var></dt>
<dd><p>This is an optional parameter that specifies the preferred keyserver
URL for the key.
</p>
</dd>
<dt>Handle: <var class="var">string</var></dt>
<dd><p>This is an optional parameter only used with the status lines
KEY_CREATED and KEY_NOT_CREATED.  <var class="var">string</var> may be up to 100
characters and should not contain spaces.  It is useful for batch key
generation to associate a key parameter block with a status line.
</p>
</dd>
</dl>

<p>Here is an example on how to create a key in an ephemeral home directory:
</p><div class="example smallexample">
<pre class="example-preformatted">$ export GNUPGHOME=&quot;$(mktemp -d)&quot;
$ cat &gt;foo &lt;&lt;EOF
     %echo Generating a basic OpenPGP key
     Key-Type: DSA
     Key-Length: 1024
     Subkey-Type: ELG-E
     Subkey-Length: 1024
     Name-Real: Joe Tester
     Name-Comment: with stupid passphrase
     Name-Email: joe@foo.bar
     Expire-Date: 0
     Passphrase: abc
     # Do a commit here, so that we can later print &quot;done&quot; :-)
     %commit
     %echo done
EOF
$ gpg --batch --generate-key foo
 [...]
$ gpg --list-secret-keys
/tmp/tmp.0NQxB74PEf/pubring.kbx
-------------------------------
sec   dsa1024 2016-12-16 [SCA]
      768E895903FC1C44045C8CB95EEBDB71E9E849D0
uid           [ultimate] Joe Tester (with stupid passphrase) &lt;joe@foo.bar&gt;
ssb   elg1024 2016-12-16 [E]
</pre></div>

<p>If you want to create a key with the default algorithms you would use
these parameters:
</p><div class="example smallexample">
<pre class="example-preformatted">     %echo Generating a default key
     Key-Type: default
     Subkey-Type: default
     Name-Real: Joe Tester
     Name-Comment: with stupid passphrase
     Name-Email: joe@foo.bar
     Expire-Date: 0
     Passphrase: abc
     # Do a commit here, so that we can later print &quot;done&quot; :-)
     %commit
     %echo done
</pre></div>










<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Invoking-GPGSM">
<div class="nav-panel">
<p>
Next: <a href="#Invoking-SCDAEMON" accesskey="n" rel="next">Invoking the SCDAEMON</a>, Previous: <a href="#Invoking-GPG" accesskey="p" rel="prev">Invoking GPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Invoking-GPGSM-1"><span>5 Invoking GPGSM<a class="copiable-link" href="#Invoking-GPGSM-1"> &para;</a></span></h2>
<a class="index-entry-id" id="index-GPGSM-command-options"></a>
<a class="index-entry-id" id="index-command-options-3"></a>
<a class="index-entry-id" id="index-options_002c-GPGSM-command"></a>







<p><code class="command">gpgsm</code> is a tool similar to <code class="command">gpg</code> to provide digital
encryption and signing services on X.509 certificates and the CMS
protocol.  It is mainly used as a backend for S/MIME mail processing.
<code class="command">gpgsm</code> includes a full featured certificate management and
complies with all rules defined for the German Sphinx project.
</p>

<p>See <a class="xref" href="#Option-Index">Option Index</a>, for an index to <code class="command">GPGSM</code>&rsquo;s commands and options.
</p>



<ul class="mini-toc">
<li><a href="#GPGSM-Commands" accesskey="1">Commands</a></li>
<li><a href="#GPGSM-Options" accesskey="2">Option Summary</a></li>
<li><a href="#GPGSM-Configuration" accesskey="3">Configuration files</a></li>
<li><a href="#GPGSM-Examples" accesskey="4">Examples</a></li>
<li><a href="#Unattended-Usage" accesskey="5">Unattended Usage</a></li>
<li><a href="#GPGSM-Protocol" accesskey="6">The Protocol the Server Mode Uses</a></li>
</ul>
<hr>
<div class="section-level-extent" id="GPGSM-Commands">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-Options" accesskey="n" rel="next">Option Summary</a>, Up: <a href="#Invoking-GPGSM" accesskey="u" rel="up">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Commands-3"><span>5.1 Commands<a class="copiable-link" href="#Commands-3"> &para;</a></span></h3>

<p>Commands are not distinguished from options except for the fact that
only one command is allowed.
</p>


<ul class="mini-toc">
<li><a href="#General-GPGSM-Commands" accesskey="1">Commands not specific to the function</a></li>
<li><a href="#Operational-GPGSM-Commands" accesskey="2">Commands to select the type of operation</a></li>
<li><a href="#Certificate-Management" accesskey="3">How to manage the certificates and keys</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="General-GPGSM-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Operational-GPGSM-Commands" accesskey="n" rel="next">Commands to select the type of operation</a>, Up: <a href="#GPGSM-Commands" accesskey="u" rel="up">Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Commands-not-specific-to-the-function-1"><span>5.1.1 Commands not specific to the function<a class="copiable-link" href="#Commands-not-specific-to-the-function-1"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-version-3"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-3"> &para;</a></span></dt>
<dd><p>Print the program version and licensing information.  Note that you
cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-help-3"></a><span><code class="code">--help, -h</code><a class="copiable-link" href="#index-help-3"> &para;</a></span></dt>
<dd><p>Print a usage message summarizing the most useful command-line options.
Note that you cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-warranty-1"></a><span><code class="code">--warranty</code><a class="copiable-link" href="#index-warranty-1"> &para;</a></span></dt>
<dd><p>Print warranty information.  Note that you cannot abbreviate this
command.
</p>
</dd>
<dt><a id="index-dump_002doptions-3"></a><span><code class="code">--dump-options</code><a class="copiable-link" href="#index-dump_002doptions-3"> &para;</a></span></dt>
<dd><p>Print a list of all available options and commands.  Note that you cannot
abbreviate this command.
</p></dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Operational-GPGSM-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Certificate-Management" accesskey="n" rel="next">How to manage the certificates and keys</a>, Previous: <a href="#General-GPGSM-Commands" accesskey="p" rel="prev">Commands not specific to the function</a>, Up: <a href="#GPGSM-Commands" accesskey="u" rel="up">Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Commands-to-select-the-type-of-operation-1"><span>5.1.2 Commands to select the type of operation<a class="copiable-link" href="#Commands-to-select-the-type-of-operation-1"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-encrypt-1"></a><span><code class="code">--encrypt</code><a class="copiable-link" href="#index-encrypt-1"> &para;</a></span></dt>
<dd><p>Perform an encryption.  The keys the data is encrypted to must be set
using the option <samp class="option">--recipient</samp>.
</p>
</dd>
<dt><a id="index-decrypt-1"></a><span><code class="code">--decrypt</code><a class="copiable-link" href="#index-decrypt-1"> &para;</a></span></dt>
<dd><p>Perform a decryption; the type of input is automatically determined.  It
may either be in binary form or PEM encoded; automatic determination of
base-64 encoding is not done.
</p>
</dd>
<dt><a id="index-sign-1"></a><span><code class="code">--sign</code><a class="copiable-link" href="#index-sign-1"> &para;</a></span></dt>
<dd><p>Create a digital signature.  The key used is either the fist one found
in the keybox or those set with the <samp class="option">--local-user</samp> option.
</p>
</dd>
<dt><a id="index-verify-1"></a><span><code class="code">--verify</code><a class="copiable-link" href="#index-verify-1"> &para;</a></span></dt>
<dd><p>Check a signature file for validity.  Depending on the arguments a
detached signature may also be checked.
</p>
</dd>
<dt><a id="index-server-2"></a><span><code class="code">--server</code><a class="copiable-link" href="#index-server-2"> &para;</a></span></dt>
<dd><p>Run in server mode and wait for commands on the <code class="code">stdin</code>.
</p>
</dd>
<dt><a id="index-call_002ddirmngr"></a><span><code class="code">--call-dirmngr <var class="var">command</var> [<var class="var">args</var>]</code><a class="copiable-link" href="#index-call_002ddirmngr"> &para;</a></span></dt>
<dd><p>Behave as a Dirmngr client issuing the request <var class="var">command</var> with the
optional list of <var class="var">args</var>.  The output of the Dirmngr is printed
stdout.  Please note that file names given as arguments should have an
absolute file name (i.e. commencing with <code class="code">/</code>) because they are
passed verbatim to the Dirmngr and the working directory of the
Dirmngr might not be the same as the one of this client.  Currently it
is not possible to pass data via stdin to the Dirmngr.  <var class="var">command</var>
should not contain spaces.
</p>
<p>This is command is required for certain maintaining tasks of the dirmngr
where a dirmngr must be able to call back to <code class="command">gpgsm</code>.  See the Dirmngr
manual for details.
</p>
</dd>
<dt><a id="index-call_002dprotect_002dtool"></a><span><code class="code">--call-protect-tool <var class="var">arguments</var></code><a class="copiable-link" href="#index-call_002dprotect_002dtool"> &para;</a></span></dt>
<dd><p>Certain maintenance operations are done by an external program call
<code class="command">gpg-protect-tool</code>; this is usually not installed in a directory
listed in the PATH variable.  This command provides a simple wrapper to
access this tool.  <var class="var">arguments</var> are passed verbatim to this command;
use &lsquo;<samp class="samp">--help</samp>&rsquo; to get a list of supported operations.
</p>

</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Certificate-Management">
<div class="nav-panel">
<p>
Previous: <a href="#Operational-GPGSM-Commands" accesskey="p" rel="prev">Commands to select the type of operation</a>, Up: <a href="#GPGSM-Commands" accesskey="u" rel="up">Commands</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="How-to-manage-the-certificates-and-keys"><span>5.1.3 How to manage the certificates and keys<a class="copiable-link" href="#How-to-manage-the-certificates-and-keys"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-gen_002dkey-1"></a><span><code class="code">--generate-key</code><a class="copiable-link" href="#index-gen_002dkey-1"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-generate_002dkey-1"></a>
</dd>
<dt><code class="code">--gen-key</code></dt>
<dd><p>This command allows the creation of a certificate signing request or a
self-signed certificate.  It is commonly used along with the
<samp class="option">--output</samp> option to save the created CSR or certificate into a
file.  If used with the <samp class="option">--batch</samp> a parameter file is used to
create the CSR or certificate and it is further possible to create
non-self-signed certificates.
</p>
</dd>
<dt><a id="index-list_002dkeys-1"></a><span><code class="code">--list-keys</code><a class="copiable-link" href="#index-list_002dkeys-1"> &para;</a></span></dt>
<dt><code class="code">-k</code></dt>
<dd><p>List all available certificates stored in the local key database.
Note that the displayed data might be reformatted for better human
readability and illegal characters are replaced by safe substitutes.
</p>
</dd>
<dt><a id="index-list_002dsecret_002dkeys-1"></a><span><code class="code">--list-secret-keys</code><a class="copiable-link" href="#index-list_002dsecret_002dkeys-1"> &para;</a></span></dt>
<dt><code class="code">-K</code></dt>
<dd><p>List all available certificates for which a corresponding a secret key
is available.
</p>
</dd>
<dt><a id="index-list_002dkeys-2"></a><span><code class="code">--list-external-keys <var class="var">pattern</var></code><a class="copiable-link" href="#index-list_002dkeys-2"> &para;</a></span></dt>
<dd><p>List certificates matching <var class="var">pattern</var> using an external server.  This
utilizes the <code class="code">dirmngr</code> service.
</p>
</dd>
<dt><a id="index-list_002dchain"></a><span><code class="code">--list-chain</code><a class="copiable-link" href="#index-list_002dchain"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--list-keys</samp> but also prints all keys making up the chain.
</p>

</dd>
<dt><a class="index-entry-id" id="index-dump_002dkeys"></a>
<a id="index-dump_002dcert"></a><span><code class="code">--dump-cert</code><a class="copiable-link" href="#index-dump_002dcert"> &para;</a></span></dt>
<dt><code class="code">--dump-keys</code></dt>
<dd><p>List all available certificates stored in the local key database using a
format useful mainly for debugging.
</p>
</dd>
<dt><a id="index-dump_002dchain"></a><span><code class="code">--dump-chain</code><a class="copiable-link" href="#index-dump_002dchain"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--dump-keys</samp> but also prints all keys making up the chain.
</p>
</dd>
<dt><a id="index-dump_002dsecret_002dkeys"></a><span><code class="code">--dump-secret-keys</code><a class="copiable-link" href="#index-dump_002dsecret_002dkeys"> &para;</a></span></dt>
<dd><p>List all available certificates for which a corresponding a secret key
is available using a format useful mainly for debugging.
</p>
</dd>
<dt><a id="index-dump_002dexternal_002dkeys"></a><span><code class="code">--dump-external-keys <var class="var">pattern</var></code><a class="copiable-link" href="#index-dump_002dexternal_002dkeys"> &para;</a></span></dt>
<dd><p>List certificates matching <var class="var">pattern</var> using an external server.
This utilizes the <code class="code">dirmngr</code> service.  It uses a format useful
mainly for debugging.
</p>
</dd>
<dt><a id="index-show_002dcerts"></a><span><code class="code">--show-certs [<var class="var">files</var>]</code><a class="copiable-link" href="#index-show_002dcerts"> &para;</a></span></dt>
<dd><p>This command takes certificate files as input and prints information
about them in the same format as <samp class="option">--dump-cert</samp> does.  Each file
may either contain a single binary certificate or several PEM encoded
certificates.  If no files are given, the input is taken from stdin.
</p>
<p>Please note that the listing format may be changed in future releases
and that the option <samp class="option">--with-colons</samp> has currently no effect.
</p>

</dd>
<dt><a id="index-keydb_002dclear_002dsome_002dcert_002dflags"></a><span><code class="code">--keydb-clear-some-cert-flags</code><a class="copiable-link" href="#index-keydb_002dclear_002dsome_002dcert_002dflags"> &para;</a></span></dt>
<dd><p>This is a debugging aid to reset certain flags in the key database
which are used to cache certain certificate statuses.  It is especially
useful if a bad CRL or a weird running OCSP responder did accidentally
revoke certificate.  There is no security issue with this command
because <code class="command">gpgsm</code> always make sure that the validity of a certificate is
checked right before it is used.
</p>
</dd>
<dt><a id="index-delete_002dkeys-1"></a><span><code class="code">--delete-keys <var class="var">pattern</var></code><a class="copiable-link" href="#index-delete_002dkeys-1"> &para;</a></span></dt>
<dd><p>Delete the keys matching <var class="var">pattern</var>.  Note that there is no command
to delete the secret part of the key directly.  In case you need to do
this, you should run the command <code class="code">gpgsm --dump-secret-keys KEYID</code>
before you delete the key, copy the string of hex-digits in the
&ldquo;keygrip&rdquo; line and delete the file consisting of these hex-digits
and the suffix <code class="code">.key</code> from the <samp class="file">private-keys-v1.d</samp> directory
below our GnuPG home directory (usually <samp class="file">~/.gnupg</samp>).
</p>
</dd>
<dt><a id="index-export-1"></a><span><code class="code">--export [<var class="var">pattern</var>]</code><a class="copiable-link" href="#index-export-1"> &para;</a></span></dt>
<dd><p>Export all certificates stored in the Keybox or those specified by the
optional <var class="var">pattern</var>. Those pattern consist of a list of user ids
(see <a class="pxref" href="#how_002dto_002dspecify_002da_002duser_002did">how-to-specify-a-user-id</a>).  When used along with the
<samp class="option">--armor</samp> option a few informational lines are prepended before
each block.  There is one limitation: As there is no commonly agreed
upon way to pack more than one certificate into an ASN.1 structure,
the binary export (i.e. without using <samp class="option">armor</samp>) works only for
the export of one certificate.  Thus it is required to specify a
<var class="var">pattern</var> which yields exactly one certificate.  Ephemeral
certificate are only exported if all <var class="var">pattern</var> are given as
fingerprints or keygrips.
</p>
</dd>
<dt><a id="index-export_002dsecret_002dkey_002dp12"></a><span><code class="code">--export-secret-key-p12 <var class="var">key-id</var></code><a class="copiable-link" href="#index-export_002dsecret_002dkey_002dp12"> &para;</a></span></dt>
<dd><p>Export the private key and the certificate identified by <var class="var">key-id</var>
using the PKCS#12 format.  When used with the <code class="code">--armor</code> option a few
informational lines are prepended to the output.  Note, that the PKCS#12
format is not very secure and proper transport security should be used
to convey the exported key.  (See <a class="xref" href="#option-_002d_002dp12_002dcharset">option --p12-charset</a>.)
</p>
</dd>
<dt><a class="index-entry-id" id="index-export_002dsecret_002dkey_002draw"></a>
<a id="index-export_002dsecret_002dkey_002dp8"></a><span><code class="code">--export-secret-key-p8 <var class="var">key-id</var></code><a class="copiable-link" href="#index-export_002dsecret_002dkey_002dp8"> &para;</a></span></dt>
<dt><code class="code">--export-secret-key-raw <var class="var">key-id</var></code></dt>
<dd><p>Export the private key of the certificate identified by <var class="var">key-id</var>
with any encryption stripped.  The <code class="code">...-raw</code> command exports in
PKCS#1 format; the <code class="code">...-p8</code> command exports in PKCS#8 format.
When used with the <code class="code">--armor</code> option a few informational lines are
prepended to the output.  These commands are useful to prepare a key
for use on a TLS server.
</p>
</dd>
<dt><a id="index-import-1"></a><span><code class="code">--import [<var class="var">files</var>]</code><a class="copiable-link" href="#index-import-1"> &para;</a></span></dt>
<dd><p>Import the certificates from the PEM or binary encoded files as well as
from signed-only messages.  This command may also be used to import a
secret key from a PKCS#12 file.
</p>
</dd>
<dt><a id="index-learn_002dcard"></a><span><code class="code">--learn-card</code><a class="copiable-link" href="#index-learn_002dcard"> &para;</a></span></dt>
<dd><p>Read information about the private keys from the smartcard and import
the certificates from there.  This command utilizes the <code class="command">gpg-agent</code>
and in turn the <code class="command">scdaemon</code>.
</p>
</dd>
<dt><a id="index-passwd-1"></a><span><code class="code">--change-passphrase <var class="var">user_id</var></code><a class="copiable-link" href="#index-passwd-1"> &para;</a></span></dt>
<dd><a class="index-entry-id" id="index-change_002dpassphrase-1"></a>
</dd>
<dt><code class="code">--passwd <var class="var">user_id</var></code></dt>
<dd><p>Change the passphrase of the private key belonging to the certificate
specified as <var class="var">user_id</var>.  Note, that changing the passphrase/PIN of a
smartcard is not yet supported.
</p>
</dd>
</dl>



<hr>
</div>
</div>
<div class="section-level-extent" id="GPGSM-Options">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-Configuration" accesskey="n" rel="next">Configuration files</a>, Previous: <a href="#GPGSM-Commands" accesskey="p" rel="prev">Commands</a>, Up: <a href="#Invoking-GPGSM" accesskey="u" rel="up">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Option-Summary-3"><span>5.2 Option Summary<a class="copiable-link" href="#Option-Summary-3"> &para;</a></span></h3>

<p><code class="command">GPGSM</code> features a bunch of options to control the exact behaviour
and to change the default configuration.
</p>


<ul class="mini-toc">
<li><a href="#Configuration-Options" accesskey="1">How to change the configuration</a></li>
<li><a href="#Certificate-Options" accesskey="2">Certificate related options</a></li>
<li><a href="#Input-and-Output" accesskey="3">Input and Output</a></li>
<li><a href="#CMS-Options" accesskey="4">How to change how the CMS is created</a></li>
<li><a href="#Esoteric-Options" accesskey="5">Doing things one usually do not want to do</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Configuration-Options">
<div class="nav-panel">
<p>
Next: <a href="#Certificate-Options" accesskey="n" rel="next">Certificate related options</a>, Up: <a href="#GPGSM-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="How-to-change-the-configuration-1"><span>5.2.1 How to change the configuration<a class="copiable-link" href="#How-to-change-the-configuration-1"> &para;</a></span></h4>

<p>These options are used to change the configuration and are usually found
in the option file.
</p>
<dl class="table">
<dd>
<a class="anchor" id="gpgsm_002doption-_002d_002doptions"></a></dd>
<dt><a id="index-options-4"></a><span><code class="code">--options <var class="var">file</var></code><a class="copiable-link" href="#index-options-4"> &para;</a></span></dt>
<dd><p>Reads configuration from <var class="var">file</var> instead of from the default
per-user configuration file.  The default configuration file is named
<samp class="file">gpgsm.conf</samp> and expected in the <samp class="file">.gnupg</samp> directory directly
below the home directory of the user.
</p>
</dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME-3"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-2"></a>
<a id="index-homedir-2"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir-2"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>

</dd>
<dt><code class="code">-v</code></dt>
<dt><a class="index-entry-id" id="index-verbose-3"></a>
<a id="index-v-1"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-v-1"> &para;</a></span></dt>
<dd><p>Outputs additional information while running.
You can increase the verbosity by giving several
verbose commands to <code class="command">gpgsm</code>, such as &lsquo;<samp class="samp">-vv</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-keyserver-2"></a><span><code class="code">--keyserver <var class="var">string</var></code><a class="copiable-link" href="#index-keyserver-2"> &para;</a></span></dt>
<dd><p>This is a deprecated option.  It was used to add an LDAP server to use
for X.509 certificate and CRL lookup.  The alias <samp class="option">--ldapserver</samp>
existed from version 2.2.28 to 2.2.33 and 2.3.2 to 2.3.4 but is now
entirely ignored.
</p>
<p>LDAP servers must be given in the configuration for <code class="command">dirmngr</code>.
</p>
</dd>
<dt><a id="index-policy_002dfile"></a><span><code class="code">--policy-file <var class="var">filename</var></code><a class="copiable-link" href="#index-policy_002dfile"> &para;</a></span></dt>
<dd><p>Change the default name of the policy file to <var class="var">filename</var>.  The
default name is <samp class="file">policies.txt</samp>.
</p>
</dd>
<dt><a id="index-agent_002dprogram-1"></a><span><code class="code">--agent-program <var class="var">file</var></code><a class="copiable-link" href="#index-agent_002dprogram-1"> &para;</a></span></dt>
<dd><p>Specify an agent program to be used for secret key operations.  The
default value is determined by running the command <code class="command">gpgconf</code>.
Note that the pipe symbol (<code class="code">|</code>) is used for a regression test
suite hack and may thus not be used in the file name.
</p>
</dd>
<dt><a id="index-dirmngr_002dprogram-1"></a><span><code class="code">--dirmngr-program <var class="var">file</var></code><a class="copiable-link" href="#index-dirmngr_002dprogram-1"> &para;</a></span></dt>
<dd><p>Specify a dirmngr program to be used for <abbr class="acronym">CRL</abbr> checks.  The
default value is <samp class="file">/usr/bin/dirmngr</samp>.
</p>
</dd>
<dt><a id="index-prefer_002dsystem_002ddirmngr"></a><span><code class="code">--prefer-system-dirmngr</code><a class="copiable-link" href="#index-prefer_002dsystem_002ddirmngr"> &para;</a></span></dt>
<dd><p>This option is obsolete and ignored.
</p>
</dd>
<dt><code class="code">--disable-dirmngr</code></dt>
<dd><p>Entirely disable the use of the Dirmngr.
</p>
</dd>
<dt><a id="index-no_002dautostart-1"></a><span><code class="code">--no-autostart</code><a class="copiable-link" href="#index-no_002dautostart-1"> &para;</a></span></dt>
<dd><p>Do not start the gpg-agent or the dirmngr if it has not yet been
started and its service is required.  This option is mostly useful on
machines where the connection to gpg-agent has been redirected to
another machines.  If dirmngr is required on the remote machine, it
may be started manually using <code class="command">gpgconf --launch dirmngr</code>.
</p>
</dd>
<dt><a id="index-no_002dsecmem_002dwarning-1"></a><span><code class="code">--no-secmem-warning</code><a class="copiable-link" href="#index-no_002dsecmem_002dwarning-1"> &para;</a></span></dt>
<dd><p>Do not print a warning when the so called &quot;secure memory&quot; cannot be used.
</p>
</dd>
<dt><a id="index-log_002dfile-3"></a><span><code class="code">--log-file <var class="var">file</var></code><a class="copiable-link" href="#index-log_002dfile-3"> &para;</a></span></dt>
<dd><p>When running in server mode, append all logging output to <var class="var">file</var>.
Use <samp class="file">socket://</samp> to log to socket.
</p>
</dd>
<dt><a id="index-log_002dtime-1"></a><span><code class="code">--log-time</code><a class="copiable-link" href="#index-log_002dtime-1"> &para;</a></span></dt>
<dd><p>Prefix all log output with a timestamp even if no log file is used.
</p>
</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Certificate-Options">
<div class="nav-panel">
<p>
Next: <a href="#Input-and-Output" accesskey="n" rel="next">Input and Output</a>, Previous: <a href="#Configuration-Options" accesskey="p" rel="prev">How to change the configuration</a>, Up: <a href="#GPGSM-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Certificate-related-options"><span>5.2.2 Certificate related options<a class="copiable-link" href="#Certificate-related-options"> &para;</a></span></h4>

<dl class="table">
<dt><a class="index-entry-id" id="index-disable_002dpolicy_002dchecks"></a>
<a id="index-enable_002dpolicy_002dchecks"></a><span><code class="code">--enable-policy-checks</code><a class="copiable-link" href="#index-enable_002dpolicy_002dchecks"> &para;</a></span></dt>
<dt><code class="code">--disable-policy-checks</code></dt>
<dd><p>By default policy checks are enabled.  These options may be used to
change it.
</p>
</dd>
<dt><a class="index-entry-id" id="index-disable_002dcrl_002dchecks"></a>
<a id="index-enable_002dcrl_002dchecks"></a><span><code class="code">--enable-crl-checks</code><a class="copiable-link" href="#index-enable_002dcrl_002dchecks"> &para;</a></span></dt>
<dt><code class="code">--disable-crl-checks</code></dt>
<dd><p>By default the <abbr class="acronym">CRL</abbr> checks are enabled and the DirMngr is
used to check for revoked certificates.  The disable option is most
useful with an off-line network connection to suppress this check and
also to avoid that new certificates introduce a web bug by including a
certificate specific CRL DP.  The disable option also disables an
issuer certificate lookup via the authorityInfoAccess property of the
certificate; the <samp class="option">--enable-issuer-key-retrieve</samp> can be used
to make use of that property anyway.
</p>
</dd>
<dt><a class="index-entry-id" id="index-disable_002dtrusted_002dcert_002dcrl_002dcheck"></a>
<a id="index-enable_002dtrusted_002dcert_002dcrl_002dcheck"></a><span><code class="code">--enable-trusted-cert-crl-check</code><a class="copiable-link" href="#index-enable_002dtrusted_002dcert_002dcrl_002dcheck"> &para;</a></span></dt>
<dt><code class="code">--disable-trusted-cert-crl-check</code></dt>
<dd><p>By default the <abbr class="acronym">CRL</abbr> for trusted root certificates are checked
like for any other certificates.  This allows a CA to revoke its own
certificates voluntary without the need of putting all ever issued
certificates into a CRL.  The disable option may be used to switch this
extra check off.  Due to the caching done by the Dirmngr, there will not be
any noticeable performance gain.  Note, that this also disables possible
OCSP checks for trusted root certificates.  A more specific way of
disabling this check is by adding the &ldquo;relax&rdquo; keyword to the root CA
line of the <samp class="file">trustlist.txt</samp>
</p>

</dd>
<dt><a id="index-force_002dcrl_002drefresh"></a><span><code class="code">--force-crl-refresh</code><a class="copiable-link" href="#index-force_002dcrl_002drefresh"> &para;</a></span></dt>
<dd><p>Tell the dirmngr to reload the CRL for each request.  For better
performance, the dirmngr will actually optimize this by suppressing
the loading for short time intervals (e.g. 30 minutes). This option
is useful to make sure that a fresh CRL is available for certificates
hold in the keybox.  The suggested way of doing this is by using it
along with the option <samp class="option">--with-validation</samp> for a key listing
command.  This option should not be used in a configuration file.
</p>
</dd>
<dt><a id="index-enable_002dissuer_002dbased_002dcrl_002dcheck"></a><span><code class="code">--enable-issuer-based-crl-check</code><a class="copiable-link" href="#index-enable_002dissuer_002dbased_002dcrl_002dcheck"> &para;</a></span></dt>
<dd><p>Run a CRL check even for certificates which do not have any CRL
distribution point.  This requires that a suitable LDAP server has
been configured in Dirmngr and that the CRL can be found using the
issuer.  This option reverts to what GnuPG did up to version 2.2.20.
This option is in general not useful.
</p>
</dd>
<dt><a class="index-entry-id" id="index-disable_002docsp"></a>
<a id="index-enable_002docsp"></a><span><code class="code">--enable-ocsp</code><a class="copiable-link" href="#index-enable_002docsp"> &para;</a></span></dt>
<dt><code class="code">--disable-ocsp</code></dt>
<dd><p>By default <abbr class="acronym">OCSP</abbr> checks are disabled.  The enable option may
be used to enable OCSP checks via Dirmngr.  If <abbr class="acronym">CRL</abbr> checks
are also enabled, CRLs will be used as a fallback if for some reason an
OCSP request will not succeed.  Note, that you have to allow OCSP
requests in Dirmngr&rsquo;s configuration too (option
<samp class="option">--allow-ocsp</samp>) and configure Dirmngr properly.  If you do not do
so you will get the error code &lsquo;<samp class="samp">Not supported</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-auto_002dissuer_002dkey_002dretrieve"></a><span><code class="code">--auto-issuer-key-retrieve</code><a class="copiable-link" href="#index-auto_002dissuer_002dkey_002dretrieve"> &para;</a></span></dt>
<dd><p>If a required certificate is missing while validating the chain of
certificates, try to load that certificate from an external location.
This usually means that Dirmngr is employed to search for the
certificate.  Note that this option makes a &quot;web bug&quot; like behavior
possible.  LDAP server operators can see which keys you request, so by
sending you a message signed by a brand new key (which you naturally
will not have on your local keybox), the operator can tell both your
IP address and the time when you verified the signature.  Note that if
CRL checking is not disabled issuer certificates are retrieved in any
case using the caIssuers authorityInfoAccess method.
</p>

<a class="anchor" id="gpgsm_002doption-_002d_002dvalidation_002dmodel"></a></dd>
<dt><a id="index-validation_002dmodel"></a><span><code class="code">--validation-model <var class="var">name</var></code><a class="copiable-link" href="#index-validation_002dmodel"> &para;</a></span></dt>
<dd><p>This option changes the default validation model.  The only possible
values are &quot;shell&quot; (which is the default), &quot;chain&quot; which forces the
use of the chain model and &quot;steed&quot; for a new simplified model.  The
chain model is also used if an option in the <samp class="file">trustlist.txt</samp> or
an attribute of the certificate requests it.  However the standard
model (shell) is in that case always tried first.
</p>
</dd>
<dt><a id="index-ignore_002dcert_002dextension-1"></a><span><code class="code">--ignore-cert-extension <var class="var">oid</var></code><a class="copiable-link" href="#index-ignore_002dcert_002dextension-1"> &para;</a></span></dt>
<dd><p>Add <var class="var">oid</var> to the list of ignored certificate extensions.  The
<var class="var">oid</var> is expected to be in dotted decimal form, like
<code class="code">2.5.29.3</code>.  This option may be used more than once.  Critical
flagged certificate extensions matching one of the OIDs in the list
are treated as if they are actually handled and thus the certificate
will not be rejected due to an unknown critical extension.  Use this
option with care because extensions are usually flagged as critical
for a reason.
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="Input-and-Output">
<div class="nav-panel">
<p>
Next: <a href="#CMS-Options" accesskey="n" rel="next">How to change how the CMS is created</a>, Previous: <a href="#Certificate-Options" accesskey="p" rel="prev">Certificate related options</a>, Up: <a href="#GPGSM-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Input-and-Output-2"><span>5.2.3 Input and Output<a class="copiable-link" href="#Input-and-Output-2"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-armor-1"></a><span><code class="code">--armor</code><a class="copiable-link" href="#index-armor-1"> &para;</a></span></dt>
<dt><code class="code">-a</code></dt>
<dd><p>Create PEM encoded output.  Default is binary output.
</p>
</dd>
<dt><a id="index-base64"></a><span><code class="code">--base64</code><a class="copiable-link" href="#index-base64"> &para;</a></span></dt>
<dd><p>Create Base-64 encoded output; i.e. PEM without the header lines.
</p>
</dd>
<dt><a id="index-assume_002darmor"></a><span><code class="code">--assume-armor</code><a class="copiable-link" href="#index-assume_002darmor"> &para;</a></span></dt>
<dd><p>Assume the input data is PEM encoded.  Default is to autodetect the
encoding but this is may fail.
</p>
</dd>
<dt><a id="index-assume_002dbase64"></a><span><code class="code">--assume-base64</code><a class="copiable-link" href="#index-assume_002dbase64"> &para;</a></span></dt>
<dd><p>Assume the input data is plain base-64 encoded.
</p>
</dd>
<dt><a id="index-assume_002dbinary"></a><span><code class="code">--assume-binary</code><a class="copiable-link" href="#index-assume_002dbinary"> &para;</a></span></dt>
<dd><p>Assume the input data is binary encoded.
</p>
</dd>
<dt><a id="index-input_002dsize_002dhint-1"></a><span><code class="code">--input-size-hint <var class="var">n</var></code><a class="copiable-link" href="#index-input_002dsize_002dhint-1"> &para;</a></span></dt>
<dd><p>This option can be used to tell GPGSM the size of the input data in
bytes.  <var class="var">n</var> must be a positive base-10 number.  It is used by the
<samp class="option">--status-fd</samp> line &ldquo;PROGRESS&rdquo; to provide a value for
&ldquo;total&rdquo; if that is not available by other means.
</p>
<a class="anchor" id="option-_002d_002dp12_002dcharset"></a></dd>
<dt><a id="index-p12_002dcharset"></a><span><code class="code">--p12-charset <var class="var">name</var></code><a class="copiable-link" href="#index-p12_002dcharset"> &para;</a></span></dt>
<dd><p><code class="command">gpgsm</code> uses the UTF-8 encoding when encoding passphrases for
PKCS#12 files.  This option may be used to force the passphrase to be
encoded in the specified encoding <var class="var">name</var>.  This is useful if the
application used to import the key uses a different encoding and thus
will not be able to import a file generated by <code class="command">gpgsm</code>.  Commonly
used values for <var class="var">name</var> are <code class="code">Latin1</code> and <code class="code">CP850</code>.  Note
that <code class="command">gpgsm</code> itself automagically imports any file with a
passphrase encoded to the most commonly used encodings.
</p>

</dd>
<dt><a id="index-default_002dkey-1"></a><span><code class="code">--default-key <var class="var">user_id</var></code><a class="copiable-link" href="#index-default_002dkey-1"> &para;</a></span></dt>
<dd><p>Use <var class="var">user_id</var> as the standard key for signing.  This key is used if
no other key has been defined as a signing key.  Note, that the first
<samp class="option">--local-users</samp> option also sets this key if it has not yet been
set; however <samp class="option">--default-key</samp> always overrides this.
</p>

</dd>
<dt><code class="code">--local-user <var class="var">user_id</var></code></dt>
<dt><a id="index-local_002duser-1"></a><span><code class="code">-u <var class="var">user_id</var></code><a class="copiable-link" href="#index-local_002duser-1"> &para;</a></span></dt>
<dd><p>Set the user(s) to be used for signing.  The default is the first
secret key found in the database.
</p>

</dd>
<dt><a id="index-recipient-1"></a><span><code class="code">--recipient <var class="var">name</var></code><a class="copiable-link" href="#index-recipient-1"> &para;</a></span></dt>
<dt><code class="code">-r</code></dt>
<dd><p>Encrypt to the user id <var class="var">name</var>.  There are several ways a user id
may be given (see <a class="pxref" href="#how_002dto_002dspecify_002da_002duser_002did">how-to-specify-a-user-id</a>).
</p>

</dd>
<dt><a id="index-output-1"></a><span><code class="code">--output <var class="var">file</var></code><a class="copiable-link" href="#index-output-1"> &para;</a></span></dt>
<dt><code class="code">-o <var class="var">file</var></code></dt>
<dd><p>Write output to <var class="var">file</var>.  The default is to write it to stdout.
</p>

<a class="anchor" id="gpgsm_002doption-_002d_002dwith_002dkey_002ddata"></a></dd>
<dt><a id="index-with_002dkey_002ddata-1"></a><span><code class="code">--with-key-data</code><a class="copiable-link" href="#index-with_002dkey_002ddata-1"> &para;</a></span></dt>
<dd><p>Displays extra information with the <code class="code">--list-keys</code> commands.  Especially
a line tagged <code class="code">grp</code> is printed which tells you the keygrip of a
key.  This string is for example used as the file name of the
secret key.  Implies <code class="code">--with-colons</code>.
</p>
<a class="anchor" id="gpgsm_002doption-_002d_002dwith_002dvalidation"></a></dd>
<dt><a id="index-with_002dvalidation"></a><span><code class="code">--with-validation</code><a class="copiable-link" href="#index-with_002dvalidation"> &para;</a></span></dt>
<dd><p>When doing a key listing, do a full validation check for each key and
print the result.  This is usually a slow operation because it
requires a CRL lookup and other operations.
</p>
<p>When used along with <samp class="option">--import</samp>, a validation of the certificate to
import is done and only imported if it succeeds the test.  Note that
this does not affect an already available certificate in the DB.
This option is therefore useful to simply verify a certificate.
</p>

</dd>
<dt><code class="code">--with-md5-fingerprint</code></dt>
<dd><p>For standard key listings, also print the MD5 fingerprint of the
certificate.
</p>
</dd>
<dt><code class="code">--with-keygrip</code></dt>
<dd><p>Include the keygrip in standard key listings.  Note that the keygrip is
always listed in <samp class="option">--with-colons</samp> mode.
</p>
</dd>
<dt><a id="index-with_002dsecret-1"></a><span><code class="code">--with-secret</code><a class="copiable-link" href="#index-with_002dsecret-1"> &para;</a></span></dt>
<dd><p>Include info about the presence of a secret key in public key listings
done with <code class="code">--with-colons</code>.
</p>
</dd>
<dt><a id="index-no_002dpretty_002ddn"></a><span><code class="code">--no-pretty-dn</code><a class="copiable-link" href="#index-no_002dpretty_002ddn"> &para;</a></span></dt>
<dd><p>By default gpgsm prints distinguished names (DNs) like the Issuer or
Subject in a more readable format (e.g. using a well defined order of
the parts).  However, this format can&rsquo;t be used as input strings.
This option reverts printing to standard RFC-2253 format and thus
avoids the need to use &ndash;dump-cert or &ndash;with-colons to get the
&ldquo;real&rdquo; name.
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="CMS-Options">
<div class="nav-panel">
<p>
Next: <a href="#Esoteric-Options" accesskey="n" rel="next">Doing things one usually do not want to do</a>, Previous: <a href="#Input-and-Output" accesskey="p" rel="prev">Input and Output</a>, Up: <a href="#GPGSM-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="How-to-change-how-the-CMS-is-created"><span>5.2.4 How to change how the CMS is created<a class="copiable-link" href="#How-to-change-how-the-CMS-is-created"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-include_002dcerts"></a><span><code class="code">--include-certs <var class="var">n</var></code><a class="copiable-link" href="#index-include_002dcerts"> &para;</a></span></dt>
<dd><p>Using <var class="var">n</var> of -2 includes all certificate except for the root cert,
-1 includes all certs, 0 does not include any certs, 1 includes only the
signers cert and all other positive values include up to <var class="var">n</var>
certificates starting with the signer cert.  The default is -2.
</p>
</dd>
<dt><a id="index-cipher_002dalgo-1"></a><span><code class="code">--cipher-algo <var class="var">oid</var></code><a class="copiable-link" href="#index-cipher_002dalgo-1"> &para;</a></span></dt>
<dd><p>Use the cipher algorithm with the ASN.1 object identifier <var class="var">oid</var> for
encryption.  For convenience the strings <code class="code">3DES</code>, <code class="code">AES</code> and
<code class="code">AES256</code> may be used instead of their OIDs.  The default is
<code class="code">AES</code> (2.16.840.1.101.3.4.1.2).
</p>
</dd>
<dt><code class="code">--digest-algo <code class="code">name</code></code></dt>
<dd><p>Use <code class="code">name</code> as the message digest algorithm.  Usually this
algorithm is deduced from the respective signing certificate.  This
option forces the use of the given algorithm and may lead to severe
interoperability problems.
</p>
</dd>
</dl>



<hr>
</div>
<div class="subsection-level-extent" id="Esoteric-Options">
<div class="nav-panel">
<p>
Previous: <a href="#CMS-Options" accesskey="p" rel="prev">How to change how the CMS is created</a>, Up: <a href="#GPGSM-Options" accesskey="u" rel="up">Option Summary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Doing-things-one-usually-do-not-want-to-do"><span>5.2.5 Doing things one usually do not want to do<a class="copiable-link" href="#Doing-things-one-usually-do-not-want-to-do"> &para;</a></span></h4>


<dl class="table">
<dt><a id="index-chuid-1"></a><span><code class="code">--chuid <var class="var">uid</var></code><a class="copiable-link" href="#index-chuid-1"> &para;</a></span></dt>
<dd><p>Change the current user to <var class="var">uid</var> which may either be a number or a
name.  This can be used from the root account to run gpgsm for
another user.  If <var class="var">uid</var> is not the current UID a standard PATH is
set and the envvar GNUPGHOME is unset.  To override the latter the
option <samp class="option">--homedir</samp> can be used.  This option has only an effect
when used on the command line.  This option has currently no effect at
all on Windows.
</p>

</dd>
<dt><a id="index-extra_002ddigest_002dalgo"></a><span><code class="code">--extra-digest-algo <var class="var">name</var></code><a class="copiable-link" href="#index-extra_002ddigest_002dalgo"> &para;</a></span></dt>
<dd><p>Sometimes signatures are broken in that they announce a different digest
algorithm than actually used.  <code class="command">gpgsm</code> uses a one-pass data
processing model and thus needs to rely on the announced digest
algorithms to properly hash the data.  As a workaround this option may
be used to tell <code class="command">gpgsm</code> to also hash the data using the algorithm
<var class="var">name</var>; this slows processing down a little bit but allows verification of
such broken signatures.  If <code class="command">gpgsm</code> prints an error like
&ldquo;digest algo 8 has not been enabled&rdquo; you may want to try this option,
with &lsquo;<samp class="samp">SHA256</samp>&rsquo; for <var class="var">name</var>.
</p>
</dd>
<dt><a id="index-compliance-1"></a><span><code class="code">--compliance <var class="var">string</var></code><a class="copiable-link" href="#index-compliance-1"> &para;</a></span></dt>
<dd><p>Set the compliance mode.  Valid values are shown when using &quot;help&quot; for
<var class="var">string</var>.
</p>
</dd>
<dt><a id="index-min_002drsa_002dlength-1"></a><span><code class="code">--min-rsa-length <var class="var">n</var></code><a class="copiable-link" href="#index-min_002drsa_002dlength-1"> &para;</a></span></dt>
<dd><p>This option adjusts the compliance mode &quot;de-vs&quot; for stricter key size
requirements.  For example, a value of 3000 turns rsa2048 and dsa2048
keys into non-VS-NfD compliant keys.
</p>
</dd>
<dt><a id="index-require_002dcompliance-1"></a><span><code class="code">--require-compliance</code><a class="copiable-link" href="#index-require_002dcompliance-1"> &para;</a></span></dt>
<dd><p>To check that data has been encrypted according to the rules of the
current compliance mode, a gpgsm user needs to evaluate the status
lines.  This is allows frontends to handle compliance check in a more
flexible way.  However, for scripted use the required evaluation of
the status-line requires quite some effort; this option can be used
instead to make sure that the gpgsm process exits with a failure if
the compliance rules are not fulfilled.  Note that this option has
currently an effect only in &quot;de-vs&quot; mode.
</p>
</dd>
<dt><a id="index-always_002dtrust-1"></a><span><code class="code">--always-trust</code><a class="copiable-link" href="#index-always_002dtrust-1"> &para;</a></span></dt>
<dd><p>Force encryption to the specified certificates without any validation
of the certificate chain.  The only requirement is that the
certificate is capable of encryption.  Note that this option is
ineffective if <samp class="option">--require-compliance</samp> is used.
</p>
</dd>
<dt><a id="index-ignore_002dcert_002dwith_002doid"></a><span><code class="code">--ignore-cert-with-oid <var class="var">oid</var></code><a class="copiable-link" href="#index-ignore_002dcert_002dwith_002doid"> &para;</a></span></dt>
<dd><p>Add <var class="var">oid</var> to the list of OIDs to be checked while reading
certificates from smartcards. The <var class="var">oid</var> is expected to be in
dotted decimal form, like <code class="code">2.5.29.3</code>.  This option may be used
more than once.  As of now certificates with an extended key usage
matching one of those OIDs are ignored during a <samp class="option">--learn-card</samp>
operation and not imported.  This option can help to keep the local
key database clear of unneeded certificates stored on smartcards.
</p>
</dd>
<dt><a id="index-faked_002dsystem_002dtime-3"></a><span><code class="code">--faked-system-time <var class="var">epoch</var></code><a class="copiable-link" href="#index-faked_002dsystem_002dtime-3"> &para;</a></span></dt>
<dd><p>This option is only useful for testing; it sets the system time back or
forth to <var class="var">epoch</var> which is the number of seconds elapsed since the year
1970.  Alternatively <var class="var">epoch</var> may be given as a full ISO time string
(e.g. &quot;20070924T154812&quot;).
</p>
</dd>
<dt><a id="index-with_002dephemeral_002dkeys"></a><span><code class="code">--with-ephemeral-keys</code><a class="copiable-link" href="#index-with_002dephemeral_002dkeys"> &para;</a></span></dt>
<dd><p>Include ephemeral flagged keys in the output of key listings.  Note
that they are included anyway if the key specification for a listing
is given as fingerprint or keygrip.
</p>
</dd>
<dt><a id="index-compatibility_002dflags-2"></a><span><code class="code">--compatibility-flags <var class="var">flags</var></code><a class="copiable-link" href="#index-compatibility_002dflags-2"> &para;</a></span></dt>
<dd><p>Set compatibility flags to work around problems due to non-compliant
certificates or data.  The <var class="var">flags</var> are given as a comma separated
list of flag names and are OR-ed together.  The special flag &quot;none&quot;
clears the list and allows one to start over with an empty list.  To get a
list of available flags the sole word &quot;help&quot; can be used.
</p>
</dd>
<dt><a id="index-debug_002dlevel-3"></a><span><code class="code">--debug-level <var class="var">level</var></code><a class="copiable-link" href="#index-debug_002dlevel-3"> &para;</a></span></dt>
<dd><p>Select the debug level for investigating problems. <var class="var">level</var> may be
a numeric value or by a keyword:
</p>
<dl class="table">
<dt><code class="code">none</code></dt>
<dd><p>No debugging at all.  A value of less than 1 may be used instead of
the keyword.
</p></dd>
<dt><code class="code">basic</code></dt>
<dd><p>Some basic debug messages.  A value between 1 and 2 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">advanced</code></dt>
<dd><p>More verbose debug messages.  A value between 3 and 5 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">expert</code></dt>
<dd><p>Even more detailed messages.  A value between 6 and 8 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">guru</code></dt>
<dd><p>All of the debug messages you can get. A value greater than 8 may be
used instead of the keyword.  The creation of hash tracing files is
only enabled if the keyword is used.
</p></dd>
</dl>

<p>How these messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this program. They are
however carefully selected to best aid in debugging.
</p>
</dd>
<dt><a id="index-debug-3"></a><span><code class="code">--debug <var class="var">flags</var></code><a class="copiable-link" href="#index-debug-3"> &para;</a></span></dt>
<dd><p>Set debug flags.  All flags are or-ed and <var class="var">flags</var> may be given
in C syntax (e.g. 0x0042) or as a comma separated list of flag names.
To get a list of all supported flags the single word &quot;help&quot; can be
used. This option is only useful for debugging and the behavior may
change at any time without notice.
</p>
<p>Note, that all flags set using this option may get overridden by
<code class="code">--debug-level</code>.
</p>
</dd>
<dt><a id="index-debug_002dall-3"></a><span><code class="code">--debug-all</code><a class="copiable-link" href="#index-debug_002dall-3"> &para;</a></span></dt>
<dd><p>Same as <code class="code">--debug=0xffffffff</code>
</p>
</dd>
<dt><a id="index-debug_002dallow_002dcore_002ddump"></a><span><code class="code">--debug-allow-core-dump</code><a class="copiable-link" href="#index-debug_002dallow_002dcore_002ddump"> &para;</a></span></dt>
<dd><p>Usually <code class="command">gpgsm</code> tries to avoid dumping core by well written code and by
disabling core dumps for security reasons.  However, bugs are pretty
durable beasts and to squash them it is sometimes useful to have a core
dump.  This option enables core dumps unless the Bad Thing happened
before the option parsing.
</p>
</dd>
<dt><a id="index-debug_002dno_002dchain_002dvalidation"></a><span><code class="code">--debug-no-chain-validation</code><a class="copiable-link" href="#index-debug_002dno_002dchain_002dvalidation"> &para;</a></span></dt>
<dd><p>This is actually not a debugging option but only useful as such.  It
lets <code class="command">gpgsm</code> bypass all certificate chain validation checks.
</p>
</dd>
<dt><a id="index-debug_002dignore_002dexpiration-1"></a><span><code class="code">--debug-ignore-expiration</code><a class="copiable-link" href="#index-debug_002dignore_002dexpiration-1"> &para;</a></span></dt>
<dd><p>This is actually not a debugging option but only useful as such.  It
lets <code class="command">gpgsm</code> ignore all notAfter dates, this is used by the regression
tests.
</p>
</dd>
<dt><a id="index-passphrase_002dfd-1"></a><span><code class="code">--passphrase-fd <code class="code">n</code></code><a class="copiable-link" href="#index-passphrase_002dfd-1"> &para;</a></span></dt>
<dd><p>Read the passphrase from file descriptor <code class="code">n</code>. Only the first line
will be read from file descriptor <code class="code">n</code>. If you use 0 for <code class="code">n</code>,
the passphrase will be read from STDIN. This can only be used if only
one passphrase is supplied.
</p>
<p>Note that this passphrase is only used if the option <samp class="option">--batch</samp>
has also been given.
</p>
</dd>
<dt><a id="index-pinentry_002dmode-1"></a><span><code class="code">--pinentry-mode <code class="code">mode</code></code><a class="copiable-link" href="#index-pinentry_002dmode-1"> &para;</a></span></dt>
<dd><p>Set the pinentry mode to <code class="code">mode</code>.  Allowed values for <code class="code">mode</code>
are:
</p><dl class="table">
<dt>default</dt>
<dd><p>Use the default of the agent, which is <code class="code">ask</code>.
  </p></dd>
<dt>ask</dt>
<dd><p>Force the use of the Pinentry.
  </p></dd>
<dt>cancel</dt>
<dd><p>Emulate use of Pinentry&rsquo;s cancel button.
  </p></dd>
<dt>error</dt>
<dd><p>Return a Pinentry error (&ldquo;No Pinentry&rdquo;).
  </p></dd>
<dt>loopback</dt>
<dd><p>Redirect Pinentry queries to the caller.  Note that in contrast to
  Pinentry the user is not prompted again if he enters a bad password.
</p></dd>
</dl>

</dd>
<dt><a id="index-request_002dorigin-1"></a><span><code class="code">--request-origin <var class="var">origin</var></code><a class="copiable-link" href="#index-request_002dorigin-1"> &para;</a></span></dt>
<dd><p>Tell gpgsm to assume that the operation ultimately originated at
<var class="var">origin</var>.  Depending on the origin certain restrictions are applied
and the Pinentry may include an extra note on the origin.  Supported
values for <var class="var">origin</var> are: <code class="code">local</code> which is the default,
<code class="code">remote</code> to indicate a remote origin or <code class="code">browser</code> for an
operation requested by a web browser.
</p>
</dd>
<dt><a id="index-no_002dcommon_002dcerts_002dimport"></a><span><code class="code">--no-common-certs-import</code><a class="copiable-link" href="#index-no_002dcommon_002dcerts_002dimport"> &para;</a></span></dt>
<dd><p>Suppress the import of common certificates on keybox creation.
</p>
</dd>
</dl>

<p>All the long options may also be given in the configuration file after
stripping off the two leading dashes.
</p>



<hr>
</div>
</div>
<div class="section-level-extent" id="GPGSM-Configuration">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#GPGSM-Options" accesskey="p" rel="prev">Option Summary</a>, Up: <a href="#Invoking-GPGSM" accesskey="u" rel="up">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Configuration-files-1"><span>5.3 Configuration files<a class="copiable-link" href="#Configuration-files-1"> &para;</a></span></h3>

<p>There are a few configuration files to control certain aspects of
<code class="command">gpgsm</code>&rsquo;s operation. Unless noted, they are expected in the
current home directory (see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).
</p>
<dl class="table">
<dt><a id="index-gpgsm_002econf"></a><span><samp class="file">gpgsm.conf</samp><a class="copiable-link" href="#index-gpgsm_002econf"> &para;</a></span></dt>
<dd><p>This is the standard configuration file read by <code class="command">gpgsm</code> on
startup.  It may contain any valid long option; the leading two dashes
may not be entered and the option may not be abbreviated.  This default
name may be changed on the command line (see <a class="pxref" href="#gpgsm_002doption-_002d_002doptions">gpgsm-option --options</a>).
You should backup this file.
</p>
</dd>
<dt><a id="index-common_002econf-1"></a><span><samp class="file">common.conf</samp><a class="copiable-link" href="#index-common_002econf-1"> &para;</a></span></dt>
<dd><p>This is an optional configuration file read by <code class="command">gpgsm</code> on
startup.  It may contain options pertaining to all components of
GnuPG.  Its current main use is for the &quot;use-keyboxd&quot; option.
</p>
</dd>
<dt><a id="index-policies_002etxt"></a><span><samp class="file">policies.txt</samp><a class="copiable-link" href="#index-policies_002etxt"> &para;</a></span></dt>
<dd><p>This is a list of allowed CA policies.  This file should list the
object identifiers of the policies line by line.  Empty lines and
lines starting with a hash mark are ignored.  Policies missing in this
file and not marked as critical in the certificate will print only a
warning; certificates with policies marked as critical and not listed
in this file will fail the signature verification.  You should backup
this file.
</p>
<p>For example, to allow only the policy 2.289.9.9, the file should look
like this:
</p>
<div class="example">
<pre class="example-preformatted"># Allowed policies
2.289.9.9
</pre></div>

</dd>
<dt><a id="index-qualified_002etxt"></a><span><samp class="file">qualified.txt</samp><a class="copiable-link" href="#index-qualified_002etxt"> &para;</a></span></dt>
<dd><p>This is the list of root certificates used for qualified certificates.
They are defined as certificates capable of creating legally binding
signatures in the same way as handwritten signatures are.  Comments
start with a hash mark and empty lines are ignored.  Lines do have a
length limit but this is not a serious limitation as the format of the
entries is fixed and checked by <code class="command">gpgsm</code>: A non-comment line starts with
optional whitespace, followed by exactly 40 hex characters, white space
and a lowercased 2 letter country code.  Additional data delimited with
by a white space is current ignored but might late be used for other
purposes.
</p>
<p>Note that even if a certificate is listed in this file, this does not
mean that the certificate is trusted; in general the certificates listed
in this file need to be listed also in <samp class="file">trustlist.txt</samp>. This is a global
file an installed in the sysconf directory (e.g.
<samp class="file">/etc/gnupg/qualified.txt</samp>).
</p>
<p>Every time <code class="command">gpgsm</code> uses a certificate for signing or verification
this file will be consulted to check whether the certificate under
question has ultimately been issued by one of these CAs.  If this is the
case the user will be informed that the verified signature represents a
legally binding (&ldquo;qualified&rdquo;) signature.  When creating a signature
using such a certificate an extra prompt will be issued to let the user
confirm that such a legally binding signature shall really be created.
</p>
<p>Because this software has not yet been approved for use with such
certificates, appropriate notices will be shown to indicate this fact.
</p>
</dd>
<dt><a id="index-help_002etxt"></a><span><samp class="file">help.txt</samp><a class="copiable-link" href="#index-help_002etxt"> &para;</a></span></dt>
<dd><p>This is plain text file with a few help entries used with
<code class="command">pinentry</code> as well as a large list of help items for
<code class="command">gpg</code> and <code class="command">gpgsm</code>.  The standard file has English help
texts; to install localized versions use filenames like <samp class="file">help.LL.txt</samp>
with LL denoting the locale.  GnuPG comes with a set of predefined help
files in the data directory (e.g. <samp class="file">/usr/share/gnupg/gnupg/help.de.txt</samp>)
and allows overriding of any help item by help files stored in the
system configuration directory (e.g. <samp class="file">/etc/gnupg/help.de.txt</samp>).
For a reference of the help file&rsquo;s syntax, please see the installed
<samp class="file">help.txt</samp> file.
</p>

</dd>
<dt><a id="index-com_002dcerts_002epem"></a><span><samp class="file">com-certs.pem</samp><a class="copiable-link" href="#index-com_002dcerts_002epem"> &para;</a></span></dt>
<dd><p>This file is a collection of common certificates used to populated a
newly created <samp class="file">pubring.kbx</samp>.  An administrator may replace this
file with a custom one.  The format is a concatenation of PEM encoded
X.509 certificates.  This global file is installed in the data directory
(e.g. <samp class="file">/usr/share/gnupg/com-certs.pem</samp>).
</p>
</dd>
</dl>

<p>Note that on larger installations, it is useful to put predefined files
into the directory <samp class="file">/etc/skel/.gnupg/</samp> so that newly created users
start up with a working configuration.  For existing users a small
helper script is provided to create these files (see <a class="pxref" href="#addgnupghome">Create .gnupg home directories</a>).
</p>
<p>For internal purposes <code class="command">gpgsm</code> creates and maintains a few other files;
they all live in the current home directory (see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).  Only <code class="command">gpgsm</code> may modify these files.
</p>

<dl class="table">
<dt><a id="index-pubring_002ekbx-1"></a><span><samp class="file">pubring.kbx</samp><a class="copiable-link" href="#index-pubring_002ekbx-1"> &para;</a></span></dt>
<dd><p>This a database file storing the certificates as well as meta
information.  For debugging purposes the tool <code class="command">kbxutil</code> may be
used to show the internal structure of this file.  You should backup
this file.
</p>
</dd>
<dt><a id="index-random_005fseed-1"></a><span><samp class="file">random_seed</samp><a class="copiable-link" href="#index-random_005fseed-1"> &para;</a></span></dt>
<dd><p>This content of this file is used to maintain the internal state of the
random number generator across invocations.  The same file is used by
other programs of this software too.
</p>
</dd>
<dt><a id="index-S_002egpg_002dagent"></a><span><samp class="file">S.gpg-agent</samp><a class="copiable-link" href="#index-S_002egpg_002dagent"> &para;</a></span></dt>
<dd><p>If this file exists
<code class="command">gpgsm</code> will first try to connect to this socket for
accessing <code class="command">gpg-agent</code> before starting a new <code class="command">gpg-agent</code>
instance.  Under Windows this socket (which in reality be a plain file
describing a regular TCP listening port) is the standard way of
connecting the <code class="command">gpg-agent</code>.
</p>
</dd>
</dl>



<hr>
</div>
<div class="section-level-extent" id="GPGSM-Examples">
<div class="nav-panel">
<p>
Next: <a href="#Unattended-Usage" accesskey="n" rel="next">Unattended Usage</a>, Previous: <a href="#GPGSM-Configuration" accesskey="p" rel="prev">Configuration files</a>, Up: <a href="#Invoking-GPGSM" accesskey="u" rel="up">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Examples-3"><span>5.4 Examples<a class="copiable-link" href="#Examples-3"> &para;</a></span></h3>

<div class="example">
<pre class="example-preformatted">$ gpgsm -er goo@bar.net &lt;plaintext &gt;ciphertext
</pre></div>



<hr>
</div>
<div class="section-level-extent" id="Unattended-Usage">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-Protocol" accesskey="n" rel="next">The Protocol the Server Mode Uses</a>, Previous: <a href="#GPGSM-Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Invoking-GPGSM" accesskey="u" rel="up">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Unattended-Usage-2"><span>5.5 Unattended Usage<a class="copiable-link" href="#Unattended-Usage-2"> &para;</a></span></h3>

<p><code class="command">gpgsm</code> is often used as a backend engine by other software.  To help
with this a machine interface has been defined to have an unambiguous
way to do this.  This is most likely used with the <code class="code">--server</code> command
but may also be used in the standard operation mode by using the
<code class="code">--status-fd</code> option.
</p>

<ul class="mini-toc">
<li><a href="#Automated-signature-checking" accesskey="1">Automated signature checking</a></li>
<li><a href="#CSR-and-certificate-creation" accesskey="2">CSR and certificate creation</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Automated-signature-checking">
<div class="nav-panel">
<p>
Next: <a href="#CSR-and-certificate-creation" accesskey="n" rel="next">CSR and certificate creation</a>, Up: <a href="#Unattended-Usage" accesskey="u" rel="up">Unattended Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Automated-signature-checking-1"><span>5.5.1 Automated signature checking<a class="copiable-link" href="#Automated-signature-checking-1"> &para;</a></span></h4>

<p>It is very important to understand the semantics used with signature
verification.  Checking a signature is not as simple as it may sound and
so the operation is a bit complicated.  In most cases it is required
to look at several status lines.  Here is a table of all cases a signed
message may have:
</p>
<dl class="table">
<dt>The signature is valid</dt>
<dd><p>This does mean that the signature has been successfully verified, the
certificates are all sane.  However there are two subcases with
important information:  One of the certificates may have expired or a
signature of a message itself as expired.  It is a sound practise to
consider such a signature still as valid but additional information
should be displayed.  Depending on the subcase <code class="command">gpgsm</code> will issue
these status codes:
  </p><dl class="table">
<dt>signature valid and nothing did expire</dt>
<dd><p><code class="code">GOODSIG</code>, <code class="code">VALIDSIG</code>, <code class="code">TRUST_FULLY</code>
  </p></dd>
<dt>signature valid but at least one certificate has expired</dt>
<dd><p><code class="code">EXPKEYSIG</code>, <code class="code">VALIDSIG</code>, <code class="code">TRUST_FULLY</code>
  </p></dd>
<dt>signature valid but expired</dt>
<dd><p><code class="code">EXPSIG</code>, <code class="code">VALIDSIG</code>, <code class="code">TRUST_FULLY</code>
  Note, that this case is currently not implemented.
  </p></dd>
</dl>

</dd>
<dt>The signature is invalid</dt>
<dd><p>This means that the signature verification failed (this is an indication
of a transfer error, a program error or tampering with the message).
<code class="command">gpgsm</code> issues one of these status codes sequences:
  </p><dl class="table">
<dt><code class="code"><code class="code">BADSIG</code></code></dt>
<dt><code class="code"><code class="code">GOODSIG</code>, <code class="code">VALIDSIG</code> <code class="code">TRUST_NEVER</code></code></dt>
</dl>

</dd>
<dt>Error verifying a signature</dt>
<dd><p>For some reason the signature could not be verified, i.e. it cannot be
decided whether the signature is valid or invalid.  A common reason for
this is a missing certificate.
</p>
</dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="CSR-and-certificate-creation">
<div class="nav-panel">
<p>
Previous: <a href="#Automated-signature-checking" accesskey="p" rel="prev">Automated signature checking</a>, Up: <a href="#Unattended-Usage" accesskey="u" rel="up">Unattended Usage</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="CSR-and-certificate-creation-1"><span>5.5.2 CSR and certificate creation<a class="copiable-link" href="#CSR-and-certificate-creation-1"> &para;</a></span></h4>

<p>The command <samp class="option">--generate-key</samp> may be used along with the option
<samp class="option">--batch</samp> to either create a certificate signing request (CSR)
or an X.509 certificate.  This is controlled by a parameter file; the
format of this file is as follows:
</p>
<ul class="itemize mark-bullet">
<li>Text only, line length is limited to about 1000 characters.
</li><li>UTF-8 encoding must be used to specify non-ASCII characters.
</li><li>Empty lines are ignored.
</li><li>Leading and trailing while space is ignored.
</li><li>A hash sign as the first non white space character indicates
a comment line.
</li><li>Control statements are indicated by a leading percent sign, the
arguments are separated by white space from the keyword.
</li><li>Parameters are specified by a keyword, followed by a colon.  Arguments
are separated by white space.
</li><li>The first parameter must be &lsquo;<samp class="samp">Key-Type</samp>&rsquo;, control statements
may be placed anywhere.
</li><li>The order of the parameters does not matter except for &lsquo;<samp class="samp">Key-Type</samp>&rsquo;
which must be the first parameter.  The parameters are only used for
the generated CSR/certificate; parameters from previous sets are not
used.  Some syntactically checks may be performed.
</li><li>Key generation takes place when either the end of the parameter file
is reached, the next &lsquo;<samp class="samp">Key-Type</samp>&rsquo; parameter is encountered or at the
control statement &lsquo;<samp class="samp">%commit</samp>&rsquo; is encountered.
</li></ul>

<p>Control statements:
</p>
<dl class="table">
<dt>%echo <var class="var">text</var></dt>
<dd><p>Print <var class="var">text</var> as diagnostic.
</p>
</dd>
<dt>%dry-run</dt>
<dd><p>Suppress actual key generation (useful for syntax checking).
</p>
</dd>
<dt>%commit</dt>
<dd><p>Perform the key generation.  Note that an implicit commit is done at
the next Key-Type parameter.
</p>
</dd>
</dl>

<p>General Parameters:
</p>
<dl class="table">
<dt>Key-Type: <var class="var">algo</var></dt>
<dd><p>Starts a new parameter block by giving the type of the primary
key. The algorithm must be capable of signing.  This is a required
parameter.  The supported values for <var class="var">algo</var> are &lsquo;<samp class="samp">rsa</samp>&rsquo;,
&lsquo;<samp class="samp">ecdsa</samp>&rsquo;, and &lsquo;<samp class="samp">eddsa</samp>&rsquo;.
</p>
</dd>
<dt>Key-Length: <var class="var">nbits</var></dt>
<dd><p>The requested length of a generated key in bits.  Defaults to
3072. The value is ignored for ECC algorithms.
</p>
</dd>
<dt>Key-Grip: <var class="var">hexstring</var></dt>
<dd><p>This is optional and used to generate a CSR or certificate for an
already existing key.  Key-Length will be ignored when given.
</p>
</dd>
<dt>Key-Usage: <var class="var">usage-list</var></dt>
<dd><p>Space or comma delimited list of key usage, allowed values are
&lsquo;<samp class="samp">encrypt</samp>&rsquo;, &lsquo;<samp class="samp">sign</samp>&rsquo; and &lsquo;<samp class="samp">cert</samp>&rsquo;.  This is used to generate
the keyUsage extension.  Please make sure that the algorithm is
capable of this usage.  Default is to allow encrypt and sign.
</p>
</dd>
<dt>Name-DN: <var class="var">subject-name</var></dt>
<dd><p>This is the Distinguished Name (DN) of the subject in RFC-2253 format.
</p>
</dd>
<dt>Name-Email: <var class="var">string</var></dt>
<dd><p>This is an email address for the altSubjectName.  This parameter is
optional but may occur several times to add several email addresses to
a certificate.
</p>
</dd>
<dt>Name-DNS: <var class="var">string</var></dt>
<dd><p>The is an DNS name for the altSubjectName.  This parameter is optional
but may occur several times to add several DNS names to a certificate.
</p>
</dd>
<dt>Name-URI: <var class="var">string</var></dt>
<dd><p>This is an URI for the altSubjectName.  This parameter is optional but
may occur several times to add several URIs to a certificate.
</p></dd>
</dl>

<p>Additional parameters used to create a certificate (in contrast to a
certificate signing request):
</p>
<dl class="table">
<dt>Serial: <var class="var">sn</var></dt>
<dd><p>If this parameter is given an X.509 certificate will be generated.
<var class="var">sn</var> is expected to be a hex string representing an unsigned
integer of arbitrary length.  The special value &lsquo;<samp class="samp">random</samp>&rsquo; can be
used to create a 64 bit random serial number.
</p>
</dd>
<dt>Issuer-DN: <var class="var">issuer-name</var></dt>
<dd><p>This is the DN name of the issuer in RFC-2253 format.  If it is not set
it will default to the subject DN and a special GnuPG extension will
be included in the certificate to mark it as a standalone certificate.
</p>
</dd>
<dt>Creation-Date: <var class="var">iso-date</var></dt>
<dt>Not-Before: <var class="var">iso-date</var></dt>
<dd><p>Set the notBefore date of the certificate.  Either a date like
&lsquo;<samp class="samp">1986-04-26</samp>&rsquo; or &lsquo;<samp class="samp">1986-04-26 12:00</samp>&rsquo; or a standard ISO
timestamp like &lsquo;<samp class="samp">19860426T042640</samp>&rsquo; may be used.  The time is
considered to be UTC.  If it is not given the current date is used.
</p>
</dd>
<dt>Expire-Date: <var class="var">iso-date</var></dt>
<dt>Not-After: <var class="var">iso-date</var></dt>
<dd><p>Set the notAfter date of the certificate.  Either a date like
&lsquo;<samp class="samp">2063-04-05</samp>&rsquo; or &lsquo;<samp class="samp">2063-04-05 17:00</samp>&rsquo; or a standard ISO
timestamp like &lsquo;<samp class="samp">20630405T170000</samp>&rsquo; may be used.  The time is
considered to be UTC.  If it is not given a default value in the not
too far future is used.
</p>
</dd>
<dt>Signing-Key: <var class="var">keygrip</var></dt>
<dd><p>This gives the keygrip of the key used to sign the certificate.  If it
is not given a self-signed certificate will be created.  For
compatibility with future versions, it is suggested to prefix the
keygrip with a &lsquo;<samp class="samp">&amp;</samp>&rsquo;.
</p>
</dd>
<dt>Hash-Algo: <var class="var">hash-algo</var></dt>
<dd><p>Use <var class="var">hash-algo</var> for this CSR or certificate.  The supported hash
algorithms are: &lsquo;<samp class="samp">sha1</samp>&rsquo;, &lsquo;<samp class="samp">sha256</samp>&rsquo;, &lsquo;<samp class="samp">sha384</samp>&rsquo; and
&lsquo;<samp class="samp">sha512</samp>&rsquo;; they may also be specified with uppercase letters.  The
default is &lsquo;<samp class="samp">sha256</samp>&rsquo;.
</p>
</dd>
<dt>Authority-Key-Id: <var class="var">hexstring</var></dt>
<dd><p>Insert the decoded value of <var class="var">hexstring</var> as authorityKeyIdentifier.
If this is not given and an ECC algorithm is used the public part of
the certified public key is used as authorityKeyIdentifier.  To
inhibit any authorityKeyIdentifier use the special value <code class="code">none</code>
for <var class="var">hexstring</var>.
</p>
</dd>
<dt>Subject-Key-Id: <var class="var">hexstring</var></dt>
<dd><p>Insert the decoded value of <var class="var">hexstring</var> as subjectKeyIdentifier.
If this is not given and an ECC algorithm is used the public part of
the signing key is used as authorityKeyIdentifier.  To inhibit any
subjectKeyIdentifier use the special value <code class="code">none</code> for
<var class="var">hexstring</var>.
</p>
</dd>
</dl>

<hr>
</div>
</div>
<div class="section-level-extent" id="GPGSM-Protocol">
<div class="nav-panel">
<p>
Previous: <a href="#Unattended-Usage" accesskey="p" rel="prev">Unattended Usage</a>, Up: <a href="#Invoking-GPGSM" accesskey="u" rel="up">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="The-Protocol-the-Server-Mode-Uses"><span>5.6 The Protocol the Server Mode Uses<a class="copiable-link" href="#The-Protocol-the-Server-Mode-Uses"> &para;</a></span></h3>

<p>Description of the protocol used to access <code class="command">GPGSM</code>.
<code class="command">GPGSM</code> does implement the Assuan protocol and in addition
provides a regular command line interface which exhibits a full client
to this protocol (but uses internal linking).  To start
<code class="command">gpgsm</code> as a server the command line the option
<code class="code">--server</code> must be used.  Additional options are provided to
select the communication method (i.e. the name of the socket).
</p>
<p>We assume that the connection has already been established; see the
Assuan manual for details.
</p>


<ul class="mini-toc">
<li><a href="#GPGSM-ENCRYPT" accesskey="1">Encrypting a Message</a></li>
<li><a href="#GPGSM-DECRYPT" accesskey="2">Decrypting a message</a></li>
<li><a href="#GPGSM-SIGN" accesskey="3">Signing a Message</a></li>
<li><a href="#GPGSM-VERIFY" accesskey="4">Verifying a Message</a></li>
<li><a href="#GPGSM-GENKEY" accesskey="5">Generating a Key</a></li>
<li><a href="#GPGSM-LISTKEYS" accesskey="6">List available keys</a></li>
<li><a href="#GPGSM-EXPORT" accesskey="7">Export certificates</a></li>
<li><a href="#GPGSM-IMPORT" accesskey="8">Import certificates</a></li>
<li><a href="#GPGSM-DELETE" accesskey="9">Delete certificates</a></li>
<li><a href="#GPGSM-GETAUDITLOG">Retrieve an audit log</a></li>
<li><a href="#GPGSM-GETINFO">Return information about the process</a></li>
<li><a href="#GPGSM-OPTION">Session options</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="GPGSM-ENCRYPT">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-DECRYPT" accesskey="n" rel="next">Decrypting a message</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Encrypting-a-Message"><span>5.6.1 Encrypting a Message<a class="copiable-link" href="#Encrypting-a-Message"> &para;</a></span></h4>

<p>Before encryption can be done the recipient must be set using the
command:
</p>
<div class="example">
<pre class="example-preformatted">  RECIPIENT <var class="var">userID</var>
</pre></div>

<p>Set the recipient for the encryption.  <var class="var">userID</var> should be the
internal representation of the key; the server may accept any other way
of specification.  If this is a valid and trusted recipient the server
does respond with OK, otherwise the return is an ERR with the reason why
the recipient cannot be used, the encryption will then not be done for
this recipient.  If the policy is not to encrypt at all if not all
recipients are valid, the client has to take care of this.  All
<code class="code">RECIPIENT</code> commands are cumulative until a <code class="code">RESET</code> or an
successful <code class="code">ENCRYPT</code> command.
</p>
<div class="example">
<pre class="example-preformatted">  INPUT FD[=<var class="var">n</var>] [--armor|--base64|--binary]
</pre></div>

<p>Set the file descriptor for the message to be encrypted to <var class="var">n</var>.
Obviously the pipe must be open at that point, the server establishes
its own end.  If the server returns an error the client should consider
this session failed.  If <var class="var">n</var> is not given, this commands uses the
last file descriptor passed to the application.
See <a data-manual="assuan" href="https://www.gnupg.org/documentation/manuals/assuan/fun_002dassuan_005fsendfd.html#fun_002dassuan_005fsendfd">the assuan_sendfd function</a> in <cite class="cite">the Libassuan
manual</cite>, on how to do descriptor passing.
</p>
<p>The <code class="code">--armor</code> option may be used to advise the server that the
input data is in <abbr class="acronym">PEM</abbr> format, <code class="code">--base64</code> advises that a
raw base-64 encoding is used, <code class="code">--binary</code> advises of raw binary
input (<abbr class="acronym">BER</abbr>).  If none of these options is used, the server
tries to figure out the used encoding, but this may not always be
correct.
</p>
<div class="example">
<pre class="example-preformatted">  OUTPUT FD[=<var class="var">n</var>] [--armor|--base64]
</pre></div>

<p>Set the file descriptor to be used for the output (i.e. the encrypted
message). Obviously the pipe must be open at that point, the server
establishes its own end.  If the server returns an error the client
should consider this session failed.
</p>
<p>The option <samp class="option">--armor</samp> encodes the output in <abbr class="acronym">PEM</abbr> format, the
<samp class="option">--base64</samp> option applies just a base-64 encoding.  No option
creates binary output (<abbr class="acronym">BER</abbr>).
</p>
<p>The actual encryption is done using the command
</p>
<div class="example">
<pre class="example-preformatted">  ENCRYPT
</pre></div>

<p>It takes the plaintext from the <code class="code">INPUT</code> command, writes to the
ciphertext to the file descriptor set with the <code class="code">OUTPUT</code> command,
take the recipients from all the recipients set so far.  If this command
fails the clients should try to delete all output currently done or
otherwise mark it as invalid.  <code class="command">GPGSM</code> does ensure that there
will not be any
security problem with leftover data on the output in this case.
</p>
<p>This command should in general not fail, as all necessary checks have
been done while setting the recipients.  The input and output pipes are
closed.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-DECRYPT">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-SIGN" accesskey="n" rel="next">Signing a Message</a>, Previous: <a href="#GPGSM-ENCRYPT" accesskey="p" rel="prev">Encrypting a Message</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Decrypting-a-message"><span>5.6.2 Decrypting a message<a class="copiable-link" href="#Decrypting-a-message"> &para;</a></span></h4>

<p>Input and output FDs are set the same way as in encryption, but
<code class="code">INPUT</code> refers to the ciphertext and <code class="code">OUTPUT</code> to the plaintext. There
is no need to set recipients.  <code class="command">GPGSM</code> automatically strips any
<abbr class="acronym">S/MIME</abbr> headers from the input, so it is valid to pass an
entire MIME part to the INPUT pipe.
</p>
<p>The decryption is done by using the command
</p>
<div class="example">
<pre class="example-preformatted">  DECRYPT
</pre></div>

<p>It performs the decrypt operation after doing some check on the internal
state (e.g. that all needed data has been set).  Because it utilizes
the GPG-Agent for the session key decryption, there is no need to ask
the client for a protecting passphrase - GpgAgent takes care of this by
requesting this from the user.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-SIGN">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-VERIFY" accesskey="n" rel="next">Verifying a Message</a>, Previous: <a href="#GPGSM-DECRYPT" accesskey="p" rel="prev">Decrypting a message</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Signing-a-Message"><span>5.6.3 Signing a Message<a class="copiable-link" href="#Signing-a-Message"> &para;</a></span></h4>

<p>Signing is usually done with these commands:
</p>
<div class="example">
<pre class="example-preformatted">  INPUT FD[=<var class="var">n</var>] [--armor|--base64|--binary]
</pre></div>

<p>This tells <code class="command">GPGSM</code> to read the data to sign from file descriptor <var class="var">n</var>.
</p>
<div class="example">
<pre class="example-preformatted">  OUTPUT FD[=<var class="var">m</var>] [--armor|--base64]
</pre></div>

<p>Write the output to file descriptor <var class="var">m</var>.  If a detached signature is
requested, only the signature is written.
</p>
<div class="example">
<pre class="example-preformatted">  SIGN [--detached]
</pre></div>

<p>Sign the data set with the <code class="code">INPUT</code> command and write it to the sink set by
<code class="code">OUTPUT</code>.  With <code class="code">--detached</code>, a detached signature is created
(surprise).
</p>
<p>The key used for signing is the default one or the one specified in
the configuration file.  To get finer control over the keys, it is
possible to use the command
</p>
<div class="example">
<pre class="example-preformatted">  SIGNER <var class="var">userID</var>
</pre></div>

<p>to set the signer&rsquo;s key.  <var class="var">userID</var> should be the
internal representation of the key; the server may accept any other way
of specification.  If this is a valid and trusted recipient the server
does respond with OK, otherwise the return is an ERR with the reason why
the key cannot be used, the signature will then not be created using
this key.  If the policy is not to sign at all if not all
keys are valid, the client has to take care of this.  All
<code class="code">SIGNER</code> commands are cumulative until a <code class="code">RESET</code> is done.
Note that a <code class="code">SIGN</code> does not reset this list of signers which is in
contrast to the <code class="code">RECIPIENT</code> command.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-VERIFY">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-GENKEY" accesskey="n" rel="next">Generating a Key</a>, Previous: <a href="#GPGSM-SIGN" accesskey="p" rel="prev">Signing a Message</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Verifying-a-Message"><span>5.6.4 Verifying a Message<a class="copiable-link" href="#Verifying-a-Message"> &para;</a></span></h4>

<p>To verify a message the command:
</p>
<div class="example">
<pre class="example-preformatted">  VERIFY
</pre></div>

<p>is used. It does a verify operation on the message send to the input FD.
The result is written out using status lines.  If an output FD was
given, the signed text will be written to that.  If the signature is a
detached one, the server will inquire about the signed material and the
client must provide it.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-GENKEY">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-LISTKEYS" accesskey="n" rel="next">List available keys</a>, Previous: <a href="#GPGSM-VERIFY" accesskey="p" rel="prev">Verifying a Message</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Generating-a-Key-1"><span>5.6.5 Generating a Key<a class="copiable-link" href="#Generating-a-Key-1"> &para;</a></span></h4>

<p>This is used to generate a new keypair, store the secret part in the
<abbr class="acronym">PSE</abbr> and the public key in the key database.  We will probably
add optional commands to allow the client to select whether a hardware
token is used to store the key.  Configuration options to
<code class="command">GPGSM</code> can be used to restrict the use of this command.
</p>
<div class="example">
<pre class="example-preformatted">  GENKEY
</pre></div>

<p><code class="command">GPGSM</code> checks whether this command is allowed and then does an
INQUIRY to get the key parameters, the client should then send the
key parameters in the native format:
</p>
<div class="example">
<pre class="example-preformatted">    S: INQUIRE KEY_PARAM native
    C: D foo:fgfgfg
    C: D bar
    C: END
</pre></div>

<p>Please note that the server may send Status info lines while reading the
data lines from the client.  After this the key generation takes place
and the server eventually does send an ERR or OK response.  Status lines
may be issued as a progress indicator.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-LISTKEYS">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-EXPORT" accesskey="n" rel="next">Export certificates</a>, Previous: <a href="#GPGSM-GENKEY" accesskey="p" rel="prev">Generating a Key</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="List-available-keys"><span>5.6.6 List available keys<a class="copiable-link" href="#List-available-keys"> &para;</a></span></h4>
<a class="anchor" id="gpgsm_002dcmd-listkeys"></a>
<p>To list the keys in the internal database or using an external key
provider, the command:
</p>
<div class="example">
<pre class="example-preformatted">  LISTKEYS  <var class="var">pattern</var>
</pre></div>

<p>is used.  To allow multiple patterns (which are ORed during the search)
quoting is required: Spaces are to be translated into &quot;+&quot; or into &quot;%20&quot;;
in turn this requires that the usual escape quoting rules are done.
</p>
<div class="example">
<pre class="example-preformatted">  LISTSECRETKEYS <var class="var">pattern</var>
</pre></div>

<p>Lists only the keys where a secret key is available.
</p>
<p>The list commands are affected by the option
</p>
<div class="example">
<pre class="example-preformatted">  OPTION list-mode=<var class="var">mode</var>
</pre></div>

<p>where mode may be:
</p><dl class="table">
<dt><code class="code">0</code></dt>
<dd><p>Use default (which is usually the same as 1).
</p></dd>
<dt><code class="code">1</code></dt>
<dd><p>List only the internal keys.
</p></dd>
<dt><code class="code">2</code></dt>
<dd><p>List only the external keys.
</p></dd>
<dt><code class="code">3</code></dt>
<dd><p>List internal and external keys.
</p></dd>
</dl>

<p>Note that options are valid for the entire session.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-EXPORT">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-IMPORT" accesskey="n" rel="next">Import certificates</a>, Previous: <a href="#GPGSM-LISTKEYS" accesskey="p" rel="prev">List available keys</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Export-certificates"><span>5.6.7 Export certificates<a class="copiable-link" href="#Export-certificates"> &para;</a></span></h4>

<p>To export certificate from the internal key database the command:
</p>
<div class="example">
<pre class="example-preformatted">  EXPORT [--data [--armor] [--base64]] [--] <var class="var">pattern</var>
</pre></div>

<p>is used.  To allow multiple patterns (which are ORed) quoting is
required: Spaces are to be translated into &quot;+&quot; or into &quot;%20&quot;; in turn
this requires that the usual escape quoting rules are done.
</p>
<p>If the <samp class="option">--data</samp> option has not been given, the format of the
output depends on what was set with the <code class="code">OUTPUT</code> command.  When using
<abbr class="acronym">PEM</abbr> encoding a few informational lines are prepended.
</p>
<p>If the <samp class="option">--data</samp> has been given, a target set via <code class="code">OUTPUT</code> is
ignored and the data is returned inline using standard
<code class="code">D</code>-lines. This avoids the need for an extra file descriptor.  In
this case the options <samp class="option">--armor</samp> and <samp class="option">--base64</samp> may be used
in the same way as with the <code class="code">OUTPUT</code> command.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-IMPORT">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-DELETE" accesskey="n" rel="next">Delete certificates</a>, Previous: <a href="#GPGSM-EXPORT" accesskey="p" rel="prev">Export certificates</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Import-certificates"><span>5.6.8 Import certificates<a class="copiable-link" href="#Import-certificates"> &para;</a></span></h4>

<p>To import certificates into the internal key database, the command
</p>
<div class="example">
<pre class="example-preformatted">  IMPORT [--re-import]
</pre></div>

<p>is used.  The data is expected on the file descriptor set with the
<code class="code">INPUT</code> command.  Certain checks are performed on the
certificate.  Note that the code will also handle PKCS#12 files and
import private keys; a helper program is used for that.
</p>
<p>With the option <samp class="option">--re-import</samp> the input data is expected to a be
a linefeed separated list of fingerprints.  The command will re-import
the corresponding certificates; that is they are made permanent by
removing their ephemeral flag.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-DELETE">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-GETAUDITLOG" accesskey="n" rel="next">Retrieve an audit log</a>, Previous: <a href="#GPGSM-IMPORT" accesskey="p" rel="prev">Import certificates</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Delete-certificates"><span>5.6.9 Delete certificates<a class="copiable-link" href="#Delete-certificates"> &para;</a></span></h4>

<p>To delete a certificate the command
</p>
<div class="example">
<pre class="example-preformatted">  DELKEYS <var class="var">pattern</var>
</pre></div>

<p>is used.  To allow multiple patterns (which are ORed) quoting is
required: Spaces are to be translated into &quot;+&quot; or into &quot;%20&quot;; in turn
this requires that the usual escape quoting rules are done.
</p>
<p>The certificates must be specified unambiguously otherwise an error is
returned.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-GETAUDITLOG">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-GETINFO" accesskey="n" rel="next">Return information about the process</a>, Previous: <a href="#GPGSM-DELETE" accesskey="p" rel="prev">Delete certificates</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Retrieve-an-audit-log"><span>5.6.10 Retrieve an audit log<a class="copiable-link" href="#Retrieve-an-audit-log"> &para;</a></span></h4>
<a class="anchor" id="gpgsm_002dcmd-getauditlog"></a>
<p>This command is used to retrieve an audit log.
</p>
<div class="example">
<pre class="example-preformatted">GETAUDITLOG [--data] [--html]
</pre></div>

<p>If <samp class="option">--data</samp> is used, the audit log is send using D-lines
instead of being sent to the file descriptor given by an <code class="code">OUTPUT</code>
command.  If <samp class="option">--html</samp> is used, the output is formatted as an
XHTML block. This is designed to be incorporated into a HTML
document.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-GETINFO">
<div class="nav-panel">
<p>
Next: <a href="#GPGSM-OPTION" accesskey="n" rel="next">Session options</a>, Previous: <a href="#GPGSM-GETAUDITLOG" accesskey="p" rel="prev">Retrieve an audit log</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-information-about-the-process-1"><span>5.6.11 Return information about the process<a class="copiable-link" href="#Return-information-about-the-process-1"> &para;</a></span></h4>

<p>This is a multipurpose function to return a variety of information.
</p>
<div class="example">
<pre class="example-preformatted">GETINFO <var class="var">what</var>
</pre></div>

<p>The value of <var class="var">what</var> specifies the kind of information returned:
</p><dl class="table">
<dt><code class="code">version</code></dt>
<dd><p>Return the version of the program.
</p></dd>
<dt><code class="code">pid</code></dt>
<dd><p>Return the process id of the process.
</p></dd>
<dt><code class="code">agent-check</code></dt>
<dd><p>Return OK if the agent is running.
</p></dd>
<dt><code class="code">cmd_has_option <var class="var">cmd</var> <var class="var">opt</var></code></dt>
<dd><p>Return OK if the command <var class="var">cmd</var> implements the option <var class="var">opt</var>.
The leading two dashes usually used with <var class="var">opt</var> shall not be given.
</p></dd>
<dt><code class="code">offline</code></dt>
<dd><p>Return OK if the connection is in offline mode.  This may be either
due to a <code class="code">OPTION offline=1</code> or due to <code class="command">gpgsm</code> being
started with option <samp class="option">--disable-dirmngr</samp>.
</p></dd>
<dt><code class="code">always-trust</code></dt>
<dd><p>Returns OK of the connection is in always-trust mode.  That is either
<samp class="option">--always-trust</samp> or <samp class="option">GPGSM OPTION always-trust</samp> are
active.
</p></dd>
</dl>

<hr>
</div>
<div class="subsection-level-extent" id="GPGSM-OPTION">
<div class="nav-panel">
<p>
Previous: <a href="#GPGSM-GETINFO" accesskey="p" rel="prev">Return information about the process</a>, Up: <a href="#GPGSM-Protocol" accesskey="u" rel="up">The Protocol the Server Mode Uses</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Session-options"><span>5.6.12 Session options<a class="copiable-link" href="#Session-options"> &para;</a></span></h4>

<p>The standard Assuan option handler supports these options.
</p>
<div class="example">
<pre class="example-preformatted">OPTION <var class="var">name</var>[=<var class="var">value</var>]
</pre></div>

<p>These <var class="var">name</var>s are recognized:
</p>
<dl class="table">
<dt><code class="code">putenv</code></dt>
<dd><p>Change the session&rsquo;s environment to be passed via gpg-agent to
Pinentry.  <var class="var">value</var> is a string of the form
<code class="code">&lt;KEY&gt;[=[&lt;STRING&gt;]]</code>.  If only <code class="code">&lt;KEY&gt;</code> is given the
environment variable <code class="code">&lt;KEY&gt;</code> is removed from the session
environment, if <code class="code">&lt;KEY&gt;=</code> is given that environment variable is
set to the empty string, and if <code class="code">&lt;STRING&gt;</code> is given it is set to
that string.
</p>
</dd>
<dt><a id="index-DISPLAY"></a><span><code class="code">display</code><a class="copiable-link" href="#index-DISPLAY"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">DISPLAY</code> is set to <var class="var">value</var>.
</p></dd>
<dt><a id="index-GPG_005fTTY-1"></a><span><code class="code">ttyname</code><a class="copiable-link" href="#index-GPG_005fTTY-1"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">GPG_TTY</code> is set to <var class="var">value</var>.
</p></dd>
<dt><a id="index-TERM"></a><span><code class="code">ttytype</code><a class="copiable-link" href="#index-TERM"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">TERM</code> is set to <var class="var">value</var>.
</p></dd>
<dt><a id="index-LC_005fCTYPE"></a><span><code class="code">lc-ctype</code><a class="copiable-link" href="#index-LC_005fCTYPE"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">LC_CTYPE</code> is set to <var class="var">value</var>.
</p></dd>
<dt><a id="index-LC_005fMESSAGES"></a><span><code class="code">lc-messages</code><a class="copiable-link" href="#index-LC_005fMESSAGES"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">LC_MESSAGES</code> is set to <var class="var">value</var>.
</p></dd>
<dt><a id="index-XAUTHORITY"></a><span><code class="code">xauthority</code><a class="copiable-link" href="#index-XAUTHORITY"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">XAUTHORITY</code> is set to <var class="var">value</var>.
</p></dd>
<dt><a id="index-PINENTRY_005fUSER_005fDATA-1"></a><span><code class="code">pinentry-user-data</code><a class="copiable-link" href="#index-PINENTRY_005fUSER_005fDATA-1"> &para;</a></span></dt>
<dd><p>Set the session environment variable <code class="code">PINENTRY_USER_DATA</code> is set
to <var class="var">value</var>.
</p>
</dd>
<dt><code class="code">include-certs</code></dt>
<dd><p>This option overrides the command line option
<samp class="option">--include-certs</samp>.  A <var class="var">value</var> of -2 includes all
certificates except for the root certificate, -1 includes all
certificates, 0 does not include any certificates, 1 includes only the
signers certificate and all other positive values include up to
<var class="var">value</var> certificates starting with the signer cert.
</p>
</dd>
<dt><code class="code">list-mode</code></dt>
<dd><p>See <a class="xref" href="#gpgsm_002dcmd-listkeys">gpgsm-cmd listkeys</a>.
</p>
</dd>
<dt><code class="code">list-to-output</code></dt>
<dd><p>If <var class="var">value</var> is true the output of the list commands
(see <a class="pxref" href="#gpgsm_002dcmd-listkeys">gpgsm-cmd listkeys</a>) is written to the file descriptor set
with the last <code class="code">OUTPUT</code> command.  If <var class="var">value</var> is false the output is
written via data lines; this is the default.
</p>
</dd>
<dt><code class="code">with-validation</code></dt>
<dd><p>If <var class="var">value</var> is true for each listed certificate the validation
status is printed.  This may result in the download of a CRL or the
user being asked about the trustworthiness of a root certificate.  The
default is given by a command line option (see <a class="pxref" href="#gpgsm_002doption-_002d_002dwith_002dvalidation">gpgsm-option --with-validation</a>).
</p>

</dd>
<dt><code class="code">with-secret</code></dt>
<dd><p>If <var class="var">value</var> is true certificates with a corresponding private key
are marked by the list commands.
</p>
</dd>
<dt><code class="code">validation-model</code></dt>
<dd><p>This option overrides the command line option
<samp class="option">validation-model</samp> for the session.
(See <a class="xref" href="#gpgsm_002doption-_002d_002dvalidation_002dmodel">gpgsm-option --validation-model</a>.)
</p>
</dd>
<dt><code class="code">with-key-data</code></dt>
<dd><p>This option globally enables the command line option
<samp class="option">--with-key-data</samp>.  (See <a class="xref" href="#gpgsm_002doption-_002d_002dwith_002dkey_002ddata">gpgsm-option --with-key-data</a>.)
</p>
</dd>
<dt><code class="code">enable-audit-log</code></dt>
<dd><p>If <var class="var">value</var> is true data to write an audit log is gathered.
(See <a class="xref" href="#gpgsm_002dcmd-getauditlog">gpgsm-cmd getauditlog</a>.)
</p>
</dd>
<dt><code class="code">allow-pinentry-notify</code></dt>
<dd><p>If this option is used notifications about the launch of a Pinentry
are passed back to the client.
</p>
</dd>
<dt><code class="code">with-ephemeral-keys</code></dt>
<dd><p>If <var class="var">value</var> is true ephemeral certificates are included in the
output of the list commands.
</p>
</dd>
<dt><code class="code">no-encrypt-to</code></dt>
<dd><p>If this option is used all keys set by the command line option
<samp class="option">--encrypt-to</samp> are ignored.
</p>
</dd>
<dt><code class="code">offline</code></dt>
<dd><p>If <var class="var">value</var> is true or <var class="var">value</var> is not given all network access
is disabled for this session.  This is the same as the command line
option <samp class="option">--disable-dirmngr</samp>.
</p>
</dd>
<dt><code class="code">always-trust</code></dt>
<dd><p>If <var class="var">value</var> is true or <var class="var">value</var> is not given encryption to the
specified certificates is forced without any validation of the
certificate chain.  The only requirement is that the certificates are
capable of encryption.  If set to false the standard behaviour is
re-established.  This option is cleared by a RESET and after each
encrypt operation.  Note that this option is ignored if
<samp class="option">--always-trust</samp> or <samp class="option">--require-compliance</samp> are used.
</p>
</dd>
<dt><code class="code">input-size-hint</code></dt>
<dd><p>This is the same as the <samp class="option">--input-size-hint</samp> command line option.
</p>
</dd>
</dl>







<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Invoking-SCDAEMON">
<div class="nav-panel">
<p>
Next: <a href="#Specify-a-User-ID" accesskey="n" rel="next">How to Specify a User Id</a>, Previous: <a href="#Invoking-GPGSM" accesskey="p" rel="prev">Invoking GPGSM</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Invoking-the-SCDAEMON"><span>6 Invoking the SCDAEMON<a class="copiable-link" href="#Invoking-the-SCDAEMON"> &para;</a></span></h2>
<a class="index-entry-id" id="index-SCDAEMON-command-options"></a>
<a class="index-entry-id" id="index-command-options-4"></a>
<a class="index-entry-id" id="index-options_002c-SCDAEMON-command"></a>







<p>The <code class="command">scdaemon</code> is a daemon to manage smartcards.  It is usually
invoked by <code class="command">gpg-agent</code> and in general not used directly.
</p>

<p>See <a class="xref" href="#Option-Index">Option Index</a>, for an index to <code class="command">scdaemon</code>&rsquo;s commands and
options.
</p>




<ul class="mini-toc">
<li><a href="#Scdaemon-Commands" accesskey="1">Commands</a></li>
<li><a href="#Scdaemon-Options" accesskey="2">Option Summary</a></li>
<li><a href="#Card-applications" accesskey="3">Description of card applications</a></li>
<li><a href="#Scdaemon-Configuration" accesskey="4">Configuration files</a></li>
<li><a href="#Scdaemon-Examples" accesskey="5">Examples</a></li>
<li><a href="#Scdaemon-Protocol" accesskey="6">Scdaemon&rsquo;s Assuan Protocol</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Scdaemon-Commands">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-Options" accesskey="n" rel="next">Option Summary</a>, Up: <a href="#Invoking-SCDAEMON" accesskey="u" rel="up">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Commands-4"><span>6.1 Commands<a class="copiable-link" href="#Commands-4"> &para;</a></span></h3>

<p>Commands are not distinguished from options except for the fact that
only one command is allowed.
</p>
<dl class="table">
<dt><a id="index-version-4"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-4"> &para;</a></span></dt>
<dd><p>Print the program version and licensing information.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-help-4"></a><span><code class="code">--help, -h</code><a class="copiable-link" href="#index-help-4"> &para;</a></span></dt>
<dd><p>Print a usage message summarizing the most useful command-line options.
Note that you cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-dump_002doptions-4"></a><span><code class="code">--dump-options</code><a class="copiable-link" href="#index-dump_002doptions-4"> &para;</a></span></dt>
<dd><p>Print a list of all available options and commands.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-server-3"></a><span><code class="code">--server</code><a class="copiable-link" href="#index-server-3"> &para;</a></span></dt>
<dd><p>Run in server mode and wait for commands on the <code class="code">stdin</code>.  The
default mode is to create a socket and listen for commands there.
</p>
</dd>
<dt><a id="index-multi_002dserver"></a><span><code class="code">--multi-server</code><a class="copiable-link" href="#index-multi_002dserver"> &para;</a></span></dt>
<dd><p>Run in server mode and wait for commands on the <code class="code">stdin</code> as well as
on an additional Unix Domain socket.  The server command <code class="code">GETINFO</code>
may be used to get the name of that extra socket.
</p>
</dd>
<dt><a id="index-daemon-2"></a><span><code class="code">--daemon</code><a class="copiable-link" href="#index-daemon-2"> &para;</a></span></dt>
<dd><p>Run the program in the background.  This option is required to prevent
it from being accidentally running in the background.
</p>
</dd>
</dl>




<hr>
</div>
<div class="section-level-extent" id="Scdaemon-Options">
<div class="nav-panel">
<p>
Next: <a href="#Card-applications" accesskey="n" rel="next">Description of card applications</a>, Previous: <a href="#Scdaemon-Commands" accesskey="p" rel="prev">Commands</a>, Up: <a href="#Invoking-SCDAEMON" accesskey="u" rel="up">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Option-Summary-4"><span>6.2 Option Summary<a class="copiable-link" href="#Option-Summary-4"> &para;</a></span></h3>

<dl class="table">
<dt><a id="index-options-5"></a><span><code class="code">--options <var class="var">file</var></code><a class="copiable-link" href="#index-options-5"> &para;</a></span></dt>
<dd><p>Reads configuration from <var class="var">file</var> instead of from the default
per-user configuration file.  The default configuration file is named
<samp class="file">scdaemon.conf</samp> and expected in the <samp class="file">.gnupg</samp> directory directly
below the home directory of the user.
</p>
</dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME-4"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-3"></a>
<a id="index-homedir-3"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir-3"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>

</dd>
<dt><code class="code">-v</code></dt>
<dt><a class="index-entry-id" id="index-verbose-4"></a>
<a id="index-v-2"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-v-2"> &para;</a></span></dt>
<dd><p>Outputs additional information while running.
You can increase the verbosity by giving several
verbose commands to <code class="command">gpgsm</code>, such as &lsquo;<samp class="samp">-vv</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-debug_002dlevel-4"></a><span><code class="code">--debug-level <var class="var">level</var></code><a class="copiable-link" href="#index-debug_002dlevel-4"> &para;</a></span></dt>
<dd><p>Select the debug level for investigating problems.  <var class="var">level</var> may be
a numeric value or a keyword:
</p>
<dl class="table">
<dt><code class="code">none</code></dt>
<dd><p>No debugging at all.  A value of less than 1 may be used instead of
the keyword.
</p></dd>
<dt><code class="code">basic</code></dt>
<dd><p>Some basic debug messages.  A value between 1 and 2 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">advanced</code></dt>
<dd><p>More verbose debug messages.  A value between 3 and 5 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">expert</code></dt>
<dd><p>Even more detailed messages.  A value between 6 and 8 may be used
instead of the keyword.
</p></dd>
<dt><code class="code">guru</code></dt>
<dd><p>All of the debug messages you can get. A value greater than 8 may be
used instead of the keyword.  The creation of hash tracing files is
only enabled if the keyword is used.
</p></dd>
</dl>

<p>How these messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this program. They are
however carefully selected to best aid in debugging.
</p>
<blockquote class="quotation">
<p><b class="b">Note:</b> All debugging options are subject to change and thus should not be used
by any application program.  As the name says, they are only used as
helpers to debug problems.
</p></blockquote>


</dd>
<dt><a id="index-debug-4"></a><span><code class="code">--debug <var class="var">flags</var></code><a class="copiable-link" href="#index-debug-4"> &para;</a></span></dt>
<dd><p>Set debug flags.  All flags are or-ed and <var class="var">flags</var> may be given
in C syntax (e.g. 0x0042) or as a comma separated list of flag names.
To get a list of all supported flags the single word &quot;help&quot; can be
used. This option is only useful for debugging and the behavior may
change at any time without notice.
</p>
</dd>
<dt><a id="index-debug_002dall-4"></a><span><code class="code">--debug-all</code><a class="copiable-link" href="#index-debug_002dall-4"> &para;</a></span></dt>
<dd><p>Same as <code class="code">--debug=0xffffffff</code>
</p>
</dd>
<dt><a id="index-debug_002dwait-2"></a><span><code class="code">--debug-wait <var class="var">n</var></code><a class="copiable-link" href="#index-debug_002dwait-2"> &para;</a></span></dt>
<dd><p>When running in server mode, wait <var class="var">n</var> seconds before entering the
actual processing loop and print the pid.  This gives time to attach a
debugger.
</p>
</dd>
<dt><a id="index-debug_002dwait-3"></a><span><code class="code">--debug-ccid-driver</code><a class="copiable-link" href="#index-debug_002dwait-3"> &para;</a></span></dt>
<dd><p>Enable debug output from the included CCID driver for smartcards.
Using this option twice will also enable some tracing of the T=1
protocol.  Note that this option may reveal sensitive data.
</p>
</dd>
<dt><a id="index-debug_002ddisable_002dticker"></a><span><code class="code">--debug-disable-ticker</code><a class="copiable-link" href="#index-debug_002ddisable_002dticker"> &para;</a></span></dt>
<dd><p>This option disables all ticker functions like checking for card
insertions.
</p>
</dd>
<dt><a id="index-debug_002dallow_002dcore_002ddump-1"></a><span><code class="code">--debug-allow-core-dump</code><a class="copiable-link" href="#index-debug_002dallow_002dcore_002ddump-1"> &para;</a></span></dt>
<dd><p>For security reasons we won&rsquo;t create a core dump when the process
aborts.  For debugging purposes it is sometimes better to allow core
dump.  This option enables it and also changes the working directory to
<samp class="file">/tmp</samp> when running in <samp class="option">--server</samp> mode.
</p>
</dd>
<dt><a id="index-debug_002dlog_002dtid"></a><span><code class="code">--debug-log-tid</code><a class="copiable-link" href="#index-debug_002dlog_002dtid"> &para;</a></span></dt>
<dd><p>This option appends a thread ID to the PID in the log output.
</p>
</dd>
<dt><a class="index-entry-id" id="index-ASSUAN_005fDEBUG"></a>
<a id="index-debug_002dassuan_002dlog_002dcats"></a><span><code class="code">--debug-assuan-log-cats <var class="var">cats</var></code><a class="copiable-link" href="#index-debug_002dassuan_002dlog_002dcats"> &para;</a></span></dt>
<dd><p>Changes the active Libassuan logging categories to <var class="var">cats</var>.  The
value for <var class="var">cats</var> is an unsigned integer given in usual C-Syntax.
A value of 0 switches to a default category.  If this option is not
used the categories are taken from the environment variable
<code class="code">ASSUAN_DEBUG</code>.  Note that this option has only an effect if the
Assuan debug flag has also been with the option <samp class="option">--debug</samp>.  For
a list of categories see the Libassuan manual.
</p>
</dd>
<dt><a id="index-no_002ddetach-1"></a><span><code class="code">--no-detach</code><a class="copiable-link" href="#index-no_002ddetach-1"> &para;</a></span></dt>
<dd><p>Don&rsquo;t detach the process from the console.  This is mainly useful for
debugging.
</p>
</dd>
<dt><a id="index-listen_002dbacklog-2"></a><span><code class="code">--listen-backlog <var class="var">n</var></code><a class="copiable-link" href="#index-listen_002dbacklog-2"> &para;</a></span></dt>
<dd><p>Set the size of the queue for pending connections.  The default is 64.
This option has an effect only if <samp class="option">--multi-server</samp> is also
used.
</p>
</dd>
<dt><a id="index-log_002dfile-4"></a><span><code class="code">--log-file <var class="var">file</var></code><a class="copiable-link" href="#index-log_002dfile-4"> &para;</a></span></dt>
<dd><p>Append all logging output to <var class="var">file</var>.  This is very helpful in
seeing what the agent actually does.  Use <samp class="file">socket://</samp> to log to
socket.
</p>
</dd>
<dt><a id="index-pcsc_002dshared"></a><span><code class="code">--pcsc-shared</code><a class="copiable-link" href="#index-pcsc_002dshared"> &para;</a></span></dt>
<dd><p>Use shared mode to access the card via PC/SC.  This is a somewhat
dangerous option because Scdaemon assumes exclusive access to the
card and for example caches certain information from the card.  Use
this option only if you know what you are doing.
</p>
</dd>
<dt><a id="index-pcsc_002ddriver"></a><span><code class="code">--pcsc-driver <var class="var">library</var></code><a class="copiable-link" href="#index-pcsc_002ddriver"> &para;</a></span></dt>
<dd><p>Use <var class="var">library</var> to access the smartcard reader.  The current default
on Unix is <samp class="file">libpcsclite.so</samp> and on Windows <samp class="file">winscard.dll</samp>.
Instead of using this option you might also want to install a symbolic
link to the default file name (e.g. from <samp class="file">libpcsclite.so.1</samp>).
A Unicode file name may not be used on Windows.
</p>
</dd>
<dt><a id="index-disable_002dccid"></a><span><code class="code">--disable-ccid</code><a class="copiable-link" href="#index-disable_002dccid"> &para;</a></span></dt>
<dd><p>The integrated CCID driver for CCID compliant devices can be available
when libusb was detected at build time, and it is used to access the
smartcard reader.  If access via PC/SC driver is needed, please
configure this option to disable CCID driver support (if any).  In
GnuPG 2.2, there was a fallback mechanism from CCID driver to PC/SC
driver.  The fallback mechanism worked, because scdaemon in GnuPG 2.2
only supported a single token/reader.  To support of multiple
tokens/readers at the same time, fallback mechanism was removed.
</p>
</dd>
<dt><a id="index-reader_002dport"></a><span><code class="code">--reader-port <var class="var">number_or_string</var></code><a class="copiable-link" href="#index-reader_002dport"> &para;</a></span></dt>
<dd><p>This option may be used to specify the port of the card terminal.  A
value of 0 refers to the first serial device; add 32768 to access USB
devices.  The default is 32768 (first USB device).  PC/SC or CCID
readers might need a string here; run the program in verbose mode to get
a list of available readers.  The default is then the first reader
found.
</p>
<p>To get a list of available CCID readers you may use this command:
</p><table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">  echo scd getinfo reader_list \
    | gpg-connect-agent --decode | awk '/^D/ {print $2}'
</pre></div>
</td></tr></table>

</dd>
<dt><a id="index-card_002dtimeout"></a><span><code class="code">--card-timeout <var class="var">n</var></code><a class="copiable-link" href="#index-card_002dtimeout"> &para;</a></span></dt>
<dd><p>This option is deprecated.  In GnuPG 2.0, it used to be used for
DISCONNECT command to control timing issue.  Since DISCONNECT command
works synchronously, it has no effect.
</p>
</dd>
<dt><a id="index-enable_002dpinpad_002dvarlen"></a><span><code class="code">--enable-pinpad-varlen</code><a class="copiable-link" href="#index-enable_002dpinpad_002dvarlen"> &para;</a></span></dt>
<dd><p>Please specify this option when the card reader supports variable
length input for pinpad (default is no).  For known readers (listed in
ccid-driver.c and apdu.c), this option is not needed.  Note that if
your card reader doesn&rsquo;t supports variable length input but you want
to use it, you need to specify your pinpad request on your card.
</p>

</dd>
<dt><a id="index-disable_002dpinpad"></a><span><code class="code">--disable-pinpad</code><a class="copiable-link" href="#index-disable_002dpinpad"> &para;</a></span></dt>
<dd><p>Even if a card reader features a pinpad, do not try to use it.
</p>

</dd>
<dt><a class="index-entry-id" id="index-allow_002dadmin"></a>
<a id="index-deny_002dadmin"></a><span><code class="code">--deny-admin</code><a class="copiable-link" href="#index-deny_002dadmin"> &para;</a></span></dt>
<dd><p>This option disables the use of admin class commands for card
applications where this is supported.  Currently we support it for the
OpenPGP card. This option is useful to inhibit accidental access to
admin class command which could ultimately lock the card through wrong
PIN numbers.  Note that GnuPG versions older than 2.0.11 featured an
<samp class="option">--allow-admin</samp> option which was required to use such admin
commands.  This option has no more effect today because the default is
now to allow admin commands.
</p>
</dd>
<dt><a id="index-disable_002dapplication"></a><span><code class="code">--disable-application <var class="var">name</var></code><a class="copiable-link" href="#index-disable_002dapplication"> &para;</a></span></dt>
<dd><p>This option disables the use of the card application named
<var class="var">name</var>.  This is mainly useful for debugging or if a application
with lower priority should be used by default.
</p>
</dd>
<dt><a id="index-application_002dpriority"></a><span><code class="code">--application-priority <var class="var">namelist</var></code><a class="copiable-link" href="#index-application_002dpriority"> &para;</a></span></dt>
<dd><p>This option allows one to change the order in which applications of a card
a tried if no specific application was requested.  <var class="var">namelist</var> is a
space or comma delimited list of application names.  Unknown names are
simply skipped.  Applications not mentioned in the list are put in the
former order at the end of the new priority list.
</p>
<p>To get the list of current active applications, use
</p><table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">    gpg-connect-agent 'scd getinfo app_list' /bye
</pre></div>
</td></tr></table>

</dd>
</dl>

<p>All the long options may also be given in the configuration file after
stripping off the two leading dashes.
</p>


<hr>
</div>
<div class="section-level-extent" id="Card-applications">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-Configuration" accesskey="n" rel="next">Configuration files</a>, Previous: <a href="#Scdaemon-Options" accesskey="p" rel="prev">Option Summary</a>, Up: <a href="#Invoking-SCDAEMON" accesskey="u" rel="up">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Description-of-card-applications"><span>6.3 Description of card applications<a class="copiable-link" href="#Description-of-card-applications"> &para;</a></span></h3>

<p><code class="command">scdaemon</code> supports the card applications as described below.
</p>

<ul class="mini-toc">
<li><a href="#OpenPGP-Card" accesskey="1">The OpenPGP card application &ldquo;openpgp&rdquo;</a></li>
<li><a href="#NKS-Card" accesskey="2">The Telesec NetKey card &ldquo;nks&rdquo;</a></li>
<li><a href="#DINSIG-Card" accesskey="3">The DINSIG card application &ldquo;dinsig&rdquo;</a></li>
<li><a href="#PKCS_002315-Card" accesskey="4">The PKCS#15 card application &ldquo;p15&rdquo;</a></li>
<li><a href="#Geldkarte-Card" accesskey="5">The Geldkarte card application &ldquo;geldkarte&rdquo;</a></li>
<li><a href="#SmartCard_002dHSM" accesskey="6">The SmartCard-HSM card application &ldquo;sc-hsm&rdquo;</a></li>
<li><a href="#Undefined-Card" accesskey="7">The Undefined card application &ldquo;undefined&rdquo;</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="OpenPGP-Card">
<div class="nav-panel">
<p>
Next: <a href="#NKS-Card" accesskey="n" rel="next">The Telesec NetKey card &ldquo;nks&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-OpenPGP-card-application-_0060_0060openpgp_0027_0027"><span>6.3.1 The OpenPGP card application &ldquo;openpgp&rdquo;<a class="copiable-link" href="#The-OpenPGP-card-application-_0060_0060openpgp_0027_0027"> &para;</a></span></h4>

<p>This application is currently only used by <code class="command">gpg</code> but may in
future also be useful with <code class="command">gpgsm</code>.  Version 1 and version 2 of
the card is supported.
</p>
<p>The specifications for these cards are available at<br>
<a class="uref" href="http://g10code.com/docs/openpgp-card-1.0.pdf">http://g10code.com/docs/openpgp-card-1.0.pdf</a> and<br>
<a class="uref" href="http://g10code.com/docs/openpgp-card-2.0.pdf">http://g10code.com/docs/openpgp-card-2.0.pdf</a>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="NKS-Card">
<div class="nav-panel">
<p>
Next: <a href="#DINSIG-Card" accesskey="n" rel="next">The DINSIG card application &ldquo;dinsig&rdquo;</a>, Previous: <a href="#OpenPGP-Card" accesskey="p" rel="prev">The OpenPGP card application &ldquo;openpgp&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-Telesec-NetKey-card-_0060_0060nks_0027_0027"><span>6.3.2 The Telesec NetKey card &ldquo;nks&rdquo;<a class="copiable-link" href="#The-Telesec-NetKey-card-_0060_0060nks_0027_0027"> &para;</a></span></h4>

<p>This is the main application of the Telesec cards as available in
Germany.  It is a superset of the German DINSIG card.  The card is
used by <code class="command">gpgsm</code>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="DINSIG-Card">
<div class="nav-panel">
<p>
Next: <a href="#PKCS_002315-Card" accesskey="n" rel="next">The PKCS#15 card application &ldquo;p15&rdquo;</a>, Previous: <a href="#NKS-Card" accesskey="p" rel="prev">The Telesec NetKey card &ldquo;nks&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-DINSIG-card-application-_0060_0060dinsig_0027_0027"><span>6.3.3 The DINSIG card application &ldquo;dinsig&rdquo;<a class="copiable-link" href="#The-DINSIG-card-application-_0060_0060dinsig_0027_0027"> &para;</a></span></h4>

<p>This is an application as described in the German draft standard
<em class="emph">DIN V 66291-1</em>.  It is intended to be used by cards supporting
the German signature law and its bylaws (SigG and SigV).
</p>
<hr>
</div>
<div class="subsection-level-extent" id="PKCS_002315-Card">
<div class="nav-panel">
<p>
Next: <a href="#Geldkarte-Card" accesskey="n" rel="next">The Geldkarte card application &ldquo;geldkarte&rdquo;</a>, Previous: <a href="#DINSIG-Card" accesskey="p" rel="prev">The DINSIG card application &ldquo;dinsig&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-PKCS_002315-card-application-_0060_0060p15_0027_0027"><span>6.3.4 The PKCS#15 card application &ldquo;p15&rdquo;<a class="copiable-link" href="#The-PKCS_002315-card-application-_0060_0060p15_0027_0027"> &para;</a></span></h4>

<p>This is common framework for smart card applications.  It is used by
<code class="command">gpgsm</code>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Geldkarte-Card">
<div class="nav-panel">
<p>
Next: <a href="#SmartCard_002dHSM" accesskey="n" rel="next">The SmartCard-HSM card application &ldquo;sc-hsm&rdquo;</a>, Previous: <a href="#PKCS_002315-Card" accesskey="p" rel="prev">The PKCS#15 card application &ldquo;p15&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-Geldkarte-card-application-_0060_0060geldkarte_0027_0027"><span>6.3.5 The Geldkarte card application &ldquo;geldkarte&rdquo;<a class="copiable-link" href="#The-Geldkarte-card-application-_0060_0060geldkarte_0027_0027"> &para;</a></span></h4>

<p>This is a simple application to display information of a German
Geldkarte.  The Geldkarte is a small amount debit card application which
comes with almost all German banking cards.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="SmartCard_002dHSM">
<div class="nav-panel">
<p>
Next: <a href="#Undefined-Card" accesskey="n" rel="next">The Undefined card application &ldquo;undefined&rdquo;</a>, Previous: <a href="#Geldkarte-Card" accesskey="p" rel="prev">The Geldkarte card application &ldquo;geldkarte&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-SmartCard_002dHSM-card-application-_0060_0060sc_002dhsm_0027_0027"><span>6.3.6 The SmartCard-HSM card application &ldquo;sc-hsm&rdquo;<a class="copiable-link" href="#The-SmartCard_002dHSM-card-application-_0060_0060sc_002dhsm_0027_0027"> &para;</a></span></h4>

<p>This application adds read-only support for keys and certificates
stored on a <a class="uref" href="http://www.smartcard-hsm.com">SmartCard-HSM</a>.
</p>
<p>To generate keys and store certificates you may use
<a class="uref" href="https://github.com/OpenSC/OpenSC/wiki/SmartCardHSM">OpenSC</a> or
the tools from <a class="uref" href="http://www.openscdp.org">OpenSCDP</a>.
</p>
<p>The SmartCard-HSM cards requires a card reader that supports Extended
Length APDUs.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Undefined-Card">
<div class="nav-panel">
<p>
Previous: <a href="#SmartCard_002dHSM" accesskey="p" rel="prev">The SmartCard-HSM card application &ldquo;sc-hsm&rdquo;</a>, Up: <a href="#Card-applications" accesskey="u" rel="up">Description of card applications</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="The-Undefined-card-application-_0060_0060undefined_0027_0027"><span>6.3.7 The Undefined card application &ldquo;undefined&rdquo;<a class="copiable-link" href="#The-Undefined-card-application-_0060_0060undefined_0027_0027"> &para;</a></span></h4>

<p>This is a stub application to allow the use of the APDU command even
if no supported application is found on the card.  This application is
not used automatically but must be explicitly requested using the
SERIALNO command.
</p>


<hr>
</div>
</div>
<div class="section-level-extent" id="Scdaemon-Configuration">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-Examples" accesskey="n" rel="next">Examples</a>, Previous: <a href="#Card-applications" accesskey="p" rel="prev">Description of card applications</a>, Up: <a href="#Invoking-SCDAEMON" accesskey="u" rel="up">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Configuration-files-2"><span>6.4 Configuration files<a class="copiable-link" href="#Configuration-files-2"> &para;</a></span></h3>

<p>There are a few configuration files to control certain aspects of
<code class="command">scdaemons</code>&rsquo;s operation. Unless noted, they are expected in the
current home directory (see <a class="pxref" href="#option-_002d_002dhomedir">option --homedir</a>).
</p>
<dl class="table">
<dt><a id="index-scdaemon_002econf"></a><span><samp class="file">scdaemon.conf</samp><a class="copiable-link" href="#index-scdaemon_002econf"> &para;</a></span></dt>
<dd><p>This is the standard configuration file read by <code class="command">scdaemon</code> on
startup.  It may contain any valid long option; the leading two dashes
may not be entered and the option may not be abbreviated.  This default
name may be changed on the command line (see <a class="pxref" href="#option-_002d_002doptions">option --options</a>).
</p>
</dd>
<dt><a id="index-scd_002devent"></a><span><samp class="file">scd-event</samp><a class="copiable-link" href="#index-scd_002devent"> &para;</a></span></dt>
<dd><p>If this file is present and executable, it will be called on every card
reader&rsquo;s status change.  An example of this script is provided with the
source code distribution.  This option is deprecated in favor of the
<code class="command">DEVINFO --watch</code>.
</p>
</dd>
<dt><samp class="file">reader_<var class="var">n</var>.status</samp></dt>
<dd><p>This file is created by <code class="command">scdaemon</code> to let other applications now
about reader status changes.  Its use is now deprecated in favor of
<samp class="file">scd-event</samp>.
</p>
</dd>
</dl>



<hr>
</div>
<div class="section-level-extent" id="Scdaemon-Examples">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-Protocol" accesskey="n" rel="next">Scdaemon&rsquo;s Assuan Protocol</a>, Previous: <a href="#Scdaemon-Configuration" accesskey="p" rel="prev">Configuration files</a>, Up: <a href="#Invoking-SCDAEMON" accesskey="u" rel="up">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Examples-4"><span>6.5 Examples<a class="copiable-link" href="#Examples-4"> &para;</a></span></h3>


<div class="example">
<pre class="example-preformatted">$ scdaemon --server -v
</pre></div>



<hr>
</div>
<div class="section-level-extent" id="Scdaemon-Protocol">
<div class="nav-panel">
<p>
Previous: <a href="#Scdaemon-Examples" accesskey="p" rel="prev">Examples</a>, Up: <a href="#Invoking-SCDAEMON" accesskey="u" rel="up">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Scdaemon_0027s-Assuan-Protocol"><span>6.6 Scdaemon&rsquo;s Assuan Protocol<a class="copiable-link" href="#Scdaemon_0027s-Assuan-Protocol"> &para;</a></span></h3>

<p>The SC-Daemon should be started by the system to provide access to
external tokens.  Using Smartcards on a multi-user system does not
make much sense except for system services, but in this case no
regular user accounts are hosted on the machine.
</p>
<p>A client connects to the SC-Daemon by connecting to the socket named
<samp class="file">/var/run/gnupg/scdaemon/socket</samp>, configuration information
is read from <var class="var">/etc/gnupg/scdaemon.conf</var>
</p>
<p>Each connection acts as one session, SC-Daemon takes care of
synchronizing access to a token between sessions.
</p>

<ul class="mini-toc">
<li><a href="#Scdaemon-SERIALNO" accesskey="1">Return the serial number</a></li>
<li><a href="#Scdaemon-LEARN" accesskey="2">Read all useful information from the card</a></li>
<li><a href="#Scdaemon-READCERT" accesskey="3">Return a certificate</a></li>
<li><a href="#Scdaemon-READKEY" accesskey="4">Return a public key</a></li>
<li><a href="#Scdaemon-PKSIGN" accesskey="5">Signing data with a Smartcard</a></li>
<li><a href="#Scdaemon-PKDECRYPT" accesskey="6">Decrypting data with a Smartcard</a></li>
<li><a href="#Scdaemon-GETATTR" accesskey="7">Read an attribute&rsquo;s value</a></li>
<li><a href="#Scdaemon-SETATTR" accesskey="8">Update an attribute&rsquo;s value</a></li>
<li><a href="#Scdaemon-WRITEKEY" accesskey="9">Write a key to a card</a></li>
<li><a href="#Scdaemon-GENKEY">Generate a new key on-card</a></li>
<li><a href="#Scdaemon-RANDOM">Return random bytes generated on-card</a></li>
<li><a href="#Scdaemon-PASSWD">Change PINs</a></li>
<li><a href="#Scdaemon-CHECKPIN">Perform a VERIFY operation</a></li>
<li><a href="#Scdaemon-RESTART">Perform a RESTART operation</a></li>
<li><a href="#Scdaemon-APDU">Send a verbatim APDU to the card</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Scdaemon-SERIALNO">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-LEARN" accesskey="n" rel="next">Read all useful information from the card</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-the-serial-number"><span>6.6.1 Return the serial number<a class="copiable-link" href="#Return-the-serial-number"> &para;</a></span></h4>

<p>This command should be used to check for the presence of a card.  It is
special in that it can be used to reset the card.  Most other commands
will return an error when a card change has been detected and the use of
this function is therefore required.
</p>
<p>Background: We want to keep the client clear of handling card changes
between operations; i.e. the client can assume that all operations are
done on the same card unless he call this function.
</p>
<div class="example">
<pre class="example-preformatted">  SERIALNO
</pre></div>

<p>Return the serial number of the card using a status response like:
</p>
<div class="example">
<pre class="example-preformatted">  S SERIALNO D27600000000000000000000
</pre></div>

<p>The serial number is the hex encoded value identified by
the <code class="code">0x5A</code> tag in the GDO file (FIX=0x2F02).
</p>


<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-LEARN">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-READCERT" accesskey="n" rel="next">Return a certificate</a>, Previous: <a href="#Scdaemon-SERIALNO" accesskey="p" rel="prev">Return the serial number</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Read-all-useful-information-from-the-card"><span>6.6.2 Read all useful information from the card<a class="copiable-link" href="#Read-all-useful-information-from-the-card"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  LEARN [--force]
</pre></div>

<p>Learn all useful information of the currently inserted card.  When
used without the <samp class="option">--force</samp> option, the command might do an INQUIRE
like this:
</p>
<div class="example">
<pre class="example-preformatted">      INQUIRE KNOWNCARDP &lt;hexstring_with_serialNumber&gt;
</pre></div>

<p>The client should just send an <code class="code">END</code> if the processing should go on
or a <code class="code">CANCEL</code> to force the function to terminate with a cancel
error message.  The response of this command is a list of status lines
formatted as this:
</p>
<div class="example">
<pre class="example-preformatted">     S KEYPAIRINFO <var class="var">hexstring_with_keygrip</var> <var class="var">hexstring_with_id</var>
</pre></div>

<p>If there is no certificate yet stored on the card a single &quot;X&quot; is
returned in <var class="var">hexstring_with_keygrip</var>.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-READCERT">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-READKEY" accesskey="n" rel="next">Return a public key</a>, Previous: <a href="#Scdaemon-LEARN" accesskey="p" rel="prev">Read all useful information from the card</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-a-certificate"><span>6.6.3 Return a certificate<a class="copiable-link" href="#Return-a-certificate"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted"> READCERT <var class="var">hexified_certid</var>|<var class="var">keyid</var>
</pre></div>

<p>This function is used to read a certificate identified by
<var class="var">hexified_certid</var> from the card.  With OpenPGP cards the keyid
<code class="code">OpenPGP.3</code> may be used to read the certificate of version 2 cards.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-READKEY">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-PKSIGN" accesskey="n" rel="next">Signing data with a Smartcard</a>, Previous: <a href="#Scdaemon-READCERT" accesskey="p" rel="prev">Return a certificate</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-a-public-key"><span>6.6.4 Return a public key<a class="copiable-link" href="#Return-a-public-key"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">READKEY <var class="var">hexified_certid</var>
</pre></div>

<p>Return the public key for the given cert or key ID as an standard
S-Expression.
</p>


<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-PKSIGN">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-PKDECRYPT" accesskey="n" rel="next">Decrypting data with a Smartcard</a>, Previous: <a href="#Scdaemon-READKEY" accesskey="p" rel="prev">Return a public key</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Signing-data-with-a-Smartcard"><span>6.6.5 Signing data with a Smartcard<a class="copiable-link" href="#Signing-data-with-a-Smartcard"> &para;</a></span></h4>

<p>To sign some data the caller should use the command
</p>
<div class="example">
<pre class="example-preformatted"> SETDATA <var class="var">hexstring</var>
</pre></div>

<p>to tell <code class="command">scdaemon</code> about the data to be signed.  The data must be given in
hex notation.  The actual signing is done using the command
</p>
<div class="example">
<pre class="example-preformatted">  PKSIGN <var class="var">keyid</var>
</pre></div>

<p>where <var class="var">keyid</var> is the hexified ID of the key to be used.  The key id
may have been retrieved using the command <code class="code">LEARN</code>.  If another
hash algorithm than SHA-1 is used, that algorithm may be given like:
</p>
<div class="example">
<pre class="example-preformatted">  PKSIGN --hash=<var class="var">algoname</var> <var class="var">keyid</var>
</pre></div>

<p>With <var class="var">algoname</var> are one of <code class="code">sha1</code>, <code class="code">rmd160</code> or <code class="code">md5</code>.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-PKDECRYPT">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-GETATTR" accesskey="n" rel="next">Read an attribute&rsquo;s value</a>, Previous: <a href="#Scdaemon-PKSIGN" accesskey="p" rel="prev">Signing data with a Smartcard</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Decrypting-data-with-a-Smartcard"><span>6.6.6 Decrypting data with a Smartcard<a class="copiable-link" href="#Decrypting-data-with-a-Smartcard"> &para;</a></span></h4>

<p>To decrypt some data the caller should use the command
</p>
<div class="example">
<pre class="example-preformatted"> SETDATA <var class="var">hexstring</var>
</pre></div>

<p>to tell <code class="command">scdaemon</code> about the data to be decrypted.  The data
must be given in hex notation.  The actual decryption is then done
using the command
</p>
<div class="example">
<pre class="example-preformatted">  PKDECRYPT <var class="var">keyid</var>
</pre></div>

<p>where <var class="var">keyid</var> is the hexified ID of the key to be used.
</p>
<p>If the card is aware of the apdding format a status line with padding
information is send before the plaintext data.  The key for this
status line is <code class="code">PADDING</code> with the only defined value being 0 and
meaning padding has been removed.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-GETATTR">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-SETATTR" accesskey="n" rel="next">Update an attribute&rsquo;s value</a>, Previous: <a href="#Scdaemon-PKDECRYPT" accesskey="p" rel="prev">Decrypting data with a Smartcard</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Read-an-attribute_0027s-value"><span>6.6.7 Read an attribute&rsquo;s value<a class="copiable-link" href="#Read-an-attribute_0027s-value"> &para;</a></span></h4>

<p>TO BE WRITTEN.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-SETATTR">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-WRITEKEY" accesskey="n" rel="next">Write a key to a card</a>, Previous: <a href="#Scdaemon-GETATTR" accesskey="p" rel="prev">Read an attribute&rsquo;s value</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Update-an-attribute_0027s-value"><span>6.6.8 Update an attribute&rsquo;s value<a class="copiable-link" href="#Update-an-attribute_0027s-value"> &para;</a></span></h4>

<p>TO BE WRITTEN.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-WRITEKEY">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-GENKEY" accesskey="n" rel="next">Generate a new key on-card</a>, Previous: <a href="#Scdaemon-SETATTR" accesskey="p" rel="prev">Update an attribute&rsquo;s value</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Write-a-key-to-a-card"><span>6.6.9 Write a key to a card<a class="copiable-link" href="#Write-a-key-to-a-card"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  WRITEKEY [--force] <var class="var">keyid</var>
</pre></div>

<p>This command is used to store a secret key on a smartcard.  The
allowed keyids depend on the currently selected smartcard
application. The actual keydata is requested using the inquiry
<code class="code">KEYDATA</code> and need to be provided without any protection.  With
<samp class="option">--force</samp> set an existing key under this <var class="var">keyid</var> will get
overwritten.  The key data is expected to be the usual canonical encoded
S-expression.
</p>
<p>A PIN will be requested in most cases.  This however depends on the
actual card application.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-GENKEY">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-RANDOM" accesskey="n" rel="next">Return random bytes generated on-card</a>, Previous: <a href="#Scdaemon-WRITEKEY" accesskey="p" rel="prev">Write a key to a card</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Generate-a-new-key-on_002dcard"><span>6.6.10 Generate a new key on-card<a class="copiable-link" href="#Generate-a-new-key-on_002dcard"> &para;</a></span></h4>

<p>TO BE WRITTEN.
</p>
<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-RANDOM">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-PASSWD" accesskey="n" rel="next">Change PINs</a>, Previous: <a href="#Scdaemon-GENKEY" accesskey="p" rel="prev">Generate a new key on-card</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Return-random-bytes-generated-on_002dcard"><span>6.6.11 Return random bytes generated on-card<a class="copiable-link" href="#Return-random-bytes-generated-on_002dcard"> &para;</a></span></h4>

<p>TO BE WRITTEN.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-PASSWD">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-CHECKPIN" accesskey="n" rel="next">Perform a VERIFY operation</a>, Previous: <a href="#Scdaemon-RANDOM" accesskey="p" rel="prev">Return random bytes generated on-card</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Change-PINs"><span>6.6.12 Change PINs<a class="copiable-link" href="#Change-PINs"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">   PASSWD [--reset] [--nullpin] <var class="var">chvno</var>
</pre></div>

<p>Change the PIN or reset the retry counter of the card holder
verification vector number <var class="var">chvno</var>.  The option <samp class="option">--nullpin</samp>
is used to initialize the PIN of TCOS cards (6 byte NullPIN only).
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-CHECKPIN">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-RESTART" accesskey="n" rel="next">Perform a RESTART operation</a>, Previous: <a href="#Scdaemon-PASSWD" accesskey="p" rel="prev">Change PINs</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Perform-a-VERIFY-operation"><span>6.6.13 Perform a VERIFY operation<a class="copiable-link" href="#Perform-a-VERIFY-operation"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  CHECKPIN <var class="var">idstr</var>
</pre></div>

<p>Perform a VERIFY operation without doing anything else.  This may be
used to initialize a the PIN cache earlier to long lasting
operations.  Its use is highly application dependent:
</p>
<dl class="table">
<dt><strong class="strong">OpenPGP</strong></dt>
<dd>
<p>Perform a simple verify operation for CHV1 and CHV2, so that further
operations won&rsquo;t ask for CHV2 and it is possible to do a cheap check on
the PIN: If there is something wrong with the PIN entry system, only the
regular CHV will get blocked and not the dangerous CHV3.  <var class="var">idstr</var> is
the usual card&rsquo;s serial number in hex notation; an optional fingerprint
part will get ignored.
</p>
<p>There is however a special mode if <var class="var">idstr</var> is suffixed with the
literal string <code class="code">[CHV3]</code>: In this case the Admin PIN is checked if
and only if the retry counter is still at 3.
</p>
</dd>
</dl>



<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-RESTART">
<div class="nav-panel">
<p>
Next: <a href="#Scdaemon-APDU" accesskey="n" rel="next">Send a verbatim APDU to the card</a>, Previous: <a href="#Scdaemon-CHECKPIN" accesskey="p" rel="prev">Perform a VERIFY operation</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Perform-a-RESTART-operation"><span>6.6.14 Perform a RESTART operation<a class="copiable-link" href="#Perform-a-RESTART-operation"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  RESTART
</pre></div>

<p>Restart the current connection; this is a kind of warm reset.  It
deletes the context used by this connection but does not actually
reset the card.
</p>
<p>This is used by gpg-agent to reuse a primary pipe connection and
may be used by clients to backup from a conflict in the serial
command; i.e. to select another application.
</p>



<hr>
</div>
<div class="subsection-level-extent" id="Scdaemon-APDU">
<div class="nav-panel">
<p>
Previous: <a href="#Scdaemon-RESTART" accesskey="p" rel="prev">Perform a RESTART operation</a>, Up: <a href="#Scdaemon-Protocol" accesskey="u" rel="up">Scdaemon&rsquo;s Assuan Protocol</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Send-a-verbatim-APDU-to-the-card"><span>6.6.15 Send a verbatim APDU to the card<a class="copiable-link" href="#Send-a-verbatim-APDU-to-the-card"> &para;</a></span></h4>

<div class="example">
<pre class="example-preformatted">  APDU [--atr] [--more] [--exlen[=<var class="var">n</var>]] [<var class="var">hexstring</var>]
</pre></div>


<p>Send an APDU to the current reader.  This command bypasses the high
level functions and sends the data directly to the card.
<var class="var">hexstring</var> is expected to be a proper APDU.  If <var class="var">hexstring</var> is
not given no commands are send to the card; However the command will
implicitly check whether the card is ready for use.
</p>
<p>Using the option <code class="code">--atr</code> returns the ATR of the card as a status
message before any data like this:
</p><div class="example">
<pre class="example-preformatted">     S CARD-ATR 3BFA1300FF813180450031C173C00100009000B1
</pre></div>

<p>Using the option <code class="code">--more</code> handles the card status word MORE_DATA
(61xx) and concatenate all responses to one block.
</p>
<p>Using the option <code class="code">--exlen</code> the returned APDU may use extended
length up to N bytes.  If N is not given a default value is used
(currently 4096).
</p>





<hr>
</div>
</div>
</div>
<div class="chapter-level-extent" id="Specify-a-User-ID">
<div class="nav-panel">
<p>
Next: <a href="#Trust-Values" accesskey="n" rel="next">Trust Values</a>, Previous: <a href="#Invoking-SCDAEMON" accesskey="p" rel="prev">Invoking the SCDAEMON</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="How-to-Specify-a-User-Id"><span>7 How to Specify a User Id<a class="copiable-link" href="#How-to-Specify-a-User-Id"> &para;</a></span></h2>
<a class="anchor" id="how_002dto_002dspecify_002da_002duser_002did"></a>
<p>There are different ways to specify a user ID to GnuPG.  Some of them
are only valid for <code class="command">gpg</code> others are only good for
<code class="command">gpgsm</code>.  Here is the entire list of ways to specify a key:
</p>
<ul class="itemize mark-bullet">
<li>By key Id.
This format is deduced from the length of the string and its content or
<code class="code">0x</code> prefix. The key Id of an X.509 certificate are the low 64 bits
of its SHA-1 fingerprint.  The use of key Ids is just a shortcut, for
all automated processing the fingerprint should be used.

<p>When using <code class="command">gpg</code> an exclamation mark (!) may be appended to
force using the specified primary or secondary key and not to try and
calculate which primary or secondary key to use.
</p>
<p>The last four lines of the example give the key ID in their long form as
internally used by the OpenPGP protocol. You can see the long key ID
using the option <samp class="option">--with-colons</samp>.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">234567C4
0F34E556E
01347A56A
0xAB123456

234AABBCC34567C4
0F323456784E56EAB
01AB3FED1347A5612
0x234AABBCC34567C4
</pre></div>
</td></tr></table>



</li><li>By fingerprint.
This format is deduced from the length of the string and its content or
the <code class="code">0x</code> prefix.  Note, that only the 20 byte version fingerprint
is available with <code class="command">gpgsm</code> (i.e. the SHA-1 hash of the
certificate).

<p>When using <code class="command">gpg</code> an exclamation mark (!) may be appended to
force using the specified primary or secondary key and not to try and
calculate which primary or secondary key to use.
</p>
<p>The best way to specify a key Id is by using the fingerprint.  This
avoids any ambiguities in case that there are duplicated key IDs.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">1234343434343434C434343434343434
123434343434343C3434343434343734349A3434
0E12343434343434343434EAB3484343434343434
0xE12343434343434343434EAB3484343434343434
</pre></div>
</td></tr></table>

<p><code class="command">gpgsm</code> also accepts colons between each pair of hexadecimal
digits because this is the de-facto standard on how to present X.509
fingerprints.  <code class="command">gpg</code> also allows the use of the space
separated SHA-1 fingerprint as printed by the key listing commands.
</p>
</li><li>By exact match on OpenPGP user ID.
This is denoted by a leading equal sign. It does not make sense for
X.509 certificates.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">=Heinrich Heine &lt;heinrichh@uni-duesseldorf.de&gt;
</pre></div>
</td></tr></table>

</li><li>By exact match on an email address.
This is indicated by enclosing the email address in the usual way
with left and right angles.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">&lt;heinrichh@uni-duesseldorf.de&gt;
</pre></div>
</td></tr></table>


</li><li>By partial match on an email address.
This is indicated by prefixing the search string with an <code class="code">@</code>.
This uses a substring search but considers only the mail address
(i.e. inside the angle brackets).

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">@heinrichh
</pre></div>
</td></tr></table>

</li><li>By exact match on the subject&rsquo;s DN.
This is indicated by a leading slash, directly followed by the RFC-2253
encoded DN of the subject.  Note that you can&rsquo;t use the string printed
by <code class="code">gpgsm --list-keys</code> because that one has been reordered and modified
for better readability; use <samp class="option">--with-colons</samp> to print the raw
(but standard escaped) RFC-2253 string.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">/CN=Heinrich Heine,O=Poets,L=Paris,C=FR
</pre></div>
</td></tr></table>

</li><li>By exact match on the issuer&rsquo;s DN.
This is indicated by a leading hash mark, directly followed by a slash
and then directly followed by the RFC-2253 encoded DN of the issuer.
This should return the Root cert of the issuer.  See note above.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">#/CN=Root Cert,O=Poets,L=Paris,C=FR
</pre></div>
</td></tr></table>


</li><li>By exact match on serial number and issuer&rsquo;s DN.
This is indicated by a hash mark, followed by the hexadecimal
representation of the serial number, then followed by a slash and the
RFC-2253 encoded DN of the issuer. See note above.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">#4F03/CN=Root Cert,O=Poets,L=Paris,C=FR
</pre></div>
</td></tr></table>

</li><li>By keygrip.
This is indicated by an ampersand followed by the 40 hex digits of a
keygrip.  <code class="command">gpgsm</code> prints the keygrip when using the command
<samp class="option">--dump-cert</samp>.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">&amp;D75F22C3F86E355877348498CDC92BD21010A480
</pre></div>
</td></tr></table>


</li><li>By substring match.
This is the default mode but applications may want to explicitly
indicate this by putting the asterisk in front.  Match is not case
sensitive.

<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">Heine
*Heine
</pre></div>
</td></tr></table>

</li><li>. and + prefixes
These prefixes are reserved for looking up mails anchored at the end
and for a word search mode.  They are not yet implemented and using
them is undefined.

</li></ul>

<p>Please note that we have reused the hash mark identifier which was used
in old GnuPG versions to indicate the so called local-id.  It is not
anymore used and there should be no conflict when used with X.509 stuff.
</p>
<p>Using the RFC-2253 format of DNs has the drawback that it is not
possible to map them back to the original encoding, however we don&rsquo;t
have to do this because our key database stores this encoding as meta
data.
</p>
<hr>
</div>
<div class="chapter-level-extent" id="Trust-Values">
<div class="nav-panel">
<p>
Next: <a href="#Smart-Card-Tool" accesskey="n" rel="next">Smart Card Tool</a>, Previous: <a href="#Specify-a-User-ID" accesskey="p" rel="prev">How to Specify a User Id</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Trust-Values-1"><span>8 Trust Values<a class="copiable-link" href="#Trust-Values-1"> &para;</a></span></h2>
<a class="anchor" id="trust_002dvalues"></a><a class="index-entry-id" id="index-trust-values"></a>

<p>Trust values are used to indicate ownertrust and validity of keys and
user IDs.  They are displayed with letters or strings:
</p>
<dl class="table">
<dt>-</dt>
<dt>unknown</dt>
<dd><p>No ownertrust assigned / not yet calculated.
</p>
</dd>
<dt>e</dt>
<dt>expired</dt>
<dd>
<p>Trust calculation has failed; probably due to an expired key.
</p>
</dd>
<dt>q</dt>
<dt>undefined, undef</dt>
<dd><p>Not enough information for calculation.
</p>
</dd>
<dt>n</dt>
<dt>never</dt>
<dd><p>Never trust this key.
</p>
</dd>
<dt>m</dt>
<dt>marginal</dt>
<dd><p>Marginally trusted.
</p>
</dd>
<dt>f</dt>
<dt>full</dt>
<dd><p>Fully trusted.
</p>
</dd>
<dt>u</dt>
<dt>ultimate</dt>
<dd><p>Ultimately trusted.
</p>
</dd>
<dt>r</dt>
<dt>revoked</dt>
<dd><p>For validity only: the key or the user ID has been revoked.
</p>
</dd>
<dt>?</dt>
<dt>err</dt>
<dd><p>The program encountered an unknown trust value.
</p>
</dd>
</dl>





<hr>
</div>
<div class="chapter-level-extent" id="Smart-Card-Tool">
<div class="nav-panel">
<p>
Next: <a href="#Helper-Tools" accesskey="n" rel="next">Helper Tools</a>, Previous: <a href="#Trust-Values" accesskey="p" rel="prev">Trust Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Smart-Card-Tool-1"><span>9 Smart Card Tool<a class="copiable-link" href="#Smart-Card-Tool-1"> &para;</a></span></h2>

<p>GnuPG comes with a tool to administrate smart cards and USB tokens.
This tool is an enhanced version of the <samp class="option">--edit-key</samp> command
available with <code class="command">gpg</code>.
</p>


<ul class="mini-toc">
<li><a href="#gpg_002dcard" accesskey="1">Administrate smart cards.</a></li>
</ul>
<hr>
<div class="section-level-extent" id="gpg_002dcard">
<div class="nav-panel">
<p>
Up: <a href="#Smart-Card-Tool" accesskey="u" rel="up">Smart Card Tool</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Administrate-smart-cards_002e"><span>9.1 Administrate smart cards.<a class="copiable-link" href="#Administrate-smart-cards_002e"> &para;</a></span></h3>




<p>The <code class="command">gpg-card</code> is used to administrate smart cards and USB
tokens.  It provides a superset of features from <code class="command">gpg
--card-edit</code> an can be considered a frontend to <code class="command">scdaemon</code>
which is a daemon started by <code class="command">gpg-agent</code> to handle smart
cards.
</p>
<p>If <code class="command">gpg-card</code> is invoked without commands an interactive
mode is used.
</p>
<p>If <code class="command">gpg-card</code> is invoked with one or more commands the
same commands as available in the interactive mode are run from the
command line.  These commands need to be delimited with a double-dash.
If a double-dash or a shell specific character is required as part of
a command the entire command needs to be put in quotes.  If one of
those commands returns an error the remaining commands are not anymore
run unless the command was prefixed with a single dash.
</p>
<p>A list of commands is available by using the command <code class="code">help</code> and a
brief description of each command is printed by using <code class="code">help CMD</code>.
See the section COMMANDS for a full description.
</p>
<p>See the NOTES sections for instructions pertaining to specific cards
or card applications.
</p>

<p><code class="command">gpg-card</code> understands these options:
</p>
<dl class="table">
<dt><a id="index-with_002dcolons-1"></a><span><code class="code">--with-colons</code><a class="copiable-link" href="#index-with_002dcolons-1"> &para;</a></span></dt>
<dd><p>This option has currently no effect.
</p>
</dd>
<dt><a id="index-status_002dfd-1"></a><span><code class="code">--status-fd <var class="var">n</var></code><a class="copiable-link" href="#index-status_002dfd-1"> &para;</a></span></dt>
<dd><p>Write special status strings to the file descriptor <var class="var">n</var>.  This
program returns only the status messages SUCCESS or FAILURE which are
helpful when the caller uses a double fork approach and can&rsquo;t easily
get the return code of the process.
</p>
</dd>
<dt><a id="index-verbose-5"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-5"> &para;</a></span></dt>
<dd><p>Enable extra informational output.
</p>
</dd>
<dt><a id="index-quiet-2"></a><span><code class="code">--quiet</code><a class="copiable-link" href="#index-quiet-2"> &para;</a></span></dt>
<dd><p>Disable almost all informational output.
</p>
</dd>
<dt><a id="index-version-5"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-5"> &para;</a></span></dt>
<dd><p>Print version of the program and exit.
</p>
</dd>
<dt><a id="index-help-5"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help-5"> &para;</a></span></dt>
<dd><p>Display a brief help page and exit.
</p>
</dd>
<dt><a id="index-no_002dautostart-2"></a><span><code class="code">--no-autostart</code><a class="copiable-link" href="#index-no_002dautostart-2"> &para;</a></span></dt>
<dd><p>Do not start the gpg-agent if it has not yet been started and its
service is required.  This option is mostly useful on machines where
the connection to gpg-agent has been redirected to another machines.
</p>
</dd>
<dt><a id="index-_002d_002dno_002dhistory"></a><span><code class="code">--no-history</code><a class="copiable-link" href="#index-_002d_002dno_002dhistory"> &para;</a></span></dt>
<dd><p>In interactive mode the command line history is usually saved and
restored to and from a file below the GnuPG home directory.  This
option inhibits the use of that file.
</p>
</dd>
<dt><a id="index-agent_002dprogram-2"></a><span><code class="code">--agent-program <var class="var">file</var></code><a class="copiable-link" href="#index-agent_002dprogram-2"> &para;</a></span></dt>
<dd><p>Specify the agent program to be started if none is running.  The
default value is determined by running <code class="command">gpgconf</code> with the
option <samp class="option">--list-dirs</samp>.
</p>
</dd>
<dt><a id="index-gpg_002dprogram"></a><span><code class="code">--gpg-program <var class="var">file</var></code><a class="copiable-link" href="#index-gpg_002dprogram"> &para;</a></span></dt>
<dd><p>Specify a non-default gpg binary to be used by certain commands.
</p>
</dd>
<dt><a id="index-gpgsm_002dprogram"></a><span><code class="code">--gpgsm-program <var class="var">file</var></code><a class="copiable-link" href="#index-gpgsm_002dprogram"> &para;</a></span></dt>
<dd><p>Specify a non-default gpgsm binary to be used by certain commands.
</p>
</dd>
<dt><a id="index-chuid-2"></a><span><code class="code">--chuid <var class="var">uid</var></code><a class="copiable-link" href="#index-chuid-2"> &para;</a></span></dt>
<dd><p>Change the current user to <var class="var">uid</var> which may either be a number or a
name.  This can be used from the root account to run gpg-card for
another user.  If <var class="var">uid</var> is not the current UID a standard PATH is
set and the envvar GNUPGHOME is unset.  To override the latter the
option <samp class="option">--homedir</samp> can be used.  This option has only an effect
when used on the command line.  This option has currently no effect at
all on Windows.
</p>
</dd>
</dl>


<p><code class="command">gpg-card</code> understands the following commands, which have
options of their own.  The pseudo-option &lsquo;<samp class="samp">--</samp>&rsquo; can be used to
separate command options from arguments; if this pseudo option is used
on the command line the entire command with options and arguments must
be quoted, so that it is not mixed up with the &lsquo;<samp class="samp">--</samp>&rsquo; as used on
the command line to separate commands.  Note that a short online help
is available for all commands by prefixing them with &ldquo;help&rdquo;.
Command completion in the interactive mode is also supported.
</p>
<dl class="table">
<dt><a id="index-authenticate"></a><span><code class="code">AUTHENTICATE [--setkey] [--raw] [&lt; <var class="var">file</var>]|<var class="var">key</var>]</code><a class="copiable-link" href="#index-authenticate"> &para;</a></span></dt>
<dt><code class="code">AUTH</code></dt>
<dd><p>Authenticate to the card.  Perform a mutual authentication either by
reading the key from <var class="var">file</var> or by taking it from the command line
as <var class="var">key</var>.  Without the option <samp class="option">--raw</samp> the key is expected
to be hex encoded.  To install a new administration key
<samp class="option">--setkey</samp> is used; this requires a prior authentication with
the old key.  This is used with PIV cards.
</p>

</dd>
<dt><a id="index-cafpr"></a><span><code class="code">CAFPR [--clear] N</code><a class="copiable-link" href="#index-cafpr"> &para;</a></span></dt>
<dd><p>Change the CA fingerprint number N of an OpenPGP card.  N must be in the
range 1 to 3.  The option <samp class="option">--clear</samp> clears the specified
CA fingerprint N or all of them if N is 0 or not given.
</p>
</dd>
<dt><a id="index-factory_002dreset"></a><span><code class="code">FACTORY-RESET</code><a class="copiable-link" href="#index-factory_002dreset"> &para;</a></span></dt>
<dd><p>Do a complete reset of some OpenPGP and PIV cards.  This command
deletes all data and keys and resets the PINs to their default.  Don&rsquo;t
worry, you need to confirm before the command proceeds.
</p>
</dd>
<dt><a id="index-fetch"></a><span><code class="code">FETCH</code><a class="copiable-link" href="#index-fetch"> &para;</a></span></dt>
<dd><p>Retrieve a key using the URL data object of an OpenPGP card or if that
is missing using the stored fingerprint.
</p>
</dd>
<dt><a id="index-forcesig"></a><span><code class="code">FORCESIG</code><a class="copiable-link" href="#index-forcesig"> &para;</a></span></dt>
<dd><p>Toggle the forcesig flag of an OpenPGP card.
</p>
</dd>
<dt><a id="index-generate"></a><span><code class="code">GENERATE [--force] [--algo=<var class="var">algo</var>{+<var class="var">algo2</var>}] <var class="var">keyref</var></code><a class="copiable-link" href="#index-generate"> &para;</a></span></dt>
<dd><p>Create a new key on a card.  Use <samp class="option">--force</samp> to overwrite an
existing key.  Use &quot;help&quot; for <var class="var">algo</var> to get a list of known
algorithms.  For OpenPGP cards several algos may be given.  Note that
the OpenPGP key generation is done interactively unless
<samp class="option">--algo</samp> or <var class="var">keyref</var> are given.
</p>
</dd>
<dt><a id="index-kdf_002dsetup"></a><span><code class="code">KDF-SETUP</code><a class="copiable-link" href="#index-kdf_002dsetup"> &para;</a></span></dt>
<dd><p>Prepare the OpenPGP card KDF feature for this card.
</p>
</dd>
<dt><a id="index-lang"></a><span><code class="code">LANG [--clear]</code><a class="copiable-link" href="#index-lang"> &para;</a></span></dt>
<dd><p>Change the language info for the card.  This info can be used by
applications for a personalized greeting.  Up to 4 two-digit language
identifiers can be entered as a preference.  The option
<samp class="option">--clear</samp> removes all identifiers.  GnuPG does not use this
info.
</p>
</dd>
<dt><a id="index-list"></a><span><code class="code">LIST [--cards] [--apps] [--info] [--no-key-lookup] [<var class="var">n</var>] [<var class="var">app</var>]</code><a class="copiable-link" href="#index-list"> &para;</a></span></dt>
<dt><code class="code">L</code></dt>
<dd><p>This command reads all information from the current card and display
them in a human readable format.  The first section shows generic
information vaialable for all cards.  The next section shows
information pertaining to keys which depend on the actual card and
application.
</p>
<p>With <var class="var">n</var> given select and list the n-th card;
with <var class="var">app</var> also given select that application.
To select an <var class="var">app</var> on the current card use &quot;-&quot; for <var class="var">n</var>.
The serial number of the card may be used instead of <var class="var">n</var>.
</p>
<p>The option <samp class="option">--cards</samp> lists the serial numbers of available
cards.  The option <samp class="option">--apps</samp> lists all card applications.  The
option <samp class="option">--info</samp> selects a card and prints its serial number.
The option <samp class="option">--no-key-lookup</samp> suppresses the listing of matching
OpenPGP or X.509 keys.
</p>

</dd>
<dt><a id="index-login"></a><span><code class="code">LOGIN [--clear] [&lt; <var class="var">file</var>]</code><a class="copiable-link" href="#index-login"> &para;</a></span></dt>
<dd><p>Set the login data object of OpenPGP cards.  If <var class="var">file</var> is given
the data is is read from that file.  This allows one to store binary data
in the login field.  The option <samp class="option">--clear</samp> deletes the login
data object.
</p>
</dd>
<dt><a id="index-name"></a><span><code class="code">NAME [--clear]</code><a class="copiable-link" href="#index-name"> &para;</a></span></dt>
<dd><p>Set the name field of an OpenPGP card.  With option <samp class="option">--clear</samp>
the stored name is cleared off the card.
</p>
</dd>
<dt><a id="index-passwd-2"></a><span><code class="code">PASSWD [--reset|--nullpin] [<var class="var">pinref</var>]</code><a class="copiable-link" href="#index-passwd-2"> &para;</a></span></dt>
<dd><p>Change or unblock the PINs.  Note that in interactive mode and without
a <var class="var">pinref</var> a menu is presented for certain cards.&quot;  In
non-interactive mode and without a <var class="var">pinref</var> a default value i used
for these cards.  The option <samp class="option">--reset</samp> is used with TCOS cards
to reset the PIN using the PUK or vice versa; the option
<var class="var">&ndash;nullpin</var> is used for these cards to set the initial PIN.
</p>
</dd>
<dt><a id="index-privatedo"></a><span><code class="code">PRIVATEDO [--clear] <var class="var">n</var> [&lt; <var class="var">file</var>]</code><a class="copiable-link" href="#index-privatedo"> &para;</a></span></dt>
<dd><p>Change the private data object <var class="var">n</var> of an OpenPGP card.  <var class="var">n</var>
must be in the range 1 to 4.  If <var class="var">file</var> is given the data is is
read from that file.  The option <samp class="option">--clear</samp> clears the data.
</p>
</dd>
<dt><a class="index-entry-id" id="index-q"></a>
<a id="index-quit"></a><span><code class="code">QUIT</code><a class="copiable-link" href="#index-quit"> &para;</a></span></dt>
<dt><code class="code">Q</code></dt>
<dd><p>Stop processing and terminate <code class="command">gpg-card</code>.
</p>
</dd>
<dt><a id="index-readcert"></a><span><code class="code">READCERT [--openpgp] <var class="var">certref</var> &gt; <var class="var">file</var></code><a class="copiable-link" href="#index-readcert"> &para;</a></span></dt>
<dd><p>Read the certificate for key <var class="var">certref</var> and store it in <var class="var">file</var>.
With option <samp class="option">--openpgp</samp> an OpenPGP keyblock wrapped in a
dedicated CMS content type (OID=1.3.6.1.4.1.11591.2.3.1) is expected
and extracted to <var class="var">file</var>.  Note that for current OpenPGP cards a
certificate may only be available at the <var class="var">certref</var> &quot;OPENPGP.3&quot;.
</p>
</dd>
<dt><a id="index-reset"></a><span><code class="code">RESET</code><a class="copiable-link" href="#index-reset"> &para;</a></span></dt>
<dd><p>Send a reset to the card daemon.
</p>
</dd>
<dt><a class="index-entry-id" id="index-salut"></a>
<a id="index-salutation"></a><span><code class="code">SALUTATION [--clear]</code><a class="copiable-link" href="#index-salutation"> &para;</a></span></dt>
<dt><code class="code">SALUT</code></dt>
<dd><p>Change the salutation info for the card.  This info can be used by
applications for a personalized greeting.  The option <samp class="option">--clear</samp>
removes this data object.  GnuPG does not use this info.
</p>
</dd>
<dt><a id="index-uif"></a><span><code class="code">UIF <var class="var">N</var> [on|off|permanent]</code><a class="copiable-link" href="#index-uif"> &para;</a></span></dt>
<dd><p>Change the User Interaction Flag.  That flags tells whether the
confirmation button of a token shall be used.  <var class="var">n</var> must in the
range 1 to 3.  &quot;permanent&quot; is the same as &quot;on&quot; but the flag can&rsquo;t be
changed anmore.
</p>
</dd>
<dt><a id="index-unblock"></a><span><code class="code">UNBLOCK</code><a class="copiable-link" href="#index-unblock"> &para;</a></span></dt>
<dd><p>Unblock a PIN using a PUK or Reset Code.  Note that OpenPGP cards
prior to version 2 can&rsquo;t use this; instead the <code class="command">PASSWD</code> can be
used to set a new PIN.
</p>
</dd>
<dt><a id="index-url"></a><span><code class="code">URL [--clear]</code><a class="copiable-link" href="#index-url"> &para;</a></span></dt>
<dd><p>Set the URL data object of an OpenPGP card.  That data object can be
used by by <code class="command">gpg</code>&rsquo;s <samp class="option">--fetch</samp> command to retrieve the
full public key.  The option <samp class="option">--clear</samp> deletes the content of
that data object.
</p>
</dd>
<dt><a id="index-verify-2"></a><span><code class="code">VERIFY [<var class="var">chvid</var>]</code><a class="copiable-link" href="#index-verify-2"> &para;</a></span></dt>
<dd><p>Verify the PIN identified by <var class="var">chvid</var> or the default PIN.
</p>
</dd>
<dt><a id="index-writecert"></a><span><code class="code">WRITECERT <var class="var">certref</var>  &lt; <var class="var">file</var></code><a class="copiable-link" href="#index-writecert"> &para;</a></span></dt>
<dt><code class="code">WRITECERT --openpgp <var class="var">certref</var> [&lt; <var class="var">file</var>|<var class="var">fpr</var>]</code></dt>
<dt><code class="code">WRITECERT --clear <var class="var">certref</var></code></dt>
<dd><p>Write a certificate to the card under the id <var class="var">certref</var>.  The
option <samp class="option">--clear</samp> removes the certificate from the card.  The
option <samp class="option">--openpgp</samp> expects an OpenPGP keyblock and stores it
encapsulated in a CMS container; the keyblock is taken from <var class="var">file</var>
or directly from the OpenPGP key identified by fingerprint <var class="var">fpr</var>.
</p>
</dd>
<dt><a id="index-writekey"></a><span><code class="code">WRITEKEY [--force] <var class="var">keyref</var> <var class="var">keygrip</var></code><a class="copiable-link" href="#index-writekey"> &para;</a></span></dt>
<dd><p>Write a private key object identified by <var class="var">keygrip</var> to the card
under the id <var class="var">keyref</var>.  Option <samp class="option">--force</samp> allows overwriting
an existing key.
</p>
</dd>
<dt><a id="index-checkkeys"></a><span><code class="code">CHECKKEYS [--ondisk] [--delete-clear-copy] [--delete-protected-copy]</code><a class="copiable-link" href="#index-checkkeys"> &para;</a></span></dt>
<dd><p>Print a list of keys noticed on all inserted cards.  With
<samp class="option">--ondisk</samp> only smartcard keys with a copy on disk are listed.
With <samp class="option">--delete-clear-copy</samp> copies of smartcard keys stored on
disk without any protection will be deleted.  With
<samp class="option">--delete-protected-copy</samp> password protected copies of
smartcard keys stored on disk will be deleted.
</p>
<p>This command creates missing shadow keys.  The delete options print
the status of the keys before they are deleted.
</p>
<p>The format of the output is:
</p><dl class="table">
<dt><var class="var">Serial number</var></dt>
<dd><p>A hex-string with the serial number of the card.
</p></dd>
<dt><var class="var">Type</var></dt>
<dd><p>This gives the type of the card&rsquo;s application.  For example &quot;OpenPGP&quot;
or &quot;PIV&quot;.
</p></dd>
<dt><var class="var">Keygrip</var></dt>
<dd><p>A hex-string identifying a key.
</p></dd>
<dt><var class="var">Keyref</var></dt>
<dd><p>The application slot where the key is stored on the card.  For example
&quot;OpenPGP.1&quot;
</p></dd>
<dt><var class="var">Status</var></dt>
<dd><p>The status of the key.  The most common value is &quot;shadowed&quot; for a key
where only the public key along with the card&rsquo;s serial number is
stored on the disk.  The value &quot;clear&quot; indicates that a copy of the
card&rsquo;s key is stored unprotected on disk.  The value &quot;protected&quot;
indicated that a copy of the car&rsquo;s key is stored on disk but is
protected by a password.  The value &quot;error&quot; may also be shown if there
was a problem reading information from the card.
</p></dd>
</dl>

</dd>
<dt><a id="index-yubikey"></a><span><code class="code">YUBIKEY <var class="var">cmd</var> <var class="var">args</var></code><a class="copiable-link" href="#index-yubikey"> &para;</a></span></dt>
<dd><p>Various commands pertaining to Yubikey tokens with <var class="var">cmd</var> being:
</p><dl class="table">
<dt><var class="var">LIST</var></dt>
<dd><p>List supported and enabled Yubikey applications.
</p></dd>
<dt><var class="var">ENABLE  usb|nfc|all [otp|u2f|opgp|piv|oath|fido2|all]</var></dt>
<dt><var class="var">DISABLE</var></dt>
<dd><p>Enable or disable the specified or all applications on the
given interface.
</p></dd>
</dl>

</dd>
</dl>


<p>The support for OpenPGP cards in <code class="command">gpg-card</code> is not yet
complete.  For missing features, please continue to use <code class="code">gpg
--card-edit</code>.
</p>

<p>GnuPG has support for PIV cards (&ldquo;Personal Identity Verification&rdquo;
as specified by NIST Special Publication 800-73-4).  This section
describes how to initialize (personalize) a fresh Yubikey token
featuring the PIV application (requires Yubikey-5).  We assume that
the credentials have not yet been changed and thus are:
</p><dl class="table">
<dt>Authentication key</dt>
<dd><p>This is a 24 byte key described by the hex string <br>
<code class="code">010203040506070801020304050607080102030405060708</code>.
</p></dd>
<dt>PIV Application PIN</dt>
<dd><p>This is the string <code class="code">123456</code>.
</p></dd>
<dt>PIN Unblocking Key</dt>
<dd><p>This is the string <code class="code">12345678</code>.
</p></dd>
</dl>
<p>See the example section on how to change these defaults.  For
production use it is important to use secure values for them.  Note that
the Authentication Key is not queried via the usual Pinentry dialog
but needs to be entered manually or read from a file.  The use of a
dedicated machine to personalize tokens is strongly suggested.
</p>
<p>To see what is on the card, the command <code class="code">list</code> can be given.  We
will use the interactive mode in the following (the string
<em class="emph">gpg/card&gt;</em> is the prompt).  An example output for a fresh card
is:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; list
Reader ...........: 1050:0407:X:0
Card type ........: yubikey
Card firmware ....: 5.1.2
Serial number ....: D2760001240102010006090746250000
Application type .: OpenPGP
Version ..........: 2.1
[...]
</pre></div>

<p>It can be seen by the &ldquo;Application type&rdquo; line that GnuPG selected
the OpenPGP application of the Yubikey.  This is because GnuPG assigns
the highest priority to the OpenPGP application.  To use the PIV
application of the Yubikey several methods can be used:
</p>
<p>With a Yubikey 5 or later the OpenPGP application on the Yubikey can
be disabled:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; yubikey disable all opgp
gpg/card&gt; yubikey list
Application  USB    NFC
-----------------------
OTP          yes    yes
U2F          yes    yes
OPGP         no     no
PIV          yes    no
OATH         yes    yes
FIDO2        yes    yes
gpg/card&gt; reset
</pre></div>

<p>The <code class="code">reset</code> is required so that the GnuPG system rereads the
card.  Note that disabled applications keep all their data and can at
any time be re-enabled (use <kbd class="kbd">help yubikey</kbd>).
</p>
<p>Another option, which works for all Yubikey versions, is to disable
the support for OpenPGP cards in scdaemon.  This is done by adding the
line
</p>
<div class="example smallexample">
<pre class="example-preformatted">disable-application openpgp
</pre></div>

<p>to <samp class="file">~/.gnupg/scdaemon.conf</samp> and by restarting scdaemon, either by
killing the process or by using <kbd class="kbd">gpgconf --kill scdaemon</kbd>.  Finally
the default order in which card applications are tried by scdaemon can
be changed.   For example to prefer PIV over OpenPGP it is sufficient
to add
</p>
<div class="example smallexample">
<pre class="example-preformatted">application-priority piv
</pre></div>

<p>to <samp class="file">~/.gnupg/scdaemon.conf</samp> and to restart <code class="command">scdaemon</code>.
This has an effect only on tokens which support both, PIV and OpenPGP,
but does not hamper the use of OpenPGP only tokens.
</p>
<p>With one of these methods employed the <code class="code">list</code> command of
<code class="command">gpg-card</code> shows this:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; list
Reader ...........: 1050:0407:X:0
Card type ........: yubikey
Card firmware ....: 5.1.2
Serial number ....: FF020001008A77C1
Application type .: PIV
Version ..........: 1.0
Displayed s/n ....: yk-9074625
PIN usage policy .: app-pin
PIN retry counter : - 3 -
PIV authentication: [none]
      keyref .....: PIV.9A
Card authenticat. : [none]
      keyref .....: PIV.9E
Digital signature : [none]
      keyref .....: PIV.9C
Key management ...: [none]
      keyref .....: PIV.9D
</pre></div>

<p>In case several tokens are plugged into the computer, gpg-card will
show only one.  To show another token the number of the token (0, 1,
2, ...) can be given as an argument to the <code class="code">list</code> command.  The
command <kbd class="kbd">list --cards</kbd> prints a list of all inserted tokens.
</p>
<p>Note that the &ldquo;Displayed s/n&rdquo; is printed on the token and also
shown in Pinentry prompts asking for the PIN.  The four standard key
slots are always shown, if other key slots are initialized they are
shown as well.  The <em class="emph">PIV authentication</em> key (internal reference
<em class="emph">PIV.9A</em>) is used to authenticate the card and the card holder.
The use of the associated private key is protected by the Application
PIN which needs to be provided once and the key can the be used until
the card is reset or removed from the reader or USB port.  GnuPG uses
this key with its <em class="emph">Secure Shell</em> support.  The <em class="emph">Card
authentication</em> key (<em class="emph">PIV.9E</em>) is also known as the CAK and used
to support physical access applications.  The private key is not
protected by a PIN and can thus immediately be used.  The <em class="emph">Digital
signature</em> key (<em class="emph">PIV.9C</em>) is used to digitally sign documents.
The use of the associated private key is protected by the Application
PIN which needs to be provided for each signing operation.  The
<em class="emph">Key management</em> key (<em class="emph">PIV.9D</em>) is used for encryption.  The
use of the associated private key is protected by the Application PIN
which needs to be provided only once so that decryption operations can
then be done until the card is reset or removed from the reader or USB
port.
</p>
<p>We now generate three of the four keys.  Note that GnuPG does
currently not use the the <em class="emph">Card authentication</em> key; however,
that key is mandatory by the PIV standard and thus we create it too.
Key generation requires that we authenticate to the card.  This can be
done either on the command line (which would reveal the key):
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; auth 010203040506070801020304050607080102030405060708
</pre></div>

<p>or by reading the key from a file.  That file needs to consist of one
LF terminated line with the hex encoded key (as above):
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; auth &lt; myauth.key
</pre></div>

<p>As usual &lsquo;<samp class="samp">help auth</samp>&rsquo; gives help for this command.  An error
message is printed if a non-matching key is used.  The authentication
is valid until a reset of the card or until the card is removed from
the reader or the USB port.  Note that that in non-interactive mode
the &lsquo;<samp class="samp">&lt;</samp>&rsquo; needs to be quoted so that the shell does not interpret
it as a its own redirection symbol.
</p>
<p>Here are the actual commands to generate the keys:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; generate --algo=nistp384 PIV.9A
PIV card no. yk-9074625 detected
gpg/card&gt; generate --algo=nistp256 PIV.9E
PIV card no. yk-9074625 detected
gpg/card&gt; generate --algo=rsa2048 PIV.9C
PIV card no. yk-9074625 detected
</pre></div>

<p>If a key has already been created for one of the slots an error will
be printed; to create a new key anyway the option &lsquo;<samp class="samp">--force</samp>&rsquo; can be
used.  Note that only the private and public keys have been created
but no certificates are stored in the key slots.  In fact, GnuPG uses
its own non-standard method to store just the public key in place of
the the certificate.  Other application will not be able to make use
these keys until <code class="command">gpgsm</code> or another tool has been used to
create and store the respective certificates.   Let us see what the
list command now shows:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; list
Reader ...........: 1050:0407:X:0
Card type ........: yubikey
Card firmware ....: 5.1.2
Serial number ....: FF020001008A77C1
Application type .: PIV
Version ..........: 1.0
Displayed s/n ....: yk-9074625
PIN usage policy .: app-pin
PIN retry counter : - 3 -
PIV authentication: 213D1825FDE0F8240CB4E4229F01AF90AC658C2E
      keyref .....: PIV.9A  (auth)
      algorithm ..: nistp384
Card authenticat. : 7A53E6CFFE7220A0E646B4632EE29E5A7104499C
      keyref .....: PIV.9E  (auth)
      algorithm ..: nistp256
Digital signature : 32A6C6FAFCB8421878608AAB452D5470DD3223ED
      keyref .....: PIV.9C  (sign,cert)
      algorithm ..: rsa2048
Key management ...: [none]
      keyref .....: PIV.9D
</pre></div>

<p>The primary information for each key is the <em class="emph">keygrip</em>, a 40 byte
hex-string identifying the key.  This keygrip is a unique identifier
for the specific parameters of a key.  It is used by
<code class="command">gpg-agent</code> and other parts of GnuPG to associate a private
key to its protocol specific certificate format (X.509, OpenPGP, or
SecureShell).  Below the keygrip the key reference along with the key
usage capabilities are show.  Finally the algorithm is printed in the
format used by <code class="command">gpg</code>.  At that point no other information is
shown because for these new keys gpg won&rsquo;t be able to find matching
certificates.
</p>
<p>Although we could have created the <em class="emph">Key management</em> key also with
the generate command, we will create that key off-card so that a
backup exists.  To accomplish this a key needs to be created with
either <code class="command">gpg</code> or <code class="command">gpgsm</code> or imported in one of these
tools.  In our example we create a self-signed X.509 certificate (exit
the gpg-card tool, first):
</p>
<div class="example">
<pre class="example-preformatted">$ gpgsm --gen-key -o encr.crt
   (1) RSA
   (2) Existing key
   (3) Existing key from card
Your selection? 1
What keysize do you want? (3072) 2048
Requested keysize is 2048 bits
Possible actions for a RSA key:
   (1) sign, encrypt
   (2) sign
   (3) encrypt
Your selection? 3
Enter the X.509 subject name: CN=Encryption key for yk-9074625,O=example,C=DE
Enter email addresses (end with an empty line):
&gt; otto@example.net
&gt;
Enter DNS names (optional; end with an empty line):
&gt;
Enter URIs (optional; end with an empty line):
&gt;
Create self-signed certificate? (y/N) y
These parameters are used:
    Key-Type: RSA
    Key-Length: 2048
    Key-Usage: encrypt
    Serial: random
    Name-DN: CN=Encryption key for yk-9074625,O=example,C=DE
    Name-Email: otto@example.net

Proceed with creation? (y/N)
Now creating self-signed certificate.  This may take a while ...
gpgsm: about to sign the certificate for key: &amp;34798AAFE0A7565088101CC4AE31C5C8C74461CB
gpgsm: certificate created
Ready.
$ gpgsm --import encr.crt
gpgsm: certificate imported
gpgsm: total number processed: 1
gpgsm:               imported: 1
</pre></div>

<p>Note the last step which imported the created certificate.  If you
you instead created a certificate signing request (CSR) instead of a
self-signed certificate and sent this off to a CA you would do the
same import step with the certificate received from the CA.  Take note
of the keygrip (prefixed with an ampersand) as shown during the
certificate creation or listed it again using &lsquo;<samp class="samp">gpgsm
--with-keygrip -k otto@example.net</samp>&rsquo;.  Now to move the key and
certificate to the card start <code class="command">gpg-card</code> again and enter:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; writekey PIV.9D 34798AAFE0A7565088101CC4AE31C5C8C74461CB
gpg/card&gt; writecert PIV.9D &lt; encr.crt
</pre></div>

<p>If you entered a passphrase to protect the private key, you will be
asked for it via the Pinentry prompt.  On success the key and the
certificate has been written to the card and a <code class="code">list</code> command
shows:
</p>
<div class="example">
<pre class="example-preformatted">[...]
Key management ...: 34798AAFE0A7565088101CC4AE31C5C8C74461CB
      keyref .....: PIV.9D  (encr)
      algorithm ..: rsa2048
      used for ...: X.509
        user id ..: CN=Encryption key for yk-9074625,O=example,C=DE
        user id ..: &lt;otto@example.net&gt;
</pre></div>

<p>In case the same key (identified by the keygrip) has been used for
several certificates you will see several &ldquo;used for&rdquo; parts.  With
this the encryption key is now fully functional and can be used to
decrypt messages encrypted to this certificate.  <small class="sc">TAKE CARE:</small> the
original key is still stored on-disk and should be moved to a backup
medium.  This can simply be done by copying the file
<samp class="file">34798AAFE0A7565088101CC4AE31C5C8C74461CB.key</samp> from the directory
<samp class="file">~/.gnupg/private-keys-v1.d/</samp> to the backup medium and deleting
the file at its original place.
</p>
<p>The final example is to create a self-signed certificate for digital
signatures.  Leave <code class="command">gpg-card</code> using <code class="code">quit</code> or by pressing
Control-D and use gpgsm:
</p>
<div class="example">
<pre class="example-preformatted">$ gpgsm --learn
$ gpgsm --gen-key -o sign.crt
Please select what kind of key you want:
   (1) RSA
   (2) Existing key
   (3) Existing key from card
Your selection? 3
Serial number of the card: FF020001008A77C1
Available keys:
   (1) 213D1825FDE0F8240CB4E4229F01AF90AC658C2E PIV.9A nistp384
   (2) 7A53E6CFFE7220A0E646B4632EE29E5A7104499C PIV.9E nistp256
   (3) 32A6C6FAFCB8421878608AAB452D5470DD3223ED PIV.9C rsa2048
   (4) 34798AAFE0A7565088101CC4AE31C5C8C74461CB PIV.9D rsa2048
Your selection? 3
Possible actions for a RSA key:
   (1) sign, encrypt
   (2) sign
   (3) encrypt
Your selection? 2
Enter the X.509 subject name: CN=Signing key for yk-9074625,O=example,C=DE
Enter email addresses (end with an empty line):
&gt; otto@example.net
&gt;
Enter DNS names (optional; end with an empty line):
&gt;
Enter URIs (optional; end with an empty line):
&gt;
Create self-signed certificate? (y/N)
These parameters are used:
    Key-Type: card:PIV.9C
    Key-Length: 1024
    Key-Usage: sign
    Serial: random
    Name-DN: CN=Signing key for yk-9074625,O=example,C=DE
    Name-Email: otto@example.net

Proceed with creation? (y/N) y
Now creating self-signed certificate.  This may take a while ...
gpgsm: about to sign the certificate for key: &amp;32A6C6FAFCB8421878608AAB452D5470DD3223ED
gpgsm: certificate created
Ready.
$ gpgsm --import sign.crt
gpgsm: certificate imported
gpgsm: total number processed: 1
gpgsm:               imported: 1
</pre></div>

<p>The use of &lsquo;<samp class="samp">gpgsm --learn</samp>&rsquo; is currently necessary so that
gpg-agent knows what keys are available on the card.  The need for
this command will eventually be removed.  The remaining commands are
similar to the creation of an on-disk key.  However, here we select
the &lsquo;<samp class="samp">Digital signature</samp>&rsquo; key.  During the creation process you
will be asked for the Application PIN of the card.  The final step is
to write the certificate to the card using <code class="command">gpg-card</code>:
</p>
<div class="example">
<pre class="example-preformatted">gpg/card&gt; writecert PIV.9C &lt; sign.crt
</pre></div>

<p>By running list again we will see the fully initialized card:
</p>
<div class="example">
<pre class="example-preformatted">Reader ...........: 1050:0407:X:0
Card type ........: yubikey
Card firmware ....: 5.1.2
Serial number ....: FF020001008A77C1
Application type .: PIV
Version ..........: 1.0
Displayed s/n ....: yk-9074625
PIN usage policy .: app-pin
PIN retry counter : - [verified] -
PIV authentication: 213D1825FDE0F8240CB4E4229F01AF90AC658C2E
      keyref .....: PIV.9A  (auth)
      algorithm ..: nistp384
Card authenticat. : 7A53E6CFFE7220A0E646B4632EE29E5A7104499C
      keyref .....: PIV.9E  (auth)
      algorithm ..: nistp256
Digital signature : 32A6C6FAFCB8421878608AAB452D5470DD3223ED
      keyref .....: PIV.9C  (sign,cert)
      algorithm ..: rsa2048
      used for ...: X.509
        user id ..: CN=Signing key for yk-9074625,O=example,C=DE
        user id ..: &lt;otto@example.net&gt;
Key management ...: 34798AAFE0A7565088101CC4AE31C5C8C74461CB
      keyref .....: PIV.9D  (encr)
      algorithm ..: rsa2048
      used for ...: X.509
        user id ..: CN=Encryption key for yk-9074625,O=example,C=DE
        user id ..: &lt;otto@example.net&gt;
</pre></div>

<p>It is now possible to sign and to encrypt with this card using gpgsm
and to use the &lsquo;<samp class="samp">PIV authentication</samp>&rsquo; key with ssh:
</p>
<div class="example">
<pre class="example-preformatted">$ ssh-add -l
384 SHA256:0qnJ0Y0ehWxKcx2frLfEljf6GCdlO55OZed5HqGHsaU cardno:yk-9074625 (ECDSA)
</pre></div>

<p>As usual use ssh-add with the uppercase &lsquo;<samp class="samp">-L</samp>&rsquo; to list the public
ssh key.  To use the certificates with Thunderbird or Mozilla, please
consult the Scute manual for details.
</p>
<p>If you want to use the same PIV keys also for OpenPGP (for example on
a Yubikey to avoid switching between OpenPGP and PIV), this is also
possible:
</p>
<div class="example">
<pre class="example-preformatted">$ gpgsm --learn
$ gpg --full-gen-key
Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
  (14) Existing key from card
Your selection? 14
Serial number of the card: FF020001008A77C1
Available keys:
   (1) 213D1825FDE0F8240CB4E4229F01AF90AC658C2E PIV.9A nistp384 (auth)
   (2) 7A53E6CFFE7220A0E646B4632EE29E5A7104499C PIV.9E nistp256 (auth)
   (3) 32A6C6FAFCB8421878608AAB452D5470DD3223ED PIV.9C rsa2048 (cert,sign)
   (4) 34798AAFE0A7565088101CC4AE31C5C8C74461CB PIV.9D rsa2048 (encr)
Your selection? 3
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct? (y/N) y

GnuPG needs to construct a user ID to identify your key.

Real name:
Email address: otto@example.net
Comment:
You selected this USER-ID:
    &quot;otto@example.net&quot;

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
gpg: key C3AFA9ED971BB365 marked as ultimately trusted
gpg: revocation certificate stored as '[...]D971BB365.rev'
public and secret key created and signed.

Note that this key cannot be used for encryption.  You may want to use
the command &quot;--edit-key&quot; to generate a subkey for this purpose.
pub   rsa2048 2019-04-04 [SC]
      7F899AE2FB73159DD68A1B20C3AFA9ED971BB365
uid                      otto@example.net
</pre></div>

<p>Note that you will be asked two times to enter the PIN of your PIV
card.  If you run <code class="command">gpg</code> in <samp class="option">--expert</samp> mode you will
also ge given the option to change the usage flags of the key.  The next
typescript shows how to add the encryption subkey:
</p>
<div class="example">
<pre class="example-preformatted">$ gpg --edit-key 7F899AE2FB73159DD68A1B20C3AFA9ED971BB365
Secret key is available.

sec  rsa2048/C3AFA9ED971BB365
     created: 2019-04-04  expires: never       usage: SC
     card-no: FF020001008A77C1
     trust: ultimate      validity: ultimate
[ultimate] (1). otto@example.net
gpg&gt; addkey
Secret parts of primary key are stored on-card.
Please select what kind of key you want:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
  (14) Existing key from card
Your selection? 14
Serial number of the card: FF020001008A77C1
Available keys:
   (1) 213D1825FDE0F8240CB4E4229F01AF90AC658C2E PIV.9A nistp384 (auth)
   (2) 7A53E6CFFE7220A0E646B4632EE29E5A7104499C PIV.9E nistp256 (auth)
   (3) 32A6C6FAFCB8421878608AAB452D5470DD3223ED PIV.9C rsa2048 (cert,sign)
   (4) 34798AAFE0A7565088101CC4AE31C5C8C74461CB PIV.9D rsa2048 (encr)
Your selection? 4
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct? (y/N) y
Really create? (y/N) y

sec  rsa2048/C3AFA9ED971BB365
     created: 2019-04-04  expires: never       usage: SC
     card-no: FF020001008A77C1
     trust: ultimate      validity: ultimate
ssb  rsa2048/7067860A98FCE6E1
     created: 2019-04-04  expires: never       usage: E
     card-no: FF020001008A77C1
[ultimate] (1). otto@example.net

gpg&gt; save
</pre></div>

<p>Now you can use your PIV card also with <code class="command">gpg</code>.
</p>






<hr>
</div>
</div>
<div class="chapter-level-extent" id="Helper-Tools">
<div class="nav-panel">
<p>
Next: <a href="#Web-Key-Service" accesskey="n" rel="next">Web Key Service</a>, Previous: <a href="#Smart-Card-Tool" accesskey="p" rel="prev">Smart Card Tool</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Helper-Tools-1"><span>10 Helper Tools<a class="copiable-link" href="#Helper-Tools-1"> &para;</a></span></h2>

<p>GnuPG comes with a couple of smaller tools:
</p>


<ul class="mini-toc">
<li><a href="#watchgnupg" accesskey="1">Read logs from a socket</a></li>
<li><a href="#gpgv" accesskey="2">Verify OpenPGP signatures</a></li>
<li><a href="#addgnupghome" accesskey="3">Create .gnupg home directories</a></li>
<li><a href="#gpgconf" accesskey="4">Modify .gnupg home directories</a></li>
<li><a href="#applygnupgdefaults" accesskey="5">Run gpgconf for all users</a></li>
<li><a href="#gpg_002dpreset_002dpassphrase" accesskey="6">Put a passphrase into the cache</a></li>
<li><a href="#gpg_002dconnect_002dagent" accesskey="7">Communicate with a running agent</a></li>
<li><a href="#dirmngr_002dclient" accesskey="8">The Dirmngr Client Tool</a></li>
<li><a href="#gpgparsemail" accesskey="9">Parse a mail message into an annotated format</a></li>
<li><a href="#gpgtar">Encrypt or sign files into an archive</a></li>
<li><a href="#gpg_002dcheck_002dpattern">Check a passphrase on stdin against the patternfile</a></li>
</ul>
<hr>
<div class="section-level-extent" id="watchgnupg">
<div class="nav-panel">
<p>
Next: <a href="#gpgv" accesskey="n" rel="next">Verify OpenPGP signatures</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Read-logs-from-a-socket"><span>10.1 Read logs from a socket<a class="copiable-link" href="#Read-logs-from-a-socket"> &para;</a></span></h3>




<p>Most of the main utilities are able to write their log files to a Unix
Domain socket if configured that way.  <code class="command">watchgnupg</code> is a simple
listener for such a socket.  It ameliorates the output with a time stamp
and makes sure that long lines are not interspersed with log output from
other utilities.  This tool is not available for Windows.
</p>
<p><code class="command">watchgnupg</code> is commonly invoked as
</p>
<div class="example">
<pre class="example-preformatted">watchgnupg
</pre></div>

<p>which is a shorthand for
</p>
<div class="example">
<pre class="example-preformatted">watchgnupg --force $(gpgconf --list-dirs socketdir)/S.log
</pre></div>

<p>To watch GnuPG running with a different home directory, use
</p>
<div class="example">
<pre class="example-preformatted">watchgnupg --homedir DIR
</pre></div>


<p>This starts it on the current terminal for listening on the standard
logging socket (this is commonly <samp class="file">/var/run/user/UID/gnupg/S.log</samp>
or if no such user directory hierarchy exists <samp class="file">~/.gnupg/S.log</samp>).
</p>

<p><code class="command">watchgnupg</code> understands these options:
</p>
<dl class="table">
<dt><a id="index-force-1"></a><span><code class="code">--force</code><a class="copiable-link" href="#index-force-1"> &para;</a></span></dt>
<dd><p>Delete an already existing socket file.  This option is implicitly used
if no socket name has been given on the command line.
</p>
</dd>
<dt><code class="code">--homedir <var class="var">DIR</var></code></dt>
<dd><p>If no socket name is given on the command line, pass <var class="var">DIR</var> to
gpgconf so that the socket for a GnuPG running with DIR has its home
directory is used.  Note that the environment variable <var class="var">GNUPGHOME</var>
is ignored by watchgnupg.
</p>
<a class="anchor" id="option-watchgnupg-_002d_002dtcp"></a></dd>
<dt><code class="code">--tcp <var class="var">n</var></code></dt>
<dd><p>Instead of reading from a local socket, listen for connects on TCP
port <var class="var">n</var>.  A Unix domain socket can optionally also be given as a
second source.  This option does not use a default socket name.
</p>
</dd>
<dt><a id="index-time_002donly"></a><span><code class="code">--time-only</code><a class="copiable-link" href="#index-time_002donly"> &para;</a></span></dt>
<dd><p>Do not print the date part of the timestamp.
</p>
</dd>
<dt><a id="index-verbose-6"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-6"> &para;</a></span></dt>
<dd><p>Enable extra informational output.
</p>
</dd>
<dt><a id="index-version-6"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-6"> &para;</a></span></dt>
<dd><p>Print version of the program and exit.
</p>
</dd>
<dt><a id="index-help-6"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help-6"> &para;</a></span></dt>
<dd><p>Display a brief help page and exit.
</p>
</dd>
</dl>


<h2 class="chapheading" id="Examples-6"><span>Examples<a class="copiable-link" href="#Examples-6"> &para;</a></span></h2>

<div class="example">
<pre class="example-preformatted">$ watchgnupg --time-only
</pre></div>

<p>This waits for connections on the local socket
(e.g. <samp class="file">/var/run/user/1234/gnupg/S.log</samp>) and shows all log
entries.  To make this work the option <samp class="option">log-file</samp> needs to be
used with all modules which logs are to be shown.  The suggested entry
for the configuration files is:
</p>
<div class="example">
<pre class="example-preformatted">log-file socket://
</pre></div>

<p>If the default socket as given above and returned by &quot;echo $(gpgconf
&ndash;list-dirs socketdir)/S.log&quot; is not desired an arbitrary socket name
can be specified, for example <samp class="file">socket:///home/foo/bar/mysocket</samp>.
For debugging purposes it is also possible to do remote logging.  Take
care if you use this feature because the information is send in the
clear over the network.  Use this syntax in the conf files:
</p>
<div class="example">
<pre class="example-preformatted">log-file tcp://192.168.1.1:4711
</pre></div>

<p>You may use any port and not just 4711 as shown above; only IP
addresses are supported (v4 and v6) and no host names.  You need to
start <code class="command">watchgnupg</code> with the <samp class="option">tcp</samp> option.  Note that
under Windows the registry entry
<var class="var">HKCU\Software\GNU\GnuPG:DefaultLogFile</var> can be used to change the
default log output from <code class="code">stderr</code> to whatever is given by that
entry.  However the only useful entry is a TCP name for remote
debugging.
</p>











<hr>
</div>
<div class="section-level-extent" id="gpgv">
<div class="nav-panel">
<p>
Next: <a href="#addgnupghome" accesskey="n" rel="next">Create .gnupg home directories</a>, Previous: <a href="#watchgnupg" accesskey="p" rel="prev">Read logs from a socket</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Verify-OpenPGP-signatures"><span>10.2 Verify OpenPGP signatures<a class="copiable-link" href="#Verify-OpenPGP-signatures"> &para;</a></span></h3>





<p><code class="code">gpgv</code> is an OpenPGP signature verification tool.
</p>
<p>This program is actually a stripped-down version of <code class="code">gpg</code> which is
only able to check signatures. It is somewhat smaller than the fully-blown
<code class="code">gpg</code> and uses a different (and simpler) way to check that
the public keys used to make the signature are valid. There are
no configuration files and only a few options are implemented.
</p>
<p><code class="code">gpgv</code> assumes that all keys in the keyring are trustworthy.
That does also mean that it does not check for expired or revoked
keys.
</p>
<p>If no <code class="code">--keyring</code> option is given, <code class="code">gpgv</code> looks for a
&ldquo;default&rdquo; keyring named <samp class="file">trustedkeys.kbx</samp> (preferred) or
<samp class="file">trustedkeys.gpg</samp> in the home directory of GnuPG, either the
default home directory or the one set by the <code class="code">--homedir</code> option
or the <code class="code">GNUPGHOME</code> environment variable.  If any <code class="code">--keyring</code>
option is used, <code class="code">gpgv</code> will not look for the default keyring. The
<code class="code">--keyring</code> option may be used multiple times and all specified
keyrings will be used together.
</p>

<p><code class="code">gpgv</code> recognizes these options:
</p>
<dl class="table">
<dt><a id="index-verbose-7"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-7"> &para;</a></span></dt>
<dt><code class="code">-v</code></dt>
<dd><p>Gives more information during processing. If used
twice, the input data is listed in detail.
</p>
</dd>
<dt><a id="index-quiet-3"></a><span><code class="code">--quiet</code><a class="copiable-link" href="#index-quiet-3"> &para;</a></span></dt>
<dt><code class="code">-q</code></dt>
<dd><p>Try to be as quiet as possible.
</p>
</dd>
<dt><a id="index-keyring-1"></a><span><code class="code">--keyring <var class="var">file</var></code><a class="copiable-link" href="#index-keyring-1"> &para;</a></span></dt>
<dd><p>Add <var class="var">file</var> to the list of keyrings.
If <var class="var">file</var> begins with a tilde and a slash, these
are replaced by the HOME directory. If the filename
does not contain a slash, it is assumed to be in the
home-directory (&quot;~/.gnupg&quot; if &ndash;homedir is not used).
</p>
</dd>
<dt><a id="index-output-2"></a><span><code class="code">--output <var class="var">file</var></code><a class="copiable-link" href="#index-output-2"> &para;</a></span></dt>
<dt><code class="code">-o <var class="var">file</var></code></dt>
<dd><p>Write output to <var class="var">file</var>; to write to stdout use <code class="code">-</code>.  This
option can be used to get the signed text from a cleartext or binary
signature; it also works for detached signatures, but in that case
this option is in general not useful.  Note that an existing file will
be overwritten.
</p>

</dd>
<dt><a id="index-status_002dfd-2"></a><span><code class="code">--status-fd <var class="var">n</var></code><a class="copiable-link" href="#index-status_002dfd-2"> &para;</a></span></dt>
<dd><p>Write special status strings to the file descriptor <var class="var">n</var>.  See the
file DETAILS in the documentation for a listing of them.
</p>
</dd>
<dt><a id="index-logger_002dfd-1"></a><span><code class="code">--logger-fd <code class="code">n</code></code><a class="copiable-link" href="#index-logger_002dfd-1"> &para;</a></span></dt>
<dd><p>Write log output to file descriptor <code class="code">n</code> and not to stderr.
</p>
</dd>
<dt><a id="index-log_002dfile-5"></a><span><code class="code">--log-file <code class="code">file</code></code><a class="copiable-link" href="#index-log_002dfile-5"> &para;</a></span></dt>
<dd><p>Same as <samp class="option">--logger-fd</samp>, except the logger data is written to
file <code class="code">file</code>.  Use <samp class="file">socket://</samp> to log to socket.
</p>
</dd>
<dt><a id="index-ignore_002dtime_002dconflict-1"></a><span><code class="code">--ignore-time-conflict</code><a class="copiable-link" href="#index-ignore_002dtime_002dconflict-1"> &para;</a></span></dt>
<dd><p>GnuPG normally checks that the timestamps associated with keys and
signatures have plausible values. However, sometimes a signature seems to
be older than the key due to clock problems. This option turns these
checks into warnings.
</p>
</dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME-5"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-4"></a>
<a id="index-homedir-4"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir-4"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>
</dd>
<dt><a id="index-weak_002ddigest-1"></a><span><code class="code">--weak-digest <code class="code">name</code></code><a class="copiable-link" href="#index-weak_002ddigest-1"> &para;</a></span></dt>
<dd><p>Treat the specified digest algorithm as weak.  Signatures made over
weak digests algorithms are normally rejected. This option can be
supplied multiple times if multiple algorithms should be considered
weak.  MD5 is always considered weak, and does not need to be listed
explicitly.
</p>
</dd>
<dt><a id="index-enable_002dspecial_002dfilenames-1"></a><span><code class="code">--enable-special-filenames</code><a class="copiable-link" href="#index-enable_002dspecial_002dfilenames-1"> &para;</a></span></dt>
<dd><p>This option enables a mode in which filenames of the form
<samp class="file">-&amp;n</samp>, where n is a non-negative decimal number,
refer to the file descriptor n and not to a file with that name.
</p>
</dd>
<dt><a id="index-assert_002dpubkey_002dalgo-1"></a><span><code class="code">--assert-pubkey-algo <var class="var">algolist</var></code><a class="copiable-link" href="#index-assert_002dpubkey_002dalgo-1"> &para;</a></span></dt>
<dd><p>This option works in the same way as described for <code class="command">gpg</code>.
</p>
</dd>
</dl>



<p>The program returns 0 if everything is fine, 1 if at least
one signature was bad, and other error codes for fatal errors.
</p>

<ul class="mini-toc">
<li><a href="#Examples-5" accesskey="1">Examples</a></li>
<li><a href="#Environment" accesskey="2">Environment</a></li>
<li><a href="#FILES" accesskey="3">FILES</a></li>
</ul>
<div class="subsection-level-extent" id="Examples-5">
<h4 class="subsection"><span>10.2.1 Examples<a class="copiable-link" href="#Examples-5"> &para;</a></span></h4>

<dl class="table">
<dt>gpgv <code class="code">pgpfile</code></dt>
<dt>gpgv <code class="code">sigfile</code> [<code class="code">datafile</code>]</dt>
<dd><p>Verify the signature of the file. The second form is used for detached
signatures, where <code class="code">sigfile</code> is the detached signature (either
ASCII-armored or binary) and <code class="code">datafile</code> contains the signed data;
if <code class="code">datafile</code> is &quot;-&quot; the signed data is expected on
<code class="code">stdin</code>; if <code class="code">datafile</code> is not given the name of the file
holding the signed data is constructed by cutting off the extension
(&quot;.asc&quot;, &quot;.sig&quot; or &quot;.sign&quot;) from <code class="code">sigfile</code>.
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="Environment">
<h4 class="subsection"><span>10.2.2 Environment<a class="copiable-link" href="#Environment"> &para;</a></span></h4>

<dl class="table">
<dt>HOME</dt>
<dd><p>Used to locate the default home directory.
</p>
</dd>
<dt>GNUPGHOME</dt>
<dd><p>If set directory used instead of &quot;~/.gnupg&quot;.
</p>
</dd>
</dl>


</div>
<div class="subsection-level-extent" id="FILES">
<h4 class="subsection"><span>10.2.3 FILES<a class="copiable-link" href="#FILES"> &para;</a></span></h4>

<dl class="table">
<dt>~/.gnupg/trustedkeys.gpg</dt>
<dd><p>The default keyring with the allowed keys.
</p>
</dd>
</dl>


<p><code class="command">gpg</code>(1)
</p>



<hr>
</div>
</div>
<div class="section-level-extent" id="addgnupghome">
<div class="nav-panel">
<p>
Next: <a href="#gpgconf" accesskey="n" rel="next">Modify .gnupg home directories</a>, Previous: <a href="#gpgv" accesskey="p" rel="prev">Verify OpenPGP signatures</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Create-_002egnupg-home-directories"><span>10.3 Create .gnupg home directories<a class="copiable-link" href="#Create-_002egnupg-home-directories"> &para;</a></span></h3>




<p>If GnuPG is installed on a system with existing user accounts, it is
sometimes required to populate the GnuPG home directory with existing
files.  Especially a <samp class="file">trustlist.txt</samp> and a keybox with some
initial certificates are often desired.  This script helps to do this
by copying all files from <samp class="file">/etc/skel/.gnupg</samp> to the home
directories of the accounts given on the command line.  It takes care
not to overwrite existing GnuPG home directories.
</p>
<p><code class="command">addgnupghome</code> is invoked by root as:
</p>
<div class="example">
<pre class="example-preformatted">addgnupghome account1 account2 ... accountn
</pre></div>



<hr>
</div>
<div class="section-level-extent" id="gpgconf">
<div class="nav-panel">
<p>
Next: <a href="#applygnupgdefaults" accesskey="n" rel="next">Run gpgconf for all users</a>, Previous: <a href="#addgnupghome" accesskey="p" rel="prev">Create .gnupg home directories</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Modify-_002egnupg-home-directories"><span>10.4 Modify .gnupg home directories<a class="copiable-link" href="#Modify-_002egnupg-home-directories"> &para;</a></span></h3>





<p>The <code class="command">gpgconf</code> is a utility to automatically and reasonable
safely query and modify configuration files in the <samp class="file">.gnupg</samp> home
directory.  It is designed not to be invoked manually by the user, but
automatically by graphical user interfaces (GUI).<a class="footnote" id="DOCF3" href="#FOOT3"><sup>3</sup></a>
</p>
<p><code class="command">gpgconf</code> provides access to the configuration of one or more
components of the GnuPG system.  These components correspond more or
less to the programs that exist in the GnuPG framework, like GPG,
GPGSM, DirMngr, etc.  But this is not a strict one-to-one
relationship.  Not all configuration options are available through
<code class="command">gpgconf</code>.  <code class="command">gpgconf</code> provides a generic and abstract
method to access the most important configuration options that can
feasibly be controlled via such a mechanism.
</p>
<p><code class="command">gpgconf</code> can be used to gather and change the options
available in each component, and can also provide their default
values.  <code class="command">gpgconf</code> will give detailed type information that
can be used to restrict the user&rsquo;s input without making an attempt to
commit the changes.
</p>
<p><code class="command">gpgconf</code> provides the backend of a configuration editor.  The
configuration editor would usually be a graphical user interface
program that displays the current options, their default
values, and allows the user to make changes to the options.  These
changes can then be made active with <code class="command">gpgconf</code> again.  Such a
program that uses <code class="command">gpgconf</code> in this way will be called GUI
throughout this section.
</p>


<ul class="mini-toc">
<li><a href="#Invoking-gpgconf" accesskey="1">Invoking gpgconf</a></li>
<li><a href="#Format-conventions" accesskey="2">Format conventions</a></li>
<li><a href="#Listing-components" accesskey="3">Listing components</a></li>
<li><a href="#Checking-programs" accesskey="4">Checking programs</a></li>
<li><a href="#Listing-options" accesskey="5">Listing options</a></li>
<li><a href="#Changing-options" accesskey="6">Changing options</a></li>
<li><a href="#Listing-global-options" accesskey="7">Listing global options</a></li>
<li><a href="#Querying-versions" accesskey="8">Get and compare software versions.</a></li>
<li><a href="#Files-used-by-gpgconf" accesskey="9">Files used by gpgconf</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Invoking-gpgconf">
<div class="nav-panel">
<p>
Next: <a href="#Format-conventions" accesskey="n" rel="next">Format conventions</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Invoking-gpgconf-1"><span>10.4.1 Invoking gpgconf<a class="copiable-link" href="#Invoking-gpgconf-1"> &para;</a></span></h4>


<p>One of the following commands must be given:
</p>
<dl class="table">
<dt><code class="code">--list-components</code></dt>
<dd><p>List all components.  This is the default command used if none is
specified.
</p>
</dd>
<dt><code class="code">--check-programs</code></dt>
<dd><p>List all available backend programs and test whether they are runnable.
</p>
</dd>
<dt><code class="code">--list-options <var class="var">component</var></code></dt>
<dd><p>List all options of the component <var class="var">component</var>.
</p>
</dd>
<dt><code class="code">--change-options <var class="var">component</var></code></dt>
<dd><p>Change the options of the component <var class="var">component</var>.
</p>
</dd>
<dt><code class="code">--check-options <var class="var">component</var></code></dt>
<dd><p>Check the options for the component <var class="var">component</var>.
</p>
</dd>
<dt><code class="code">--apply-profile <var class="var">file</var></code></dt>
<dd><p>Apply the configuration settings listed in <var class="var">file</var> to the
configuration files.  If <var class="var">file</var> has no suffix and no slashes the
command first tries to read a file with the suffix <code class="code">.prf</code> from
the data directory (<code class="code">gpgconf --list-dirs datadir</code>) before it
reads the file verbatim.  A profile is divided into sections using the
bracketed  component name.  Each section then lists the option which
shall go into the respective configuration file.
</p>
</dd>
<dt><code class="code">--apply-defaults</code></dt>
<dd><p>Update all configuration files with values taken from the global
configuration file (usually <samp class="file">/etc/gnupg/gpgconf.conf</samp>).
Note: This is a legacy mechanism.  Please use global configuration
files instead.
</p>
</dd>
<dt><code class="code">--list-dirs [<var class="var">names</var>]</code></dt>
<dt><code class="code">-L</code></dt>
<dd><p>Lists the directories used by <code class="command">gpgconf</code>.  One directory is
listed per line, and each line consists of a colon-separated list where
the first field names the directory type (for example <code class="code">sysconfdir</code>)
and the second field contains the percent-escaped directory.  Although
they are not directories, the socket file names used by
<code class="command">gpg-agent</code> and <code class="command">dirmngr</code> are printed as well.  Note
that the socket file names and the <code class="code">homedir</code> lines are the default
names and they may be overridden by command line switches.  If
<var class="var">names</var> are given only the directories or file names specified by
the list names are printed without any escaping.
</p>
</dd>
<dt><code class="code">--list-config [<var class="var">filename</var>]</code></dt>
<dd><p>List the global configuration file in a colon separated format.  If
<var class="var">filename</var> is given, check that file instead.
</p>
</dd>
<dt><code class="code">--check-config [<var class="var">filename</var>]</code></dt>
<dd><p>Run a syntax check on the global configuration file.  If <var class="var">filename</var>
is given, check that file instead.
</p>

</dd>
<dt><code class="code">--query-swdb <var class="var">package_name</var> [<var class="var">version_string</var>]</code></dt>
<dd><p>Returns the current version for <var class="var">package_name</var> and if
<var class="var">version_string</var> is given also an indicator on whether an update
is available.  The actual file with the software version is
automatically downloaded and checked by <code class="command">dirmngr</code>.
<code class="command">dirmngr</code> uses a thresholds to avoid download the file too
often and it does this by default only if it can be done via Tor.  To
force an update of that file this command can be used:
</p>
<div class="example">
<pre class="example-preformatted">       gpg-connect-agent --dirmngr 'loadswdb --force' /bye
</pre></div>

</dd>
<dt><a id="index-reload"></a><span><code class="code">--reload [<var class="var">component</var>]</code><a class="copiable-link" href="#index-reload"> &para;</a></span></dt>
<dt><code class="code">-R</code></dt>
<dd><p>Reload all or the given component. This is basically the same as
sending a SIGHUP to the component.  Components which don&rsquo;t support
reloading are ignored.  Without <var class="var">component</var> or by using &quot;all&quot; for
<var class="var">component</var> all components which are daemons are reloaded.
</p>
</dd>
<dt><a id="index-launch"></a><span><code class="code">--launch [<var class="var">component</var>]</code><a class="copiable-link" href="#index-launch"> &para;</a></span></dt>
<dd><p>If the <var class="var">component</var> is not already running, start it.
<code class="command">component</code> must be a daemon.  This is in general not required
because the system starts these daemons as needed.  However, external
software making direct use of <code class="command">gpg-agent</code> or <code class="command">dirmngr</code>
may use this command to ensure that they are started.  Using &quot;all&quot; for
<var class="var">component</var> launches all components which are daemons.
</p>
</dd>
<dt><a id="index-kill"></a><span><code class="code">--kill [<var class="var">component</var>]</code><a class="copiable-link" href="#index-kill"> &para;</a></span></dt>
<dt><code class="code">-K</code></dt>
<dd><p>Kill the given component that runs as a daemon, including
<code class="command">gpg-agent</code>, <code class="command">dirmngr</code>, and <code class="command">scdaemon</code>.  A
<code class="command">component</code> which does not run as a daemon will be ignored.
Using &quot;all&quot; for <var class="var">component</var> kills all components running as
daemons.  Note that as of now reload and kill have the same effect for
<code class="command">scdaemon</code>.
</p>
</dd>
<dt><a id="index-create_002dsocketdir"></a><span><code class="code">--create-socketdir</code><a class="copiable-link" href="#index-create_002dsocketdir"> &para;</a></span></dt>
<dd><p>Create a directory for sockets below /run/user or /var/run/user.  This
is command is only required if a non default home directory is used
and the /run based sockets shall be used.  For the default home
directory GnuPG creates a directory on the fly.
</p>
</dd>
<dt><a id="index-remove_002dsocketdir"></a><span><code class="code">--remove-socketdir</code><a class="copiable-link" href="#index-remove_002dsocketdir"> &para;</a></span></dt>
<dd><p>Remove a directory created with command <samp class="option">--create-socketdir</samp>.
</p>
</dd>
<dt><code class="code">--unlock <var class="var">name</var></code></dt>
<dt><code class="code">--lock <var class="var">name</var></code></dt>
<dd><p>Remove a stale lock file hold for <samp class="file">file</samp>.  The file is
expected in the current GnuPG home directory.  This command is usually
not required because GnuPG is able to detect and remove stale lock
files.  Before using the command make sure that the file protected by
the lock file is actually not in use.  The lock command may be used to
lock an accidentally removed lock file.  Note that the commands have no
effect on Windows because the mere existence of a lock file does not
mean that the lock is active.
</p>
</dd>
</dl>




<p>The following options may be used:
</p>
<dl class="table">
<dt><code class="code">-o <var class="var">file</var></code></dt>
<dt><code class="code">--output <var class="var">file</var></code></dt>
<dd><p>Write output to <var class="var">file</var>.  Default is to write to stdout.
</p>
</dd>
<dt><code class="code">-v</code></dt>
<dt><code class="code">--verbose</code></dt>
<dd><p>Outputs additional information while running.  Specifically, this
extends numerical field values by human-readable descriptions.
</p>
</dd>
<dt><a id="index-quiet-4"></a><span><code class="code">-q</code><a class="copiable-link" href="#index-quiet-4"> &para;</a></span></dt>
<dt><code class="code">--quiet</code></dt>
<dd><p>Try to be as quiet as possible.
</p>
</dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME-6"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-5"></a>
<a id="index-homedir-5"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir-5"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>
</dd>
<dt><a id="index-chuid-3"></a><span><code class="code">--chuid <var class="var">uid</var></code><a class="copiable-link" href="#index-chuid-3"> &para;</a></span></dt>
<dd><p>Change the current user to <var class="var">uid</var> which may either be a number or a
name.  This can be used from the root account to get information on
the GnuPG environment of the specified user or to start or kill
daemons.  If <var class="var">uid</var> is not the current UID a standard PATH is set
and the envvar GNUPGHOME is unset.  To override the latter the option
<samp class="option">--homedir</samp> can be used.  This option has currently no effect
on Windows.
</p>
</dd>
<dt><code class="code">-n</code></dt>
<dt><code class="code">--dry-run</code></dt>
<dd><p>Do not actually change anything.  This is currently only implemented
for <code class="code">--change-options</code> and can be used for testing purposes.
</p>
</dd>
<dt><code class="code">-r</code></dt>
<dt><code class="code">--runtime</code></dt>
<dd><p>Only used together with <code class="code">--change-options</code>.  If one of the
modified options can be changed in a running daemon process, signal
the running daemon to ask it to reparse its configuration file after
changing.
</p>
<p>This means that the changes will take effect at run-time, as far as
this is possible.  Otherwise, they will take effect at the next start
of the respective backend programs.
</p>
</dd>
<dt><a id="index-status_002dfd-3"></a><span><code class="code">--status-fd <var class="var">n</var></code><a class="copiable-link" href="#index-status_002dfd-3"> &para;</a></span></dt>
<dd><p>Write special status strings to the file descriptor <var class="var">n</var>.  This
program returns the status messages SUCCESS or FAILURE which are
helpful when the caller uses a double fork approach and can&rsquo;t easily
get the return code of the process.
</p>

</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Format-conventions">
<div class="nav-panel">
<p>
Next: <a href="#Listing-components" accesskey="n" rel="next">Listing components</a>, Previous: <a href="#Invoking-gpgconf" accesskey="p" rel="prev">Invoking gpgconf</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Format-conventions-1"><span>10.4.2 Format conventions<a class="copiable-link" href="#Format-conventions-1"> &para;</a></span></h4>

<p>Some lines in the output of <code class="command">gpgconf</code> contain a list of
colon-separated fields.  The following conventions apply:
</p>
<ul class="itemize mark-bullet">
<li>The GUI program is required to strip off trailing newline and/or
carriage return characters from the output.

</li><li><code class="command">gpgconf</code> will never leave out fields.  If a certain version
provides a certain field, this field will always be present in all
<code class="command">gpgconf</code> versions from that time on.

</li><li>Future versions of <code class="command">gpgconf</code> might append fields to the list.
New fields will always be separated from the previously last field by
a colon separator.  The GUI should be prepared to parse the last field
it knows about up until a colon or end of line.

</li><li>Not all fields are defined under all conditions.  You are required to
ignore the content of undefined fields.
</li></ul>

<p>There are several standard types for the content of a field:
</p>
<dl class="table">
<dt>verbatim</dt>
<dd><p>Some fields contain strings that are not escaped in any way.  Such
fields are described to be used <em class="emph">verbatim</em>.  These fields will
never contain a colon character (for obvious reasons).  No de-escaping
or other formatting is required to use the field content.  This is for
easy parsing of the output, when it is known that the content can
never contain any special characters.
</p>
</dd>
<dt>percent-escaped</dt>
<dd><p>Some fields contain strings that are described to be
<em class="emph">percent-escaped</em>.  Such strings need to be de-escaped before
their content can be presented to the user.  A percent-escaped string
is de-escaped by replacing all occurrences of <code class="code">%XY</code> by the byte
that has the hexadecimal value <code class="code">XY</code>.  <code class="code">X</code> and <code class="code">Y</code> are
from the set <code class="code">0-9a-f</code>.
</p>
</dd>
<dt>localized</dt>
<dd><p>Some fields contain strings that are described to be <em class="emph">localized</em>.
Such strings are translated to the active language and formatted in
the active character set.
</p>
</dd>
<dt>unsigned&nbsp;number<!-- /@w --></dt>
<dd><p>Some fields contain an <em class="emph">unsigned number</em>.  This number will
always fit into a 32-bit unsigned integer variable.  The number may be
followed by a space, followed by a human readable description of that
value (if the verbose option is used).  You should ignore everything
in the field that follows the number.
</p>
</dd>
<dt>signed&nbsp;number<!-- /@w --></dt>
<dd><p>Some fields contain a <em class="emph">signed number</em>.  This number will always
fit into a 32-bit signed integer variable.  The number may be followed
by a space, followed by a human readable description of that value (if
the verbose option is used).  You should ignore everything in the
field that follows the number.
</p>
</dd>
<dt>boolean&nbsp;value<!-- /@w --></dt>
<dd><p>Some fields contain a <em class="emph">boolean value</em>.  This is a number with
either the value 0 or 1.  The number may be followed by a space,
followed by a human readable description of that value (if the verbose
option is used).  You should ignore everything in the field that follows
the number; checking just the first character is sufficient in this
case.
</p>
</dd>
<dt>option</dt>
<dd><p>Some fields contain an <em class="emph">option</em> argument.  The format of an
option argument depends on the type of the option and on some flags:
</p>
<dl class="table">
<dt>no argument</dt>
<dd><p>The simplest case is that the option does not take an argument at all
(<var class="var">type</var> <code class="code">0</code>).  Then the option argument is an unsigned number
that specifies how often the option occurs.  If the <code class="code">list</code> flag
is not set, then the only valid number is <code class="code">1</code>.  Options that do
not take an argument never have the <code class="code">default</code> or <code class="code">optional
arg</code> flag set.
</p>
</dd>
<dt>number</dt>
<dd><p>If the option takes a number argument (<var class="var">alt-type</var> is <code class="code">2</code> or
<code class="code">3</code>), and it can only occur once (<code class="code">list</code> flag is not set),
then the option argument is either empty (only allowed if the argument
is optional), or it is a number.  A number is a string that begins
with an optional minus character, followed by one or more digits.  The
number must fit into an integer variable (unsigned or signed,
depending on <var class="var">alt-type</var>).
</p>
</dd>
<dt>number list</dt>
<dd><p>If the option takes a number argument and it can occur more than once,
then the option argument is either empty, or it is a comma-separated
list of numbers as described above.
</p>
</dd>
<dt>string</dt>
<dd><p>If the option takes a string argument (<var class="var">alt-type</var> is 1), and it
can only occur once (<code class="code">list</code> flag is not set) then the option
argument is either empty (only allowed if the argument is optional),
or it starts with a double quote character (<code class="code">&quot;</code>) followed by a
percent-escaped string that is the argument value.  Note that there is
only a leading double quote character, no trailing one.  The double
quote character is only needed to be able to differentiate between no
value and the empty string as value.
</p>
</dd>
<dt>string list</dt>
<dd><p>If the option takes a string argument and it can occur more than once,
then the option argument is either empty, or it is a comma-separated
list of string arguments as described above.
</p></dd>
</dl>
</dd>
</dl>

<p>The active language and character set are currently determined from
the locale environment of the <code class="command">gpgconf</code> program.
</p>



<hr>
</div>
<div class="subsection-level-extent" id="Listing-components">
<div class="nav-panel">
<p>
Next: <a href="#Checking-programs" accesskey="n" rel="next">Checking programs</a>, Previous: <a href="#Format-conventions" accesskey="p" rel="prev">Format conventions</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Listing-components-1"><span>10.4.3 Listing components<a class="copiable-link" href="#Listing-components-1"> &para;</a></span></h4>

<p>The command <code class="code">--list-components</code> will list all components that can
be configured with <code class="command">gpgconf</code>.  Usually, one component will
correspond to one GnuPG-related program and contain the options of
that program&rsquo;s configuration file that can be modified using
<code class="command">gpgconf</code>.  However, this is not necessarily the case.  A
component might also be a group of selected options from several
programs, or contain entirely virtual options that have a special
effect rather than changing exactly one option in one configuration
file.
</p>
<p>A component is a set of configuration options that semantically belong
together.  Furthermore, several changes to a component can be made in
an atomic way with a single operation.  The GUI could for example
provide a menu with one entry for each component, or a window with one
tabulator sheet per component.
</p>
<p>The command <code class="code">--list-components</code> lists all available
components, one per line.  The format of each line is:
</p>
<p><code class="code"><var class="var">name</var>:<var class="var">description</var>:<var class="var">pgmname</var>:</code>
</p>
<dl class="table">
<dt><var class="var">name</var></dt>
<dd><p>This field contains a name tag of the component.  The name tag is used
to specify the component in all communication with <code class="command">gpgconf</code>.
The name tag is to be used <em class="emph">verbatim</em>.  It is thus not in any
escaped format.
</p>
</dd>
<dt><var class="var">description</var></dt>
<dd><p>The <em class="emph">string</em> in this field contains a human-readable description
of the component.  It can be displayed to the user of the GUI for
informational purposes.  It is <em class="emph">percent-escaped</em> and
<em class="emph">localized</em>.
</p>
</dd>
<dt><var class="var">pgmname</var></dt>
<dd><p>The <em class="emph">string</em> in this field contains the absolute name of the
program&rsquo;s file.  It can be used to unambiguously invoke that program.
It is <em class="emph">percent-escaped</em>.
</p></dd>
</dl>

<p>Example:
</p><div class="example">
<pre class="example-preformatted">$ gpgconf --list-components
gpg:GPG for OpenPGP:/usr/local/bin/gpg2:
gpg-agent:GPG Agent:/usr/local/bin/gpg-agent:
scdaemon:Smartcard Daemon:/usr/local/bin/scdaemon:
gpgsm:GPG for S/MIME:/usr/local/bin/gpgsm:
dirmngr:Directory Manager:/usr/local/bin/dirmngr:
</pre></div>



<hr>
</div>
<div class="subsection-level-extent" id="Checking-programs">
<div class="nav-panel">
<p>
Next: <a href="#Listing-options" accesskey="n" rel="next">Listing options</a>, Previous: <a href="#Listing-components" accesskey="p" rel="prev">Listing components</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Checking-programs-1"><span>10.4.4 Checking programs<a class="copiable-link" href="#Checking-programs-1"> &para;</a></span></h4>

<p>The command <code class="code">--check-programs</code> is similar to
<code class="code">--list-components</code> but works on backend programs and not on
components.  It runs each program to test whether it is installed and
runnable.  This also includes a syntax check of all config file options
of the program.
</p>
<p>The command <code class="code">--check-programs</code> lists all available
programs, one per line.  The format of each line is:
</p>
<p><code class="code"><var class="var">name</var>:<var class="var">description</var>:<var class="var">pgmname</var>:<var class="var">avail</var>:<var class="var">okay</var>:<var class="var">cfgfile</var>:<var class="var">line</var>:<var class="var">error</var>:</code>
</p>
<dl class="table">
<dt><var class="var">name</var></dt>
<dd><p>This field contains a name tag of the program which is identical to the
name of the component.  The name tag is to be used <em class="emph">verbatim</em>.  It
is thus not in any escaped format.  This field may be empty to indicate
a continuation of error descriptions for the last name.  The description
and pgmname fields are then also empty.
</p>
</dd>
<dt><var class="var">description</var></dt>
<dd><p>The <em class="emph">string</em> in this field contains a human-readable description
of the component.  It can be displayed to the user of the GUI for
informational purposes.  It is <em class="emph">percent-escaped</em> and
<em class="emph">localized</em>.
</p>
</dd>
<dt><var class="var">pgmname</var></dt>
<dd><p>The <em class="emph">string</em> in this field contains the absolute name of the
program&rsquo;s file.  It can be used to unambiguously invoke that program.
It is <em class="emph">percent-escaped</em>.
</p>
</dd>
<dt><var class="var">avail</var></dt>
<dd><p>The <em class="emph">boolean value</em> in this field indicates whether the program is
installed and runnable.
</p>
</dd>
<dt><var class="var">okay</var></dt>
<dd><p>The <em class="emph">boolean value</em> in this field indicates whether the program&rsquo;s
config file is syntactically okay.
</p>
</dd>
<dt><var class="var">cfgfile</var></dt>
<dd><p>If an error occurred in the configuration file (as indicated by a false
value in the field <code class="code">okay</code>), this field has the name of the failing
configuration file.  It is <em class="emph">percent-escaped</em>.
</p>
</dd>
<dt><var class="var">line</var></dt>
<dd><p>If an error occurred in the configuration file, this field has the line
number of the failing statement in the configuration file.
It is an <em class="emph">unsigned number</em>.
</p>
</dd>
<dt><var class="var">error</var></dt>
<dd><p>If an error occurred in the configuration file, this field has the error
text of the failing statement in the configuration file.  It is
<em class="emph">percent-escaped</em> and <em class="emph">localized</em>.
</p>
</dd>
</dl>

<p>In the following example the <code class="command">dirmngr</code> is not runnable and the
configuration file of <code class="command">scdaemon</code> is not okay.
</p>
<div class="example">
<pre class="example-preformatted">$ gpgconf --check-programs
gpg:GPG for OpenPGP:/usr/local/bin/gpg2:1:1:
gpg-agent:GPG Agent:/usr/local/bin/gpg-agent:1:1:
scdaemon:Smartcard Daemon:/usr/local/bin/scdaemon:1:0:
gpgsm:GPG for S/MIME:/usr/local/bin/gpgsm:1:1:
dirmngr:Directory Manager:/usr/local/bin/dirmngr:0:0:
</pre></div>

<p>The command <code class="code">--check-options&nbsp;<var class="var">component</var></code><!-- /@w --> will verify the
configuration file in the same manner as <code class="code">--check-programs</code>, but
only for the component <var class="var">component</var>.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Listing-options">
<div class="nav-panel">
<p>
Next: <a href="#Changing-options" accesskey="n" rel="next">Changing options</a>, Previous: <a href="#Checking-programs" accesskey="p" rel="prev">Checking programs</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Listing-options-1"><span>10.4.5 Listing options<a class="copiable-link" href="#Listing-options-1"> &para;</a></span></h4>

<p>Every component contains one or more options.  Options may be gathered
into option groups to allow the GUI to give visual hints to the user
about which options are related.
</p>
<p>The command <code class="code">--list-options&nbsp;<var class="var">component</var><!-- /@w --></code> lists
all options (and the groups they belong to) in the component
<var class="var">component</var>, one per line.  <var class="var">component</var> must be the string in
the field <var class="var">name</var> in the output of the <code class="code">--list-components</code>
command.
</p>
<p>There is one line for each option and each group.  First come all
options that are not in any group.  Then comes a line describing a
group.  Then come all options that belong into each group.  Then comes
the next group and so on.  There does not need to be any group (and in
this case the output will stop after the last non-grouped option).
</p>
<p>The format of each line is:
</p>
<p><code class="code"><var class="var">name</var>:<var class="var">flags</var>:<var class="var">level</var>:<var class="var">description</var>:<var class="var">type</var>:<var class="var">alt-type</var>:<var class="var">argname</var>:<var class="var">default</var>:<var class="var">argdef</var>:<var class="var">value</var></code>
</p>
<dl class="table">
<dt><var class="var">name</var></dt>
<dd><p>This field contains a name tag for the group or option.  The name tag
is used to specify the group or option in all communication with
<code class="command">gpgconf</code>.  The name tag is to be used <em class="emph">verbatim</em>.  It is
thus not in any escaped format.
</p>
</dd>
<dt><var class="var">flags</var></dt>
<dd><p>The flags field contains an <em class="emph">unsigned number</em>.  Its value is the
OR-wise combination of the following flag values:
</p>
<dl class="table">
<dt><code class="code">group (1)</code></dt>
<dd><p>If this flag is set, this is a line describing a group and not an
option.
</p></dd>
</dl>

<p>The following flag values are only defined for options (that is, if
the <code class="code">group</code> flag is not used).
</p>
<dl class="table">
<dt><code class="code">optional arg (2)</code></dt>
<dd><p>If this flag is set, the argument is optional.  This is never set for
<var class="var">type</var> <code class="code">0</code> (none) options.
</p>
</dd>
<dt><code class="code">list (4)</code></dt>
<dd><p>If this flag is set, the option can be given multiple times.
</p>
</dd>
<dt><code class="code">runtime (8)</code></dt>
<dd><p>If this flag is set, the option can be changed at runtime.
</p>
</dd>
<dt><code class="code">default (16)</code></dt>
<dd><p>If this flag is set, a default value is available.
</p>
</dd>
<dt><code class="code">default desc (32)</code></dt>
<dd><p>If this flag is set, a (runtime) default is available.  This and the
<code class="code">default</code> flag are mutually exclusive.
</p>
</dd>
<dt><code class="code">no arg desc (64)</code></dt>
<dd><p>If this flag is set, and the <code class="code">optional arg</code> flag is set, then the
option has a special meaning if no argument is given.
</p>
</dd>
<dt><code class="code">no change (128)</code></dt>
<dd><p>If this flag is set, <code class="command">gpgconf</code> ignores requests to change the
value.  GUI frontends should grey out this option.  Note, that manual
changes of the configuration files are still possible.
</p></dd>
</dl>

</dd>
<dt><var class="var">level</var></dt>
<dd><p>This field is defined for options and for groups.  It contains an
<em class="emph">unsigned number</em> that specifies the expert level under which
this group or option should be displayed.  The following expert levels
are defined for options (they have analogous meaning for groups):
</p>
<dl class="table">
<dt><code class="code">basic (0)</code></dt>
<dd><p>This option should always be offered to the user.
</p>
</dd>
<dt><code class="code">advanced (1)</code></dt>
<dd><p>This option may be offered to advanced users.
</p>
</dd>
<dt><code class="code">expert (2)</code></dt>
<dd><p>This option should only be offered to expert users.
</p>
</dd>
<dt><code class="code">invisible (3)</code></dt>
<dd><p>This option should normally never be displayed, not even to expert
users.
</p>
</dd>
<dt><code class="code">internal (4)</code></dt>
<dd><p>This option is for internal use only.  Ignore it.
</p></dd>
</dl>

<p>The level of a group will always be the lowest level of all options it
contains.
</p>
</dd>
<dt><var class="var">description</var></dt>
<dd><p>This field is defined for options and groups.  The <em class="emph">string</em> in
this field contains a human-readable description of the option or
group.  It can be displayed to the user of the GUI for informational
purposes.  It is <em class="emph">percent-escaped</em> and <em class="emph">localized</em>.
</p>
</dd>
<dt><var class="var">type</var></dt>
<dd><p>This field is only defined for options.  It contains an <em class="emph">unsigned
number</em> that specifies the type of the option&rsquo;s argument, if any.  The
following types are defined:
</p>
<p>Basic types:
</p>
<dl class="table">
<dt><code class="code">none (0)</code></dt>
<dd><p>No argument allowed.
</p>
</dd>
<dt><code class="code">string (1)</code></dt>
<dd><p>An <em class="emph">unformatted string</em>.
</p>
</dd>
<dt><code class="code">int32 (2)</code></dt>
<dd><p>A <em class="emph">signed number</em>.
</p>
</dd>
<dt><code class="code">uint32 (3)</code></dt>
<dd><p>An <em class="emph">unsigned number</em>.
</p></dd>
</dl>

<p>Complex types:
</p>
<dl class="table">
<dt><code class="code">pathname (32)</code></dt>
<dd><p>A <em class="emph">string</em> that describes the pathname of a file.  The file does
not necessarily need to exist.
</p>
</dd>
<dt><code class="code">ldap server (33)</code></dt>
<dd><p>A <em class="emph">string</em> that describes an LDAP server in the format:
</p>
<p><code class="code"><var class="var">hostname</var>:<var class="var">port</var>:<var class="var">username</var>:<var class="var">password</var>:<var class="var">base_dn</var></code>
</p>
</dd>
<dt><code class="code">key fingerprint (34)</code></dt>
<dd><p>A <em class="emph">string</em> with a 40 digit fingerprint specifying a certificate.
</p>
</dd>
<dt><code class="code">pub key (35)</code></dt>
<dd><p>A <em class="emph">string</em> that describes a certificate by user ID, key ID or
fingerprint.
</p>
</dd>
<dt><code class="code">sec key (36)</code></dt>
<dd><p>A <em class="emph">string</em> that describes a certificate with a key by user ID,
key ID or fingerprint.
</p>
</dd>
<dt><code class="code">alias list (37)</code></dt>
<dd><p>A <em class="emph">string</em> that describes an alias list, like the one used with
gpg&rsquo;s group option.  The list consists of a key, an equal sign and space
separated values.
</p></dd>
</dl>

<p>More types will be added in the future.  Please see the <var class="var">alt-type</var>
field for information on how to cope with unknown types.
</p>
</dd>
<dt><var class="var">alt-type</var></dt>
<dd><p>This field is identical to <var class="var">type</var>, except that only the types
<code class="code">0</code> to <code class="code">31</code> are allowed.  The GUI is expected to present the
user the option in the format specified by <var class="var">type</var>.  But if the
argument type <var class="var">type</var> is not supported by the GUI, it can still
display the option in the more generic basic type <var class="var">alt-type</var>.  The
GUI must support all the defined basic types to be able to display all
options.  More basic types may be added in future versions.  If the
GUI encounters a basic type it doesn&rsquo;t support, it should report an
error and abort the operation.
</p>
</dd>
<dt><var class="var">argname</var></dt>
<dd><p>This field is only defined for options with an argument type
<var class="var">type</var> that is not <code class="code">0</code>.  In this case it may contain a
<em class="emph">percent-escaped</em> and <em class="emph">localized string</em> that gives a short
name for the argument.  The field may also be empty, though, in which
case a short name is not known.
</p>
</dd>
<dt><var class="var">default</var></dt>
<dd><p>This field is defined only for options for which the <code class="code">default</code> or
<code class="code">default desc</code> flag is set.  If the <code class="code">default</code> flag is set,
its format is that of an <em class="emph">option argument</em> (see <a class="pxref" href="#Format-conventions">Format conventions</a>, for details).  If the default value is empty, then no
default is known.  Otherwise, the value specifies the default value
for this option.  If the <code class="code">default desc</code> flag is set, the field is
either empty or contains a description of the effect if the option is
not given.
</p>
</dd>
<dt><var class="var">argdef</var></dt>
<dd><p>This field is defined only for options for which the <code class="code">optional
arg</code> flag is set.  If the <code class="code">no arg desc</code> flag is not set, its
format is that of an <em class="emph">option argument</em> (see <a class="pxref" href="#Format-conventions">Format conventions</a>, for details).  If the default value is empty, then no
default is known.  Otherwise, the value specifies the default argument
for this option.  If the <code class="code">no arg desc</code> flag is set, the field is
either empty or contains a description of the effect of this option if
no argument is given.
</p>
</dd>
<dt><var class="var">value</var></dt>
<dd><p>This field is defined only for options.  Its format is that of an
<em class="emph">option argument</em>.  If it is empty, then the option is not
explicitly set in the current configuration, and the default applies
(if any).  Otherwise, it contains the current value of the option.
Note that this field is also meaningful if the option itself does not
take a real argument (in this case, it contains the number of times
the option appears).
</p></dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Changing-options">
<div class="nav-panel">
<p>
Next: <a href="#Listing-global-options" accesskey="n" rel="next">Listing global options</a>, Previous: <a href="#Listing-options" accesskey="p" rel="prev">Listing options</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Changing-options-1"><span>10.4.6 Changing options<a class="copiable-link" href="#Changing-options-1"> &para;</a></span></h4>

<p>The command <code class="code">--change-options&nbsp;<var class="var">component</var></code><!-- /@w --> will attempt
to change the options of the component <var class="var">component</var> to the
specified values.  <var class="var">component</var> must be the string in the field
<var class="var">name</var> in the output of the <code class="code">--list-components</code> command.  You
have to provide the options that shall be changed in the following
format on standard input:
</p>
<p><code class="code"><var class="var">name</var>:<var class="var">flags</var>:<var class="var">new-value</var></code>
</p>
<dl class="table">
<dt><var class="var">name</var></dt>
<dd><p>This is the name of the option to change.  <var class="var">name</var> must be the
string in the field <var class="var">name</var> in the output of the
<code class="code">--list-options</code> command.
</p>
</dd>
<dt><var class="var">flags</var></dt>
<dd><p>The flags field contains an <em class="emph">unsigned number</em>.  Its value is the
OR-wise combination of the following flag values:
</p>
<dl class="table">
<dt><code class="code">default (16)</code></dt>
<dd><p>If this flag is set, the option is deleted and the default value is
used instead (if applicable).
</p></dd>
</dl>

</dd>
<dt><var class="var">new-value</var></dt>
<dd><p>The new value for the option.  This field is only defined if the
<code class="code">default</code> flag is not set.  The format is that of an <em class="emph">option
argument</em>.  If it is empty (or the field is omitted), the default
argument is used (only allowed if the argument is optional for this
option).  Otherwise, the option will be set to the specified value.
</p></dd>
</dl>

<p>The output of the command is the same as that of
<code class="code">--check-options</code> for the modified configuration file.
</p>
<p>Examples:
</p>
<p>To set the force option, which is of basic type <code class="code">none (0)</code>:
</p>
<div class="example">
<pre class="example-preformatted">$ echo 'force:0:1' | gpgconf --change-options dirmngr
</pre></div>

<p>To delete the force option:
</p>
<div class="example">
<pre class="example-preformatted">$ echo 'force:16:' | gpgconf --change-options dirmngr
</pre></div>

<p>The <code class="code">--runtime</code> option can influence when the changes take
effect.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Listing-global-options">
<div class="nav-panel">
<p>
Next: <a href="#Querying-versions" accesskey="n" rel="next">Get and compare software versions.</a>, Previous: <a href="#Changing-options" accesskey="p" rel="prev">Changing options</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Listing-global-options-1"><span>10.4.7 Listing global options<a class="copiable-link" href="#Listing-global-options-1"> &para;</a></span></h4>

<p>Some legacy applications look at the global configuration file for the
gpgconf tool itself; this is the file <samp class="file">gpgconf.conf</samp>.  Modern
applications should not use it but use per component global
configuration files which are more flexible than the
<samp class="file">gpgconf.conf</samp>.  Using both files is not suggested.
</p>
<p>The colon separated listing format is record oriented and uses the first
field to identify the record type:
</p>
<dl class="table">
<dt><code class="code">k</code></dt>
<dd><p>This describes a key record to start the definition of a new ruleset for
a user/group.  The format of a key record is:
</p>
<p><code class="code">k:<var class="var">user</var>:<var class="var">group</var>:</code>
</p>
<dl class="table">
<dt><var class="var">user</var></dt>
<dd><p>This is the user field of the key.  It is percent escaped.  See the
definition of the gpgconf.conf format for details.
</p>
</dd>
<dt><var class="var">group</var></dt>
<dd><p>This is the group field of the key.  It is percent escaped.
</p></dd>
</dl>

</dd>
<dt><code class="code">r</code></dt>
<dd><p>This describes a rule record. All rule records up to the next key record
make up a rule set for that key.  The format of a rule record is:
</p>
<p><code class="code">r:::<var class="var">component</var>:<var class="var">option</var>:<var class="var">flag</var>:<var class="var">value</var>:</code>
</p>
<dl class="table">
<dt><var class="var">component</var></dt>
<dd><p>This is the component part of a rule.  It is a plain string.
</p>
</dd>
<dt><var class="var">option</var></dt>
<dd><p>This is the option part of a rule.  It is a plain string.
</p>
</dd>
<dt><var class="var">flag</var></dt>
<dd><p>This is the flags part of a rule.  There may be only one flag per rule
but by using the same component and option, several flags may be
assigned to an option.  It is a plain string.
</p>
</dd>
<dt><var class="var">value</var></dt>
<dd><p>This is the optional value for the option.  It is a percent escaped
string with a single quotation mark to indicate a string.  The quotation
mark is only required to distinguish between no value specified and an
empty string.
</p></dd>
</dl>

</dd>
</dl>

<p>Unknown record types should be ignored.  Note that there is intentionally
no feature to change the global option file through <code class="command">gpgconf</code>.
</p>

<hr>
</div>
<div class="subsection-level-extent" id="Querying-versions">
<div class="nav-panel">
<p>
Next: <a href="#Files-used-by-gpgconf" accesskey="n" rel="next">Files used by gpgconf</a>, Previous: <a href="#Listing-global-options" accesskey="p" rel="prev">Listing global options</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Get-and-compare-software-versions_002e"><span>10.4.8 Get and compare software versions.<a class="copiable-link" href="#Get-and-compare-software-versions_002e"> &para;</a></span></h4>

<p>The GnuPG Project operates a server to query the current versions of
software packages related to GnuPG.  <code class="command">gpgconf</code> can be used to
access this online database.  To allow for offline operations, this
feature works by having <code class="command">dirmngr</code> download a file from
<code class="code">https://versions.gnupg.org</code>, checking the signature of that file
and storing the file in the GnuPG home directory.  If
<code class="command">gpgconf</code> is used and <code class="command">dirmngr</code> is running, it may ask
<code class="command">dirmngr</code> to refresh that file before itself uses the file.
</p>
<p>The command <samp class="option">--query-swdb</samp> returns information for the given
package in a colon delimited format:
</p>
<dl class="table">
<dt><var class="var">name</var></dt>
<dd><p>This is the name of the package as requested.  Note that &quot;gnupg&quot; is a
special name which is replaced by the actual package implementing this
version of GnuPG.  For this name it is also not required to specify a
version because <code class="command">gpgconf</code> takes its own version in this case.
</p>
</dd>
<dt><var class="var">iversion</var></dt>
<dd><p>The currently installed version or an empty string.  The value is
taken from the command line argument but may be provided by gpg
if not given.
</p>
</dd>
<dt><var class="var">status</var></dt>
<dd><p>The status of the software package according to this table:
</p><dl class="table">
<dt><code class="code">-</code></dt>
<dd><p>No information available.  This is either because no current version
has been specified or due to an error.
</p></dd>
<dt><code class="code">?</code></dt>
<dd><p>The given name is not known in the online database.
</p></dd>
<dt><code class="code">u</code></dt>
<dd><p>An update of the software is available.
</p></dd>
<dt><code class="code">c</code></dt>
<dd><p>The installed version of the software is current.
</p></dd>
<dt><code class="code">n</code></dt>
<dd><p>The installed version is already newer than the released version.
</p></dd>
</dl>

</dd>
<dt><var class="var">urgency</var></dt>
<dd><p>If the value (the empty string should be considered as zero) is
greater than zero an important update is available.
</p>
</dd>
<dt><var class="var">error</var></dt>
<dd><p>This returns an <code class="command">gpg-error</code> error code to distinguish between
various failure modes.
</p>
</dd>
<dt><var class="var">filedate</var></dt>
<dd><p>This gives the date of the file with the version numbers in standard
ISO format (<code class="code">yyyymmddThhmmss</code>).  The date has been extracted by
<code class="command">dirmngr</code> from the signature of the file.
</p>
</dd>
<dt><var class="var">verified</var></dt>
<dd><p>This gives the date in ISO format the file was downloaded.  This value
can be used to evaluate the freshness of the information.
</p>
</dd>
<dt><var class="var">version</var></dt>
<dd><p>This returns the version string for the requested software from the
file.
</p>
</dd>
<dt><var class="var">reldate</var></dt>
<dd><p>This returns the release date in ISO format.
</p>
</dd>
<dt><var class="var">size</var></dt>
<dd><p>This returns the size of the package as decimal number of bytes.
</p>
</dd>
<dt><var class="var">hash</var></dt>
<dd><p>This returns a hexified SHA-2 hash of the package.
</p>
</dd>
</dl>

<p>More fields may be added in future to the output.
</p>


<hr>
</div>
<div class="subsection-level-extent" id="Files-used-by-gpgconf">
<div class="nav-panel">
<p>
Previous: <a href="#Querying-versions" accesskey="p" rel="prev">Get and compare software versions.</a>, Up: <a href="#gpgconf" accesskey="u" rel="up">Modify .gnupg home directories</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Files-used-by-gpgconf-1"><span>10.4.9 Files used by gpgconf<a class="copiable-link" href="#Files-used-by-gpgconf-1"> &para;</a></span></h4>

<dl class="table">
<dt><a id="index-gpgconf_002ectl"></a><span><samp class="file">gpgconf.ctl</samp><a class="copiable-link" href="#index-gpgconf_002ectl"> &para;</a></span></dt>
<dd><p>Under Unix <samp class="file">gpgconf.ctl</samp> may be used to change some of the
  compiled in directories where the GnuPG components are expected.  This
  file is expected in the same directory as <samp class="file">gpgconf</samp>.  The
  physical installation directories are evaluated and no symlinks.
  Blank lines and lines starting with pound sign are ignored in the
  file.  The keywords must be followed by optional white space, an equal
  sign, optional white space, and the value.  Environment variables are
  substituted in standard shell manner, the final value must start with
  a slash, trailing slashes are stripped.  Valid keywords are
  <code class="code">rootdir</code>, <code class="code">sysconfdir</code>, <code class="code">socketdir</code>, and
  <code class="code">.enable</code>.  No errors are printed for unknown keywords.  The
  <code class="code">.enable</code> keyword is special: if the keyword is used and its
  value evaluates to true the entire file is ignored.
</p>
<p>Under Windows this file is used to install GnuPG as a portable
  application.  An empty file named <samp class="file">gpgconf.ctl</samp> is expected in
  the same directory as the tool <samp class="file">gpgconf.exe</samp>.  The root of the
  installation is then that directory; or, if <samp class="file">gpgconf.exe</samp> has
  been installed directly below a directory named <samp class="file">bin</samp>, its parent
  directory.  You also need to make sure that the following directories
  exist and are writable: <samp class="file">ROOT/home</samp> for the GnuPG home and
  <samp class="file">ROOT/var/cache/gnupg</samp> for internal cache files.
</p>

</dd>
<dt><a id="index-gpgconf_002econf"></a><span><samp class="file">/etc/gnupg/gpgconf.conf</samp><a class="copiable-link" href="#index-gpgconf_002econf"> &para;</a></span></dt>
<dd><p>If this file exists, it is processed as a global configuration file.
  This is a legacy mechanism which should not be used together with
  the modern global per component configuration files.  A commented
  example can be found in the <samp class="file">examples</samp> directory of the
  distribution.
</p>
</dd>
<dt><a id="index-swdb_002elst"></a><span><samp class="file"><var class="var">GNUPGHOME</var>/swdb.lst</samp><a class="copiable-link" href="#index-swdb_002elst"> &para;</a></span></dt>
<dd><p>A file with current software versions.  <code class="command">dirmngr</code> creates
  this file on demand from an online resource.
</p>
</dd>
</dl>








<hr>
</div>
</div>
<div class="section-level-extent" id="applygnupgdefaults">
<div class="nav-panel">
<p>
Next: <a href="#gpg_002dpreset_002dpassphrase" accesskey="n" rel="next">Put a passphrase into the cache</a>, Previous: <a href="#gpgconf" accesskey="p" rel="prev">Modify .gnupg home directories</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Run-gpgconf-for-all-users"><span>10.5 Run gpgconf for all users<a class="copiable-link" href="#Run-gpgconf-for-all-users"> &para;</a></span></h3>




<p>This is a legacy script.  Modern application should use the per
component global configuration files under <samp class="file">/etc/gnupg/</samp>.
</p>
<p>This script is a wrapper around <code class="command">gpgconf</code> to run it with the
command <code class="code">--apply-defaults</code> for all real users with an existing
GnuPG home directory.  Admins might want to use this script to update he
GnuPG configuration files for all users after
<samp class="file">/etc/gnupg/gpgconf.conf</samp> has been changed.  This allows enforcing
certain policies for all users.  Note, that this is not a bulletproof way to
force a user to use certain options.  A user may always directly edit
the configuration files and bypass gpgconf.
</p>
<p><code class="command">applygnupgdefaults</code> is invoked by root as:
</p>
<div class="example">
<pre class="example-preformatted">applygnupgdefaults
</pre></div>


<hr>
</div>
<div class="section-level-extent" id="gpg_002dpreset_002dpassphrase">
<div class="nav-panel">
<p>
Next: <a href="#gpg_002dconnect_002dagent" accesskey="n" rel="next">Communicate with a running agent</a>, Previous: <a href="#applygnupgdefaults" accesskey="p" rel="prev">Run gpgconf for all users</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Put-a-passphrase-into-the-cache"><span>10.6 Put a passphrase into the cache<a class="copiable-link" href="#Put-a-passphrase-into-the-cache"> &para;</a></span></h3>





<p>The <code class="command">gpg-preset-passphrase</code> is a utility to seed the internal
cache of a running <code class="command">gpg-agent</code> with passphrases.  It is mainly
useful for unattended machines, where the usual <code class="command">pinentry</code> tool
may not be used and the passphrases for the to be used keys are given at
machine startup.
</p>
<p>This program works with GnuPG 2 and later.  GnuPG 1.x is not supported.
</p>
<p>Passphrases set with this utility don&rsquo;t expire unless the
<samp class="option">--forget</samp> option is used to explicitly clear them from the
cache &mdash; or <code class="command">gpg-agent</code> is either restarted or reloaded (by
sending a SIGHUP to it).  Note that the maximum cache time as set with
<samp class="option">--max-cache-ttl</samp> is still honored.  It is necessary to allow
this passphrase presetting by starting <code class="command">gpg-agent</code> with the
<samp class="option">--allow-preset-passphrase</samp>.
</p>


<ul class="mini-toc">
<li><a href="#Invoking-gpg_002dpreset_002dpassphrase" accesskey="1">List of all commands and options</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Invoking-gpg_002dpreset_002dpassphrase">
<div class="nav-panel">
<p>
Up: <a href="#gpg_002dpreset_002dpassphrase" accesskey="u" rel="up">Put a passphrase into the cache</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="List-of-all-commands-and-options"><span>10.6.1 List of all commands and options<a class="copiable-link" href="#List-of-all-commands-and-options"> &para;</a></span></h4>


<p><code class="command">gpg-preset-passphrase</code> is invoked this way:
</p>
<div class="example">
<pre class="example-preformatted">gpg-preset-passphrase [options] [command] <var class="var">cacheid</var>
</pre></div>

<p><var class="var">cacheid</var> is either a 40 character keygrip of hexadecimal
characters identifying the key for which the passphrase should be set
or cleared.  The keygrip is listed along with the key when running the
command: <code class="code">gpgsm --with-keygrip --list-secret-keys</code>.
Alternatively an arbitrary string may be used to identify a
passphrase; it is suggested that such a string is prefixed with the
name of the application (e.g <code class="code">foo:12346</code>).  Scripts should always
use the option <samp class="option">--with-colons</samp>, which provides the keygrip in a
&quot;grp&quot; line (cf. <samp class="file">doc/DETAILS</samp>)/
</p>
<p>One of the following command options must be given:
</p>
<dl class="table">
<dt><a id="index-preset"></a><span><code class="code">--preset</code><a class="copiable-link" href="#index-preset"> &para;</a></span></dt>
<dd><p>Preset a passphrase. This is what you usually will
use. <code class="command">gpg-preset-passphrase</code> will then read the passphrase from
<code class="code">stdin</code>.
</p>
</dd>
<dt><a id="index-forget"></a><span><code class="code">--forget</code><a class="copiable-link" href="#index-forget"> &para;</a></span></dt>
<dd><p>Flush the passphrase for the given cache ID from the cache.
</p>
</dd>
</dl>

<p>The following additional options may be used:
</p>
<dl class="table">
<dt><a id="index-verbose-8"></a><span><code class="code">-v</code><a class="copiable-link" href="#index-verbose-8"> &para;</a></span></dt>
<dt><code class="code">--verbose</code></dt>
<dd><p>Output additional information while running.
</p>
</dd>
<dt><a id="index-passphrase-1"></a><span><code class="code">-P <var class="var">string</var></code><a class="copiable-link" href="#index-passphrase-1"> &para;</a></span></dt>
<dt><code class="code">--passphrase <var class="var">string</var></code></dt>
<dd><p>Instead of reading the passphrase from <code class="code">stdin</code>, use the supplied
<var class="var">string</var> as passphrase.  Note that this makes the passphrase visible
for other users.
</p></dd>
</dl>







<hr>
</div>
</div>
<div class="section-level-extent" id="gpg_002dconnect_002dagent">
<div class="nav-panel">
<p>
Next: <a href="#dirmngr_002dclient" accesskey="n" rel="next">The Dirmngr Client Tool</a>, Previous: <a href="#gpg_002dpreset_002dpassphrase" accesskey="p" rel="prev">Put a passphrase into the cache</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Communicate-with-a-running-agent"><span>10.7 Communicate with a running agent<a class="copiable-link" href="#Communicate-with-a-running-agent"> &para;</a></span></h3>





<p>The <code class="command">gpg-connect-agent</code> is a utility to communicate with a
running <code class="command">gpg-agent</code>.  It is useful to check out the commands
<code class="command">gpg-agent</code> provides using the Assuan interface.  It might
also be useful for scripting simple applications.  Input is expected
at stdin and output gets printed to stdout.
</p>
<p>It is very similar to running <code class="command">gpg-agent</code> in server mode; but
here we connect to a running instance.
</p>


<ul class="mini-toc">
<li><a href="#Invoking-gpg_002dconnect_002dagent" accesskey="1">List of all options</a></li>
<li><a href="#Controlling-gpg_002dconnect_002dagent" accesskey="2">Control commands</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Invoking-gpg_002dconnect_002dagent">
<div class="nav-panel">
<p>
Next: <a href="#Controlling-gpg_002dconnect_002dagent" accesskey="n" rel="next">Control commands</a>, Up: <a href="#gpg_002dconnect_002dagent" accesskey="u" rel="up">Communicate with a running agent</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="List-of-all-options"><span>10.7.1 List of all options<a class="copiable-link" href="#List-of-all-options"> &para;</a></span></h4>

<p><code class="command">gpg-connect-agent</code> is invoked this way:
</p>
<div class="example">
<pre class="example-preformatted">gpg-connect-agent [options] [commands]
</pre></div>


<p>The following options may be used:
</p>
<dl class="table">
<dt><a id="index-dirmngr"></a><span><code class="code">--dirmngr</code><a class="copiable-link" href="#index-dirmngr"> &para;</a></span></dt>
<dd><p>Connect to a running directory manager (keyserver client) instead of
to the gpg-agent.  If a dirmngr is not running, start it.
</p>
</dd>
<dt><a id="index-keyboxd"></a><span><code class="code">--keyboxd</code><a class="copiable-link" href="#index-keyboxd"> &para;</a></span></dt>
<dd><p>Connect to a running keybox daemon instead of
to the gpg-agent.  If a keyboxd is not running, start it.
</p>
</dd>
<dt><a id="index-raw_002dsocket"></a><span><code class="code">-S</code><a class="copiable-link" href="#index-raw_002dsocket"> &para;</a></span></dt>
<dt><code class="code">--raw-socket <var class="var">name</var></code></dt>
<dd><p>Connect to socket <var class="var">name</var> assuming this is an Assuan style server.
Do not run any special initializations or environment checks.  This may
be used to directly connect to any Assuan style socket server.
</p>
</dd>
<dt><a id="index-exec"></a><span><code class="code">-E</code><a class="copiable-link" href="#index-exec"> &para;</a></span></dt>
<dt><code class="code">--exec</code></dt>
<dd><p>Take the rest of the command line as a program and it&rsquo;s arguments and
execute it as an Assuan server. Here is how you would run <code class="command">gpgsm</code>:
</p><div class="example smallexample">
<pre class="example-preformatted"> gpg-connect-agent --exec gpgsm --server
</pre></div>
<p>Note that you may not use options on the command line in this case.
</p>
</dd>
<dt><a id="index-verbose-9"></a><span><code class="code">-v</code><a class="copiable-link" href="#index-verbose-9"> &para;</a></span></dt>
<dt><code class="code">--verbose</code></dt>
<dd><p>Output additional information while running.
</p>
</dd>
<dt><code class="code">-q</code></dt>
<dt><a class="index-entry-id" id="index-quiet-5"></a>
<a id="index-q-1"></a><span><code class="code">--quiet</code><a class="copiable-link" href="#index-q-1"> &para;</a></span></dt>
<dd><p>Try to be as quiet as possible.
</p>
</dd>
<dt><a class="index-entry-id" id="index-GNUPGHOME-7"></a>
<a class="index-entry-id" id="index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-6"></a>
<a id="index-homedir-6"></a><span><code class="code">--homedir <var class="var">dir</var></code><a class="copiable-link" href="#index-homedir-6"> &para;</a></span></dt>
<dd><p>Set the name of the home directory to <var class="var">dir</var>. If this option is not
used, the home directory defaults to <samp class="file">~/.gnupg</samp>.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable <code class="env">GNUPGHOME</code> or
(on Windows systems) by means of the Registry entry
<var class="var">HKCU\Software\GNU\GnuPG:HomeDir</var>.
</p>
<p>On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.
</p>
</dd>
<dt><a id="index-chuid-4"></a><span><code class="code">--chuid <var class="var">uid</var></code><a class="copiable-link" href="#index-chuid-4"> &para;</a></span></dt>
<dd><p>Change the current user to <var class="var">uid</var> which may either be a number or a
name.  This can be used from the root account to run gpg-connect-agent
for another user.  If <var class="var">uid</var> is not the current UID a standard PATH
is set and the envvar GNUPGHOME is unset.  To override the latter the
option <samp class="option">--homedir</samp> can be used.  This option has only an effect
when used on the command line.  This option has currently no effect at
all on Windows.
</p>
</dd>
<dt><a id="index-no_002dext_002dconnect"></a><span><code class="code">--no-ext-connect</code><a class="copiable-link" href="#index-no_002dext_002dconnect"> &para;</a></span></dt>
<dd><p>When using <samp class="option">-S</samp> or <samp class="option">--exec</samp>, <code class="command">gpg-connect-agent</code>
connects to the Assuan server in extended mode to allow descriptor
passing.  This option makes it use the old mode.
</p>
</dd>
<dt><a id="index-no_002dautostart-3"></a><span><code class="code">--no-autostart</code><a class="copiable-link" href="#index-no_002dautostart-3"> &para;</a></span></dt>
<dd><p>Do not start the gpg-agent or the dirmngr if it has not yet been
started.
</p>
</dd>
<dt><a id="index-_002d_002dno_002dhistory-1"></a><span><code class="code">--no-history</code><a class="copiable-link" href="#index-_002d_002dno_002dhistory-1"> &para;</a></span></dt>
<dd><p>In interactive mode the command line history is usually saved and
restored to and from a file below the GnuPG home directory.  This
option inhibits the use of that file.
</p>
</dd>
<dt><a id="index-agent_002dprogram-3"></a><span><code class="code">--agent-program <var class="var">file</var></code><a class="copiable-link" href="#index-agent_002dprogram-3"> &para;</a></span></dt>
<dd><p>Specify the agent program to be started if none is running.  The
default value is determined by running <code class="command">gpgconf</code> with the
option <samp class="option">--list-dirs</samp>.  Note that the pipe symbol (<code class="code">|</code>) is
used for a regression test suite hack and may thus not be used in the
file name.
</p>
</dd>
<dt><a id="index-dirmngr_002dprogram-2"></a><span><code class="code">--dirmngr-program <var class="var">file</var></code><a class="copiable-link" href="#index-dirmngr_002dprogram-2"> &para;</a></span></dt>
<dd><p>Specify the directory manager (keyserver client) program to be started
if none is running.  This has only an effect if used together with the
option <samp class="option">--dirmngr</samp>.
</p>
</dd>
<dt><a id="index-keyboxd_002dprogram"></a><span><code class="code">--keyboxd-program <var class="var">file</var></code><a class="copiable-link" href="#index-keyboxd_002dprogram"> &para;</a></span></dt>
<dd><p>Specify the keybox daemon program to be started if none is running.
This has only an effect if used together with the option
<samp class="option">--keyboxd</samp>.
</p>
</dd>
<dt><a id="index-run"></a><span><code class="code">-r <var class="var">file</var></code><a class="copiable-link" href="#index-run"> &para;</a></span></dt>
<dt><code class="code">--run <var class="var">file</var></code></dt>
<dd><p>Run the commands from <var class="var">file</var> at startup and then continue with the
regular input method.  Note, that commands given on the command line are
executed after this file.
</p>
</dd>
<dt><a id="index-subst"></a><span><code class="code">-s</code><a class="copiable-link" href="#index-subst"> &para;</a></span></dt>
<dt><code class="code">--subst</code></dt>
<dd><p>Run the command <code class="code">/subst</code> at startup.
</p>
</dd>
<dt><a id="index-hex"></a><span><code class="code">--hex</code><a class="copiable-link" href="#index-hex"> &para;</a></span></dt>
<dd><p>Print data lines in a hex format and the ASCII representation of
non-control characters.
</p>
</dd>
<dt><a id="index-decode"></a><span><code class="code">--decode</code><a class="copiable-link" href="#index-decode"> &para;</a></span></dt>
<dd><p>Decode data lines.  That is to remove percent escapes but make sure that
a new line always starts with a D and a space.
</p>
</dd>
<dt><a id="index-unbuffered"></a><span><code class="code">-u</code><a class="copiable-link" href="#index-unbuffered"> &para;</a></span></dt>
<dt><code class="code">--unbuffered</code></dt>
<dd><p>Set stdin and stdout into unbuffered I/O mode.  This this sometimes
useful for scripting.
</p>

</dd>
</dl>


<hr>
</div>
<div class="subsection-level-extent" id="Controlling-gpg_002dconnect_002dagent">
<div class="nav-panel">
<p>
Previous: <a href="#Invoking-gpg_002dconnect_002dagent" accesskey="p" rel="prev">List of all options</a>, Up: <a href="#gpg_002dconnect_002dagent" accesskey="u" rel="up">Communicate with a running agent</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Control-commands"><span>10.7.2 Control commands<a class="copiable-link" href="#Control-commands"> &para;</a></span></h4>

<p>While reading Assuan commands, gpg-agent also allows a few special
commands to control its operation.  These control commands all start
with a slash (<code class="code">/</code>).
</p>
<dl class="table">
<dt><code class="code">/echo <var class="var">args</var></code></dt>
<dd><p>Just print <var class="var">args</var>.
</p>
</dd>
<dt><code class="code">/let <var class="var">name</var> <var class="var">value</var></code></dt>
<dd><p>Set the variable <var class="var">name</var> to <var class="var">value</var>.  Variables are only
substituted on the input if the <code class="command">/subst</code> has been used.
Variables are referenced by prefixing the name with a dollar sign and
optionally include the name in curly braces.  The rules for a valid name
are identically to those of the standard bourne shell.  This is not yet
enforced but may be in the future.  When used with curly braces no
leading or trailing white space is allowed.
</p>
<p>If a variable is not found, it is searched in the environment and if
found copied to the table of variables.
</p>
<p>Variable functions are available: The name of the function must be
followed by at least one space and the at least one argument.  The
following functions are available:
</p>
<dl class="table">
<dt><code class="code">get</code></dt>
<dd><p>Return a value described by the argument.  Available arguments are:
</p>
<dl class="table">
<dt><code class="code">cwd</code></dt>
<dd><p>The current working directory.
</p></dd>
<dt><code class="code">homedir</code></dt>
<dd><p>The gnupg homedir.
</p></dd>
<dt><code class="code">sysconfdir</code></dt>
<dd><p>GnuPG&rsquo;s system configuration directory.
</p></dd>
<dt><code class="code">bindir</code></dt>
<dd><p>GnuPG&rsquo;s binary directory.
</p></dd>
<dt><code class="code">libdir</code></dt>
<dd><p>GnuPG&rsquo;s library directory.
</p></dd>
<dt><code class="code">libexecdir</code></dt>
<dd><p>GnuPG&rsquo;s library directory for executable files.
</p></dd>
<dt><code class="code">datadir</code></dt>
<dd><p>GnuPG&rsquo;s data directory.
</p></dd>
<dt><code class="code">serverpid</code></dt>
<dd><p>The PID of the current server. Command <code class="command">/serverpid</code> must
have been given to return a useful value.
</p></dd>
</dl>

</dd>
<dt><code class="code">unescape <var class="var">args</var></code></dt>
<dd><p>Remove C-style escapes from <var class="var">args</var>.  Note that <code class="code">\0</code> and
<code class="code">\x00</code> terminate the returned string implicitly.  The string to be
converted are the entire arguments right behind the delimiting space of
the function name.
</p>
</dd>
<dt><code class="code">unpercent <var class="var">args</var></code></dt>
<dt><code class="code">unpercent+ <var class="var">args</var></code></dt>
<dd><p>Remove percent style escaping from <var class="var">args</var>.  Note that <code class="code">%00</code>
terminates the string implicitly.  The string to be converted are the
entire arguments right behind the delimiting space of the function
name. <code class="code">unpercent+</code> also maps plus signs to a spaces.
</p>
</dd>
<dt><code class="code">percent <var class="var">args</var></code></dt>
<dt><code class="code">percent+ <var class="var">args</var></code></dt>
<dd><p>Escape the <var class="var">args</var> using percent style escaping.  Tabs, formfeeds,
linefeeds, carriage returns and colons are escaped. <code class="code">percent+</code> also
maps spaces to plus signs.
</p>
</dd>
<dt><code class="code">errcode <var class="var">arg</var></code></dt>
<dt><code class="code">errsource <var class="var">arg</var></code></dt>
<dt><code class="code">errstring <var class="var">arg</var></code></dt>
<dd><p>Assume <var class="var">arg</var> is an integer and evaluate it using <code class="code">strtol</code>.  Return
the gpg-error error code, error source or a formatted string with the
error code and error source.
</p>

</dd>
<dt><code class="code">+</code></dt>
<dt><code class="code">-</code></dt>
<dt><code class="code">*</code></dt>
<dt><code class="code">/</code></dt>
<dt><code class="code">%</code></dt>
<dd><p>Evaluate all arguments as long integers using <code class="code">strtol</code> and apply
this operator.  A division by zero yields an empty string.
</p>
</dd>
<dt><code class="code">!</code></dt>
<dt><code class="code">|</code></dt>
<dt><code class="code">&amp;</code></dt>
<dd><p>Evaluate all arguments as long integers using <code class="code">strtol</code> and apply
the logical operators NOT, OR or AND.  The NOT operator works on the
last argument only.
</p>

</dd>
</dl>


</dd>
<dt><code class="code">/definq <var class="var">name</var> <var class="var">var</var></code></dt>
<dd><p>Use content of the variable <var class="var">var</var> for inquiries with <var class="var">name</var>.
<var class="var">name</var> may be an asterisk (<code class="code">*</code>) to match any inquiry.
</p>

</dd>
<dt><code class="code">/definqfile <var class="var">name</var> <var class="var">file</var></code></dt>
<dd><p>Use content of <var class="var">file</var> for inquiries with <var class="var">name</var>.
<var class="var">name</var> may be an asterisk (<code class="code">*</code>) to match any inquiry.
</p>
</dd>
<dt><code class="code">/definqprog <var class="var">name</var> <var class="var">prog</var></code></dt>
<dd><p>Run <var class="var">prog</var> for inquiries matching <var class="var">name</var> and pass the
entire line to it as command line arguments.
</p>
</dd>
<dt><code class="code">/datafile <var class="var">name</var></code></dt>
<dd><p>Write all data lines from the server to the file <var class="var">name</var>.  The file
is opened for writing and created if it does not exists.  An existing
file is first truncated to 0.  The data written to the file fully
decoded.  Using a single dash for <var class="var">name</var> writes to stdout.  The
file is kept open until a new file is set using this command or this
command is used without an argument.
</p>
</dd>
<dt><code class="code">/showdef</code></dt>
<dd><p>Print all definitions
</p>
</dd>
<dt><code class="code">/cleardef</code></dt>
<dd><p>Delete all definitions
</p>
</dd>
<dt><code class="code">/sendfd <var class="var">file</var> <var class="var">mode</var></code></dt>
<dd><p>Open <var class="var">file</var> in <var class="var">mode</var> (which needs to be a valid <code class="code">fopen</code>
mode string) and send the file descriptor to the server.  This is
usually followed by a command like <code class="code">INPUT FD</code> to set the
input source for other commands.
</p>
</dd>
<dt><code class="code">/recvfd</code></dt>
<dd><p>Not yet implemented.
</p>
</dd>
<dt><code class="code">/open <var class="var">var</var> <var class="var">file</var> [<var class="var">mode</var>]</code></dt>
<dd><p>Open <var class="var">file</var> and assign the file descriptor to <var class="var">var</var>.  Warning:
This command is experimental and might change in future versions.
</p>
</dd>
<dt><code class="code">/close <var class="var">fd</var></code></dt>
<dd><p>Close the file descriptor <var class="var">fd</var>.  Warning: This command is
experimental and might change in future versions.
</p>
</dd>
<dt><code class="code">/showopen</code></dt>
<dd><p>Show a list of open files.
</p>
</dd>
<dt><code class="code">/serverpid</code></dt>
<dd><p>Send the Assuan command <code class="command">GETINFO pid</code> to the server and store
the returned PID for internal purposes.
</p>
</dd>
<dt><code class="code">/sleep</code></dt>
<dd><p>Sleep for a second.
</p>
</dd>
<dt><code class="code">/hex</code></dt>
<dt><code class="code">/nohex</code></dt>
<dd><p>Same as the command line option <samp class="option">--hex</samp>.
</p>
</dd>
<dt><code class="code">/decode</code></dt>
<dt><code class="code">/nodecode</code></dt>
<dd><p>Same as the command line option <samp class="option">--decode</samp>.
</p>
</dd>
<dt><code class="code">/subst</code></dt>
<dt><code class="code">/nosubst</code></dt>
<dd><p>Enable and disable variable substitution.  It defaults to disabled
unless the command line option <samp class="option">--subst</samp> has been used.
If /subst as been enabled once, leading whitespace is removed from
input lines which makes scripts easier to read.
</p>
</dd>
<dt><code class="code">/while <var class="var">condition</var></code></dt>
<dt><code class="code">/end</code></dt>
<dd><p>These commands provide a way for executing loops.  All lines between
the <code class="code">while</code> and the corresponding <code class="code">end</code> are executed as long
as the evaluation of <var class="var">condition</var> yields a non-zero value or is the
string <code class="code">true</code> or <code class="code">yes</code>.  The evaluation is done by passing
<var class="var">condition</var> to the <code class="code">strtol</code> function.  Example:
</p>
<div class="example smallexample">
<pre class="example-preformatted">  /subst
  /let i 3
  /while $i
    /echo loop counter is $i
    /let i ${- $i 1}
  /end
</pre></div>

</dd>
<dt><code class="code">/if <var class="var">condition</var></code></dt>
<dt><code class="code">/end</code></dt>
<dd><p>These commands provide a way for conditional execution.  All lines between
the <code class="code">if</code> and the corresponding <code class="code">end</code> are executed only if
the evaluation of <var class="var">condition</var> yields a non-zero value or is the
string <code class="code">true</code> or <code class="code">yes</code>.  The evaluation is done by passing
<var class="var">condition</var> to the <code class="code">strtol</code> function.
</p>
</dd>
<dt><code class="code">/run <var class="var">file</var></code></dt>
<dd><p>Run commands from <var class="var">file</var>.
</p>
</dd>
<dt><code class="code">/history --clear</code></dt>
<dd><p>Clear the command history.
</p>
</dd>
<dt><code class="code">/bye</code></dt>
<dd><p>Terminate the connection and the program.
</p>
</dd>
<dt><code class="code">/help</code></dt>
<dd><p>Print a list of available control commands.
</p>
</dd>
</dl>



<hr>
</div>
</div>
<div class="section-level-extent" id="dirmngr_002dclient">
<div class="nav-panel">
<p>
Next: <a href="#gpgparsemail" accesskey="n" rel="next">Parse a mail message into an annotated format</a>, Previous: <a href="#gpg_002dconnect_002dagent" accesskey="p" rel="prev">Communicate with a running agent</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="The-Dirmngr-Client-Tool"><span>10.8 The Dirmngr Client Tool<a class="copiable-link" href="#The-Dirmngr-Client-Tool"> &para;</a></span></h3>






<p>The <code class="command">dirmngr-client</code> is a simple tool to contact a running
dirmngr and test whether a certificate has been revoked &mdash; either by
being listed in the corresponding CRL or by running the OCSP protocol.
If no dirmngr is running, a new instances will be started but this is
in general not a good idea due to the huge performance overhead.
</p>
<p>The usual way to run this tool is either:
</p>
<div class="example">
<pre class="example-preformatted">dirmngr-client <var class="var">acert</var>
</pre></div>

<p>or
</p>
<div class="example">
<pre class="example-preformatted">dirmngr-client &lt;<var class="var">acert</var>
</pre></div>

<p>Where <var class="var">acert</var> is one DER encoded (binary) X.509 certificates to be
tested.
The return value of this command is
</p>

<dl class="table">
<dt><code class="code">0</code></dt>
<dd><p>The certificate under question is valid; i.e. there is a valid CRL
available and it is not listed there or the OCSP request returned that
that certificate is valid.
</p>
</dd>
<dt><code class="code">1</code></dt>
<dd><p>The certificate has been revoked
</p>
</dd>
<dt><code class="code">2 (and other values)</code></dt>
<dd><p>There was a problem checking the revocation state of the certificate.
A message to stderr has given more detailed information.  Most likely
this is due to a missing or expired CRL or due to a network problem.
</p>
</dd>
</dl>


<p><code class="command">dirmngr-client</code> may be called with the following options:
</p>

<dl class="table">
<dt><a id="index-version-7"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-7"> &para;</a></span></dt>
<dd><p>Print the program version and licensing information.  Note that you cannot
abbreviate this command.
</p>
</dd>
<dt><a id="index-help-7"></a><span><code class="code">--help, -h</code><a class="copiable-link" href="#index-help-7"> &para;</a></span></dt>
<dd><p>Print a usage message summarizing the most useful command-line options.
Note that you cannot abbreviate this command.
</p>
</dd>
<dt><a id="index-quiet-6"></a><span><code class="code">--quiet, -q</code><a class="copiable-link" href="#index-quiet-6"> &para;</a></span></dt>
<dd><p>Make the output extra brief by suppressing any informational messages.
</p>
</dd>
<dt><code class="code">-v</code></dt>
<dt><a class="index-entry-id" id="index-verbose-10"></a>
<a id="index-v-3"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-v-3"> &para;</a></span></dt>
<dd><p>Outputs additional information while running.
You can increase the verbosity by giving several
verbose commands to <small class="sc">DIRMNGR</small>, such as &lsquo;<samp class="samp">-vv</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-pem"></a><span><code class="code">--pem</code><a class="copiable-link" href="#index-pem"> &para;</a></span></dt>
<dd><p>Assume that the given certificate is in PEM (armored) format.
</p>
</dd>
<dt><a id="index-ocsp"></a><span><code class="code">--ocsp</code><a class="copiable-link" href="#index-ocsp"> &para;</a></span></dt>
<dd><p>Do the check using the OCSP protocol and ignore any CRLs.
</p>
</dd>
<dt><a id="index-force_002ddefault_002dresponder"></a><span><code class="code">--force-default-responder</code><a class="copiable-link" href="#index-force_002ddefault_002dresponder"> &para;</a></span></dt>
<dd><p>When checking using the OCSP protocol, force the use of the default OCSP
responder.  That is not to use the Reponder as given by the certificate.
</p>
</dd>
<dt><a id="index-ping"></a><span><code class="code">--ping</code><a class="copiable-link" href="#index-ping"> &para;</a></span></dt>
<dd><p>Check whether the dirmngr daemon is up and running.
</p>
</dd>
<dt><a id="index-cache_002dcert"></a><span><code class="code">--cache-cert</code><a class="copiable-link" href="#index-cache_002dcert"> &para;</a></span></dt>
<dd><p>Put the given certificate into the cache of a running dirmngr.  This is
mainly useful for debugging.
</p>
</dd>
<dt><a id="index-validate"></a><span><code class="code">--validate</code><a class="copiable-link" href="#index-validate"> &para;</a></span></dt>
<dd><p>Validate the given certificate using dirmngr&rsquo;s internal validation code.
This is mainly useful for debugging.
</p>
</dd>
<dt><a id="index-load_002dcrl-1"></a><span><code class="code">--load-crl</code><a class="copiable-link" href="#index-load_002dcrl-1"> &para;</a></span></dt>
<dd><p>This command expects a list of filenames with DER encoded CRL files.
With the option <samp class="option">--url</samp> URLs are expected in place of filenames
and they are loaded directly from the given location.  All CRLs will be
validated and then loaded into dirmngr&rsquo;s cache.
</p>
</dd>
<dt><a id="index-lookup"></a><span><code class="code">--lookup</code><a class="copiable-link" href="#index-lookup"> &para;</a></span></dt>
<dd><p>Take the remaining arguments and run a lookup command on each of them.
The results are Base-64 encoded outputs (without header lines).  This
may be used to retrieve certificates from a server. However the output
format is not very well suited if more than one certificate is returned.
</p>
</dd>
<dt><a id="index-url-1"></a><span><code class="code">--url</code><a class="copiable-link" href="#index-url-1"> &para;</a></span></dt>
<dt><code class="code">-u</code></dt>
<dd><p>Modify the <code class="command">lookup</code> and <code class="command">load-crl</code> commands to take an URL.
</p>
</dd>
<dt><a id="index-url-2"></a><span><code class="code">--local</code><a class="copiable-link" href="#index-url-2"> &para;</a></span></dt>
<dt><code class="code">-l</code></dt>
<dd><p>Let the <code class="command">lookup</code> command only search the local cache.
</p>
</dd>
<dt><a id="index-squid_002dmode"></a><span><code class="code">--squid-mode</code><a class="copiable-link" href="#index-squid_002dmode"> &para;</a></span></dt>
<dd><p>Run <small class="sc">DIRMNGR-CLIENT</small> in a mode suitable as a helper program for
Squid&rsquo;s <samp class="option">external_acl_type</samp> option.
</p>

</dd>
</dl>



<hr>
</div>
<div class="section-level-extent" id="gpgparsemail">
<div class="nav-panel">
<p>
Next: <a href="#gpgtar" accesskey="n" rel="next">Encrypt or sign files into an archive</a>, Previous: <a href="#dirmngr_002dclient" accesskey="p" rel="prev">The Dirmngr Client Tool</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Parse-a-mail-message-into-an-annotated-format"><span>10.9 Parse a mail message into an annotated format<a class="copiable-link" href="#Parse-a-mail-message-into-an-annotated-format"> &para;</a></span></h3>






<p>The <code class="command">gpgparsemail</code> is a utility currently only useful for
debugging.  Run it with <code class="code">--help</code> for usage information.
</p>


<hr>
</div>
<div class="section-level-extent" id="gpgtar">
<div class="nav-panel">
<p>
Next: <a href="#gpg_002dcheck_002dpattern" accesskey="n" rel="next">Check a passphrase on stdin against the patternfile</a>, Previous: <a href="#gpgparsemail" accesskey="p" rel="prev">Parse a mail message into an annotated format</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Encrypt-or-sign-files-into-an-archive"><span>10.10 Encrypt or sign files into an archive<a class="copiable-link" href="#Encrypt-or-sign-files-into-an-archive"> &para;</a></span></h3>




<p><code class="command">gpgtar</code> encrypts or signs files into an archive.  It is an
gpg-ized tar using the same format as used by PGP&rsquo;s PGP Zip.
</p>

<p><code class="command">gpgtar</code> is invoked this way:
</p>
<div class="example">
<pre class="example-preformatted">gpgtar [options] <var class="var">filename1</var> [<var class="var">filename2</var>, ...] <var class="var">directory</var> [<var class="var">directory2</var>, ...]
</pre></div>


<p><code class="command">gpgtar</code> understands these options:
</p>
<dl class="table">
<dt><a id="index-create"></a><span><code class="code">--create</code><a class="copiable-link" href="#index-create"> &para;</a></span></dt>
<dd><p>Put given files and directories into a vanilla &ldquo;ustar&rdquo; archive.
</p>
</dd>
<dt><a id="index-extract"></a><span><code class="code">--extract</code><a class="copiable-link" href="#index-extract"> &para;</a></span></dt>
<dd><p>Extract all files from a vanilla &ldquo;ustar&rdquo; archive.
If no file name is given (or it is &quot;-&quot;) the archive is taken from
stdin.
</p>
</dd>
<dt><a id="index-encrypt-2"></a><span><code class="code">--encrypt</code><a class="copiable-link" href="#index-encrypt-2"> &para;</a></span></dt>
<dt><code class="code">-e</code></dt>
<dd><p>Encrypt given files and directories into an archive.  This option may
be combined with option <samp class="option">--symmetric</samp> for an archive that may
be decrypted via a secret key or a passphrase.
</p>
</dd>
<dt><a id="index-decrypt-2"></a><span><code class="code">--decrypt</code><a class="copiable-link" href="#index-decrypt-2"> &para;</a></span></dt>
<dt><code class="code">-d</code></dt>
<dd><p>Extract all files from an encrypted archive.   If no file name is given
(or it is &quot;-&quot;) the archive is taken from stdin.
</p>
</dd>
<dt><code class="code">--sign</code></dt>
<dt><code class="code">-s</code></dt>
<dd><p>Make a signed archive from the given files and directories.  This can
be combined with option <samp class="option">--encrypt</samp> to create a signed and then
encrypted archive.
</p>
</dd>
<dt><a id="index-list_002darchive"></a><span><code class="code">--list-archive</code><a class="copiable-link" href="#index-list_002darchive"> &para;</a></span></dt>
<dt><code class="code">-t</code></dt>
<dd><p>List the contents of the specified archive.  If no file name is given
(or it is &quot;-&quot;) the archive is taken from stdin.
</p>
</dd>
<dt><code class="code">--symmetric</code></dt>
<dt><code class="code">-c</code></dt>
<dd><p>Encrypt with a symmetric cipher using a passphrase.  The default
symmetric cipher used is AES-128, but may be chosen with the
<samp class="option">--cipher-algo</samp> option to <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-recipient-2"></a><span><code class="code">--recipient <var class="var">user</var></code><a class="copiable-link" href="#index-recipient-2"> &para;</a></span></dt>
<dt><code class="code">-r <var class="var">user</var></code></dt>
<dd><p>Encrypt for user id <var class="var">user</var>. For details see <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-local_002duser-2"></a><span><code class="code">--local-user <var class="var">user</var></code><a class="copiable-link" href="#index-local_002duser-2"> &para;</a></span></dt>
<dt><code class="code">-u <var class="var">user</var></code></dt>
<dd><p>Use <var class="var">user</var> as the key to sign with.  For details see <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-output-3"></a><span><code class="code">--output <var class="var">file</var></code><a class="copiable-link" href="#index-output-3"> &para;</a></span></dt>
<dt><code class="code">-o <var class="var">file</var></code></dt>
<dd><p>Write the archive to the specified file <var class="var">file</var>.
</p>
</dd>
<dt><a id="index-verbose-11"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-11"> &para;</a></span></dt>
<dt><code class="code">-v</code></dt>
<dd><p>Enable extra informational output.
</p>
</dd>
<dt><a id="index-quiet-7"></a><span><code class="code">--quiet</code><a class="copiable-link" href="#index-quiet-7"> &para;</a></span></dt>
<dt><code class="code">-q</code></dt>
<dd><p>Try to be as quiet as possible.
</p>
</dd>
<dt><a id="index-skip_002dcrypto"></a><span><code class="code">--skip-crypto</code><a class="copiable-link" href="#index-skip_002dcrypto"> &para;</a></span></dt>
<dd><p>Skip all crypto operations and create or extract vanilla &ldquo;ustar&rdquo;
archives.
</p>
</dd>
<dt><a id="index-dry_002drun-1"></a><span><code class="code">--dry-run</code><a class="copiable-link" href="#index-dry_002drun-1"> &para;</a></span></dt>
<dd><p>Do not actually output the extracted files.
</p>
</dd>
<dt><a id="index-directory"></a><span><code class="code">--directory <var class="var">dir</var></code><a class="copiable-link" href="#index-directory"> &para;</a></span></dt>
<dt><code class="code">-C <var class="var">dir</var></code></dt>
<dd><p>Extract the files into the directory <var class="var">dir</var>.  The default is to
take the directory name from the input filename.  If no input filename
is known a directory named <samp class="file">GPGARCH</samp> is used.  For tarball
creation, switch to directory <var class="var">dir</var> before performing any
operations.
</p>
</dd>
<dt><code class="code">--files-from <var class="var">file</var></code></dt>
<dt><code class="code">-T <var class="var">file</var></code></dt>
<dd><p>Take the file names to work from the file <var class="var">file</var>; one file per
line.
</p>
</dd>
<dt><a id="index-null"></a><span><code class="code">--null</code><a class="copiable-link" href="#index-null"> &para;</a></span></dt>
<dd><p>Modify option <samp class="option">--files-from</samp> to use a binary nul instead of a
linefeed to separate file names.
</p>
</dd>
<dt><a id="index-utf8_002dstrings-1"></a><span><code class="code">--utf8-strings</code><a class="copiable-link" href="#index-utf8_002dstrings-1"> &para;</a></span></dt>
<dd><p>Assume that the file names read by <samp class="option">--files-from</samp> are UTF-8
encoded.  This option has an effect only on Windows where the active
code page is otherwise assumed.
</p>
</dd>
<dt><a id="index-openpgp-1"></a><span><code class="code">--openpgp</code><a class="copiable-link" href="#index-openpgp-1"> &para;</a></span></dt>
<dd><p>This option has no effect because OpenPGP encryption and signing is
the default.
</p>
</dd>
<dt><a id="index-cms"></a><span><code class="code">--cms</code><a class="copiable-link" href="#index-cms"> &para;</a></span></dt>
<dd><p>This option is reserved and shall not be used.  It will eventually be
used to encrypt or sign using the CMS protocol; but that is not yet
implemented.
</p>
</dd>
<dt><a id="index-batch-2"></a><span><code class="code">--batch</code><a class="copiable-link" href="#index-batch-2"> &para;</a></span></dt>
<dd><p>Use batch mode.  Never ask but use the default action.  This option is
passed directly to <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-yes-1"></a><span><code class="code">--yes</code><a class="copiable-link" href="#index-yes-1"> &para;</a></span></dt>
<dd><p>Assume &quot;yes&quot; on most questions.  Often used together with
<samp class="option">--batch</samp> to overwrite existing files.  This option is passed
directly to <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-no-1"></a><span><code class="code">--no</code><a class="copiable-link" href="#index-no-1"> &para;</a></span></dt>
<dd><p>Assume &quot;no&quot; on most questions.  This option is passed directly to
<code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-require_002dcompliance-2"></a><span><code class="code">--require-compliance</code><a class="copiable-link" href="#index-require_002dcompliance-2"> &para;</a></span></dt>
<dd><p>This option is passed directly to <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-status_002dfd-4"></a><span><code class="code">--status-fd <var class="var">n</var></code><a class="copiable-link" href="#index-status_002dfd-4"> &para;</a></span></dt>
<dd><p>Write special status strings to the file descriptor <var class="var">n</var>.
See the file DETAILS in the documentation for a listing of them.
</p>
</dd>
<dt><a id="index-with_002dlog"></a><span><code class="code">--with-log</code><a class="copiable-link" href="#index-with_002dlog"> &para;</a></span></dt>
<dd><p>When extracting an encrypted tarball also write a log file with the
gpg output to a file named after the extraction directory with the
suffix &quot;.log&quot;.
</p>
</dd>
<dt><a id="index-set_002dfilename-1"></a><span><code class="code">--set-filename <var class="var">file</var></code><a class="copiable-link" href="#index-set_002dfilename-1"> &para;</a></span></dt>
<dd><p>Use the last component of <var class="var">file</var> as the output directory.  The
default is to take the directory name from the input filename.  If no
input filename is known a directory named <samp class="file">GPGARCH</samp> is used.
This option is deprecated in favor of option <samp class="option">--directory</samp>.
</p>
</dd>
<dt><a id="index-no_002dcompress-1"></a><span><code class="code">--no-compress</code><a class="copiable-link" href="#index-no_002dcompress-1"> &para;</a></span></dt>
<dd><p>This option tells gpg to disable compression (i.e. using option -z0).
It is useful for archiving only large files which are are already
compressed (e.g. a set of videos).
</p>
</dd>
<dt><a id="index-gpg"></a><span><code class="code">--gpg <var class="var">gpgcmd</var></code><a class="copiable-link" href="#index-gpg"> &para;</a></span></dt>
<dd><p>Use the specified command <var class="var">gpgcmd</var> instead of <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-gpg_002dargs"></a><span><code class="code">--gpg-args <var class="var">args</var></code><a class="copiable-link" href="#index-gpg_002dargs"> &para;</a></span></dt>
<dd><p>Pass the specified extra options to <code class="command">gpg</code>.
</p>
</dd>
<dt><a id="index-tar_002dargs"></a><span><code class="code">--tar-args <var class="var">args</var></code><a class="copiable-link" href="#index-tar_002dargs"> &para;</a></span></dt>
<dd><p>Assume <var class="var">args</var> are standard options of the command <code class="command">tar</code>
and parse them.  The only supported tar options are &quot;&ndash;directory&quot;,
&quot;&ndash;files-from&quot;, and &quot;&ndash;null&quot; This is an obsolete options because those
supported tar options can also be given directly.
</p>
</dd>
<dt><a id="index-tar"></a><span><code class="code">--tar <var class="var">command</var></code><a class="copiable-link" href="#index-tar"> &para;</a></span></dt>
<dd><p>This is a dummy option for backward compatibility.
</p>
</dd>
<dt><a id="index-version-8"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-8"> &para;</a></span></dt>
<dd><p>Print version of the program and exit.
</p>
</dd>
<dt><a id="index-help-8"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help-8"> &para;</a></span></dt>
<dd><p>Display a brief help page and exit.
</p>
</dd>
</dl>


<p>The program returns 0 if everything was fine, 1 otherwise.
</p>


<p>Some examples:
</p>
<p>Encrypt the contents of directory <samp class="file">mydocs</samp> for user Bob to file
<samp class="file">test1</samp>:
</p>
<div class="example">
<pre class="example-preformatted">gpgtar --encrypt --output test1 -r Bob mydocs
</pre></div>

<p>List the contents of archive <samp class="file">test1</samp>:
</p>
<div class="example">
<pre class="example-preformatted">gpgtar --list-archive test1
</pre></div>






<hr>
</div>
<div class="section-level-extent" id="gpg_002dcheck_002dpattern">
<div class="nav-panel">
<p>
Previous: <a href="#gpgtar" accesskey="p" rel="prev">Encrypt or sign files into an archive</a>, Up: <a href="#Helper-Tools" accesskey="u" rel="up">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Check-a-passphrase-on-stdin-against-the-patternfile"><span>10.11 Check a passphrase on stdin against the patternfile<a class="copiable-link" href="#Check-a-passphrase-on-stdin-against-the-patternfile"> &para;</a></span></h3>




<p><code class="command">gpg-check-pattern</code> checks a passphrase given on stdin against
a specified pattern file.
</p>
<p>The pattern file is line based with comment lines beginning on the
<em class="emph">first</em> position with a <code class="code">#</code>.  Empty lines and lines with
only white spaces are ignored.  The actual pattern lines may either be
verbatim string pattern and match as they are (trailing spaces are
ignored) or extended regular expressions indicated by a <code class="code">/</code> or
<code class="code">!/</code> in the first column and terminated by another <code class="code">/</code> or
end of line.  If a regular expression starts with <code class="code">!/</code> the match
result is reversed. By default all comparisons are case insensitive.
</p>
<p>Tag lines may be used to further control the operation of this tool.
The currently defined tags are:
</p>
<dl class="table">
<dt><code class="code">[icase]</code></dt>
<dd><p>Switch to case insensitive comparison for all further patterns.  This
is the default.
</p>
</dd>
<dt><code class="code">[case]</code></dt>
<dd><p>Switch to case sensitive comparison for all further patterns.
</p>
</dd>
<dt><code class="code">[reject]</code></dt>
<dd><p>Switch to reject mode.  This is the default mode.
</p>
</dd>
<dt><code class="code">[accept]</code></dt>
<dd><p>Switch to accept mode.
</p></dd>
</dl>

<p>In the future more tags may be introduced and thus it is advisable not to
start a plain pattern string with an open bracket.  The tags must be
given verbatim on the line with no spaces to the left or any non white
space characters to the right.
</p>
<p>In reject mode the program exits on the first match with an exit code
of 1 (failure).  If at the end of the pattern list the reject mode is
still active the program exits with code 0 (success).
</p>
<p>In accept mode blocks of patterns are used.  A block starts at the
next pattern after an &quot;accept&quot; tag and ends with the last pattern
before the next &quot;accept&quot; or &quot;reject&quot; tag or at the end of the pattern
list.  If all patterns in a block match the program exits with an exit
code of 0 (success).  If any pattern in a block do not match the next
pattern block is evaluated.  If at the end of the pattern list the
accept mode is still active the program exits with code 1 (failure).
</p>



<dl class="table">
<dt><a id="index-verbose-12"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-12"> &para;</a></span></dt>
<dd><p>Enable extra informational output.
</p>
</dd>
<dt><a id="index-check"></a><span><code class="code">--check</code><a class="copiable-link" href="#index-check"> &para;</a></span></dt>
<dd><p>Run only a syntax check on the patternfile.
</p>
</dd>
<dt><a id="index-null-1"></a><span><code class="code">--null</code><a class="copiable-link" href="#index-null-1"> &para;</a></span></dt>
<dd><p>Input is expected to be null delimited.
</p>
</dd>
</dl>







<hr>
</div>
</div>
<div class="chapter-level-extent" id="Web-Key-Service">
<div class="nav-panel">
<p>
Next: <a href="#Howtos" accesskey="n" rel="next">How to do certain things</a>, Previous: <a href="#Helper-Tools" accesskey="p" rel="prev">Helper Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Web-Key-Service-1"><span>11 Web Key Service<a class="copiable-link" href="#Web-Key-Service-1"> &para;</a></span></h2>

<p>GnuPG comes with tools used to maintain and access a Web Key
Directory.
</p>


<ul class="mini-toc">
<li><a href="#gpg_002dwks_002dclient" accesskey="1">Send requests via WKS</a></li>
<li><a href="#gpg_002dwks_002dserver" accesskey="2">Provide the Web Key Service</a></li>
</ul>
<hr>
<div class="section-level-extent" id="gpg_002dwks_002dclient">
<div class="nav-panel">
<p>
Next: <a href="#gpg_002dwks_002dserver" accesskey="n" rel="next">Provide the Web Key Service</a>, Up: <a href="#Web-Key-Service" accesskey="u" rel="up">Web Key Service</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Send-requests-via-WKS"><span>11.1 Send requests via WKS<a class="copiable-link" href="#Send-requests-via-WKS"> &para;</a></span></h3>




<p>The <code class="command">gpg-wks-client</code> is used to send requests to a Web Key
Service provider.  This is usually done to upload a key into a Web
Key Directory.
</p>
<p>With the <samp class="option">--supported</samp> command the caller can test whether a
site supports the Web Key Service.  The argument is an arbitrary
address in the to be tested domain. For example
<samp class="file">foo@example.net</samp>.  The command returns success if the Web Key
Service is supported.  The operation is silent; to get diagnostic
output use the option <samp class="option">--verbose</samp>.  See option
<samp class="option">--with-colons</samp> for a variant of this command.
</p>
<p>With the <samp class="option">--check</samp> command the caller can test whether a key
exists for a supplied mail address.  The command returns success if a
key is available.
</p>
<p>The <samp class="option">--create</samp> command is used to send a request for
publication in the Web Key Directory.  The arguments are the
fingerprint of the key and the user id to publish.  The output from
the command is a properly formatted mail with all standard headers.
This mail can be fed to <code class="command">sendmail(8)</code> or any other tool to
actually send that mail.  If <code class="command">sendmail(8)</code> is installed the
option <samp class="option">--send</samp> can be used to directly send the created
request.  If the provider request a &rsquo;mailbox-only&rsquo; user id and no such
user id is found, <code class="command">gpg-wks-client</code> will try an additional user
id.
</p>
<p>The <samp class="option">--receive</samp> and <samp class="option">--read</samp> commands are used to
process confirmation mails as send from the service provider.  The
former expects an encrypted MIME messages, the latter an already
decrypted MIME message.  The result of these commands are another mail
which can be send in the same way as the mail created with
<samp class="option">--create</samp>.
</p>
<p>The command <samp class="option">--install-key</samp> manually installs a key into a
local directory (see option <samp class="option">-C</samp>) reflecting the structure of a
WKD.  The arguments are a file with the keyblock and the user-id to
install.  If the first argument resembles a fingerprint the key is
taken from the current keyring; to force the use of a file, prefix the
first argument with &quot;./&quot;.  If no arguments are given the parameters
are read from stdin; the expected format are lines with the
fingerprint and the mailbox separated by a space.  The command
<samp class="option">--remove-key</samp> removes a key from that directory, its only
argument is a user-id.
</p>
<p>The command <samp class="option">--mirror</samp> is similar to <samp class="option">--install-key</samp> but
takes the keys from the the LDAP server configured for Dirmngr.  If no
arguments are given all keys and user ids are installed.  If arguments
are given they are taken as domain names to limit the to be installed
keys.  The option <samp class="option">--blacklist</samp> may be used to further limit
the to be installed keys.
</p>
<p>The command <samp class="option">--print-wkd-hash</samp> prints the WKD user-id identifiers
and the corresponding mailboxes from the user-ids given on the command
line or via stdin (one user-id per line).
</p>
<p>The command <samp class="option">--print-wkd-url</samp> prints the URLs used to fetch the
key for the given user-ids from WKD.  The meanwhile preferred format
with sub-domains is used here.
</p>
<p>All commands may also be given without the two leading dashes.
</p>

<p><code class="command">gpg-wks-client</code> understands these options:
</p>
<dl class="table">
<dt><a id="index-send"></a><span><code class="code">--send</code><a class="copiable-link" href="#index-send"> &para;</a></span></dt>
<dd><p>Directly send created mails using the <code class="command">sendmail</code> command.
Requires installation of that command.
</p>
</dd>
<dt><a id="index-with_002dcolons-2"></a><span><code class="code">--with-colons</code><a class="copiable-link" href="#index-with_002dcolons-2"> &para;</a></span></dt>
<dd><p>This option has currently only an effect on the <samp class="option">--supported</samp>
command.  If it is used all arguments on the command line are taken
as domain names and tested for WKD support.  The output format is one
line per domain with colon delimited fields.  The currently specified
fields are (future versions may specify additional fields):
</p>
<dl class="table">
<dt>1 - domain</dt>
<dd><p>This is the domain name.  Although quoting is not required for valid
  domain names this field is specified to be quoted in standard C
  manner.
</p>
</dd>
<dt>2 - WKD</dt>
<dd><p>If the value is true the domain supports the Web Key Directory.
</p>
</dd>
<dt>3 - WKS</dt>
<dd><p>If the value is true the domain supports the Web Key Service
  protocol to upload keys to the directory.
</p>
</dd>
<dt>4 - error-code</dt>
<dd><p>This may contain an gpg-error code to describe certain
  failures.  Use &lsquo;<samp class="samp">gpg-error CODE</samp>&rsquo; to explain the code.
</p>
</dd>
<dt>5 - protocol-version</dt>
<dd><p>The minimum protocol version supported by the server.
</p>
</dd>
<dt>6 - auth-submit</dt>
<dd><p>The auth-submit flag from the policy file of the server.
</p>
</dd>
<dt>7 - mailbox-only</dt>
<dd><p>The mailbox-only flag from the policy file of the server.
</p></dd>
</dl>



</dd>
<dt><a id="index-output-4"></a><span><code class="code">--output <var class="var">file</var></code><a class="copiable-link" href="#index-output-4"> &para;</a></span></dt>
<dt><code class="code">-o</code></dt>
<dd><p>Write the created mail to <var class="var">file</var> instead of stdout.  Note that the
value <code class="code">-</code> for <var class="var">file</var> is the same as writing to stdout.  If
this option is used with the <samp class="option">--check</samp> command and a key was
found it is written to the given file.
</p>
</dd>
<dt><a id="index-status_002dfd-5"></a><span><code class="code">--status-fd <var class="var">n</var></code><a class="copiable-link" href="#index-status_002dfd-5"> &para;</a></span></dt>
<dd><p>Write special status strings to the file descriptor <var class="var">n</var>.
This program returns only the status messages SUCCESS or FAILURE which
are helpful when the caller uses a double fork approach and can&rsquo;t
easily get the return code of the process.
</p>
</dd>
<dt><a id="index-directory-1"></a><span><code class="code">-C <var class="var">dir</var></code><a class="copiable-link" href="#index-directory-1"> &para;</a></span></dt>
<dt><code class="code">--directory <var class="var">dir</var></code></dt>
<dd><p>Use <var class="var">dir</var> as top level directory for the commands
<samp class="option">--mirror</samp>, <samp class="option">--install-key</samp> and <samp class="option">--remove-key</samp>.
The default is <samp class="file">openpgpkey</samp>.
</p>

</dd>
<dt><a id="index-blacklist"></a><span><code class="code">--blacklist <var class="var">file</var></code><a class="copiable-link" href="#index-blacklist"> &para;</a></span></dt>
<dd><p>This option is used to exclude certain mail addresses from a mirror
operation.  The format of <var class="var">file</var> is one mail address (just the
addrspec, e.g. &quot;postel@isi.edu&quot;) per line.  Empty lines and lines
starting with a &rsquo;#&rsquo; are ignored.
</p>
</dd>
<dt><a class="index-entry-id" id="index-no_002dadd_002drevocs"></a>
<a id="index-add_002drevocs"></a><span><code class="code">--add-revocs</code><a class="copiable-link" href="#index-add_002drevocs"> &para;</a></span></dt>
<dt><code class="code">--no-add-revocs</code></dt>
<dd><p>If enabled append revocation certificates for the same addrspec as
used in the WKD to the key.  Modern gpg version are able to import and
apply them for existing keys.  Note that when used with the
<samp class="option">--mirror</samp> command the revocation are searched in the local
keyring and not in an LDAP directory.  The default is <samp class="option">--add-revocs</samp>.
</p>
</dd>
<dt><a id="index-verbose-13"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-13"> &para;</a></span></dt>
<dd><p>Enable extra informational output.
</p>
</dd>
<dt><a id="index-quiet-8"></a><span><code class="code">--quiet</code><a class="copiable-link" href="#index-quiet-8"> &para;</a></span></dt>
<dd><p>Disable almost all informational output.
</p>
</dd>
<dt><a id="index-version-9"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-9"> &para;</a></span></dt>
<dd><p>Print version of the program and exit.
</p>
</dd>
<dt><a id="index-help-9"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help-9"> &para;</a></span></dt>
<dd><p>Display a brief help page and exit.
</p>
</dd>
</dl>


<h2 class="chapheading" id="Examples-7"><span>Examples<a class="copiable-link" href="#Examples-7"> &para;</a></span></h2>

<p>To use the services with clients lacking integrated support, the
mailcap mechanism can be used.  Simply put:
</p><div class="example">
<pre class="example-preformatted">application/vnd.gnupg.wks; \
  /usr/bin/gpg-wks-client -v --read --send; \
  needsterminal; \
  description=WKS message
</pre></div>
<p>into the <samp class="file">/etc/mailcap</samp>.  This assumes that a /usr/lib/sendmail
is installed.  With this configuration any real mail programs will run
gpg-wks-client for messages received from a Web Key Service.
</p>




<hr>
</div>
<div class="section-level-extent" id="gpg_002dwks_002dserver">
<div class="nav-panel">
<p>
Previous: <a href="#gpg_002dwks_002dclient" accesskey="p" rel="prev">Send requests via WKS</a>, Up: <a href="#Web-Key-Service" accesskey="u" rel="up">Web Key Service</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Provide-the-Web-Key-Service"><span>11.2 Provide the Web Key Service<a class="copiable-link" href="#Provide-the-Web-Key-Service"> &para;</a></span></h3>




<p>The <code class="command">gpg-wks-server</code> is a server side implementation of the
Web Key Service.  It receives requests for publication, sends
confirmation requests, receives confirmations, and published the key.
It also has features to ease the setup and maintenance of a Web Key
Directory.
</p>
<p>When used with the command <samp class="option">--receive</samp> a single Web Key Service
mail is processed.  Commonly this command is used with the option
<samp class="option">--send</samp> to directly send the created mails back.  See below
for an installation example.
</p>
<p>The command <samp class="option">--cron</samp> is used for regular cleanup tasks.  For
example non-confirmed requested should be removed after their expire
time.  It is best to run this command once a day from a cronjob.
</p>
<p>The command <samp class="option">--list-domains</samp> prints all configured domains.
Further it creates missing directories for the configuration and
prints warnings pertaining to problems in the configuration.
</p>
<p>The command <samp class="option">--check-key</samp> (or just <samp class="option">--check</samp>) checks
whether a key with the given user-id is installed.  The process returns
success in this case; to also print a diagnostic use the option
<samp class="option">-v</samp>.  If the key is not installed a diagnostic is printed and
the process returns failure; to suppress the diagnostic, use option
<samp class="option">-q</samp>.  More than one user-id can be given; see also option
<samp class="option">with-file</samp>.
</p>
<p>The command <samp class="option">--install-key</samp> manually installs a key into the
WKD.  The arguments are a file with the keyblock and the user-id to
install.  If the first argument resembles a fingerprint the key is
taken from the current keyring; to force the use of a file, prefix the
first argument with &quot;./&quot;.  If no arguments are given the parameters
are read from stdin; the expected format are lines with the
fingerprint and the mailbox separated by a space.
</p>
<p>The command <samp class="option">--remove-key</samp> uninstalls a key from the WKD.  The
process returns success in this case; to also print a diagnostic, use
option <samp class="option">-v</samp>.  If the key is not installed a diagnostic is
printed and the process returns failure; to suppress the diagnostic,
use option <samp class="option">-q</samp>.
</p>
<p>The command <samp class="option">--revoke-key</samp> is not yet functional.
</p>


<p><code class="command">gpg-wks-server</code> understands these options:
</p>
<dl class="table">
<dt><a id="index-directory-2"></a><span><code class="code">-C <var class="var">dir</var></code><a class="copiable-link" href="#index-directory-2"> &para;</a></span></dt>
<dt><code class="code">--directory <var class="var">dir</var></code></dt>
<dd><p>Use <var class="var">dir</var> as top level directory for domains.  The default is
<samp class="file">/var/lib/gnupg/wks</samp>.
</p>
</dd>
<dt><a id="index-from"></a><span><code class="code">--from <var class="var">mailaddr</var></code><a class="copiable-link" href="#index-from"> &para;</a></span></dt>
<dd><p>Use <var class="var">mailaddr</var> as the default sender address.
</p>
</dd>
<dt><a id="index-header"></a><span><code class="code">--header <var class="var">name</var>=<var class="var">value</var></code><a class="copiable-link" href="#index-header"> &para;</a></span></dt>
<dd><p>Add the mail header &quot;<var class="var">name</var>: <var class="var">value</var>&quot; to all outgoing mails.
</p>
</dd>
<dt><a id="index-send-1"></a><span><code class="code">--send</code><a class="copiable-link" href="#index-send-1"> &para;</a></span></dt>
<dd><p>Directly send created mails using the <code class="command">sendmail</code> command.
Requires installation of that command.
</p>
</dd>
<dt><a id="index-output-5"></a><span><code class="code">-o <var class="var">file</var></code><a class="copiable-link" href="#index-output-5"> &para;</a></span></dt>
<dt><code class="code">--output <var class="var">file</var></code></dt>
<dd><p>Write the created mail also to <var class="var">file</var>. Note that the value
<code class="code">-</code> for <var class="var">file</var> would write it to stdout.
</p>
</dd>
<dt><a id="index-with_002ddir"></a><span><code class="code">--with-dir</code><a class="copiable-link" href="#index-with_002ddir"> &para;</a></span></dt>
<dd><p>When used with the command <samp class="option">--list-domains</samp> print for each
installed domain the domain name and its directory name.
</p>
</dd>
<dt><a id="index-with_002dfile"></a><span><code class="code">--with-file</code><a class="copiable-link" href="#index-with_002dfile"> &para;</a></span></dt>
<dd><p>When used with the command <samp class="option">--check-key</samp> print for each user-id,
the address, &rsquo;i&rsquo; for installed key or &rsquo;n&rsquo; for not installed key, and
the filename.
</p>
</dd>
<dt><a id="index-verbose-14"></a><span><code class="code">--verbose</code><a class="copiable-link" href="#index-verbose-14"> &para;</a></span></dt>
<dd><p>Enable extra informational output.
</p>
</dd>
<dt><a id="index-quiet-9"></a><span><code class="code">--quiet</code><a class="copiable-link" href="#index-quiet-9"> &para;</a></span></dt>
<dd><p>Disable almost all informational output.
</p>
</dd>
<dt><a id="index-version-10"></a><span><code class="code">--version</code><a class="copiable-link" href="#index-version-10"> &para;</a></span></dt>
<dd><p>Print version of the program and exit.
</p>
</dd>
<dt><a id="index-help-10"></a><span><code class="code">--help</code><a class="copiable-link" href="#index-help-10"> &para;</a></span></dt>
<dd><p>Display a brief help page and exit.
</p>
</dd>
</dl>


<h2 class="chapheading" id="Examples-8"><span>Examples<a class="copiable-link" href="#Examples-8"> &para;</a></span></h2>

<p>The Web Key Service requires a working directory to store keys
pending for publication.  As root create a working directory:
</p>
<div class="example">
<pre class="example-preformatted">  # mkdir /var/lib/gnupg/wks
  # chown webkey:webkey /var/lib/gnupg/wks
  # chmod 2750 /var/lib/gnupg/wks
</pre></div>

<p>Then under your webkey account create directories for all your
domains.  Here we do it for &quot;example.net&quot;:
</p>
<div class="example">
<pre class="example-preformatted">  $ mkdir /var/lib/gnupg/wks/example.net
</pre></div>

<p>Finally run
</p>
<div class="example">
<pre class="example-preformatted">  $ gpg-wks-server --list-domains
</pre></div>

<p>to create the required sub-directories with the permissions set
correctly.  For each domain a submission address needs to be
configured.  All service mails are directed to that address.  It can
be the same address for all configured domains, for example:
</p>
<div class="example">
<pre class="example-preformatted">  $ cd /var/lib/gnupg/wks/example.net
  $ echo key-submission@example.net &gt;submission-address
</pre></div>

<p>The protocol requires that the key to be published is sent with an
encrypted mail to the service.  Thus you need to create a key for
the submission address:
</p>
<div class="example">
<pre class="example-preformatted">  $ gpg --batch --passphrase '' --quick-gen-key key-submission@example.net
  $ gpg -K key-submission@example.net
</pre></div>

<p>The output of the last command looks similar to this:
</p>
<div class="example">
<pre class="example-preformatted">  sec   rsa3072 2016-08-30 [SC]
        C0FCF8642D830C53246211400346653590B3795B
  uid           [ultimate] key-submission@example.net
                bxzcxpxk8h87z1k7bzk86xn5aj47intu@example.net
  ssb   rsa3072 2016-08-30 [E]
</pre></div>

<p>Take the fingerprint from that output and manually publish the key:
</p>
<div class="example">
<pre class="example-preformatted">  $ gpg-wks-server --install-key C0FCF8642D830C53246211400346653590B3795B \
  &gt;                key-submission@example.net
</pre></div>

<p>Finally that submission address needs to be redirected to a script
running <code class="command">gpg-wks-server</code>.  The <code class="command">procmail</code> command can
be used for this: Redirect the submission address to the user &quot;webkey&quot;
and put this into webkey&rsquo;s <samp class="file">.procmailrc</samp>:
</p>
<div class="example">
<pre class="example-preformatted">:0
* !^From: webkey@example.net
* !^X-WKS-Loop: webkey.example.net
|gpg-wks-server -v --receive \
     --header X-WKS-Loop=webkey.example.net \
     --from webkey@example.net --send
</pre></div>





<hr>
</div>
</div>
<div class="chapter-level-extent" id="Howtos">
<div class="nav-panel">
<p>
Next: <a href="#System-Notes" accesskey="n" rel="next">Notes pertaining to certain OSes</a>, Previous: <a href="#Web-Key-Service" accesskey="p" rel="prev">Web Key Service</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="How-to-do-certain-things"><span>12 How to do certain things<a class="copiable-link" href="#How-to-do-certain-things"> &para;</a></span></h2>

<p>This is a collection of small howto documents.
</p>


<ul class="mini-toc">
<li><a href="#Howto-Create-a-Server-Cert" accesskey="1">Creating a TLS server certificate</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Howto-Create-a-Server-Cert">
<div class="nav-panel">
<p>
Up: <a href="#Howtos" accesskey="u" rel="up">How to do certain things</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Creating-a-TLS-server-certificate"><span>12.1 Creating a TLS server certificate<a class="copiable-link" href="#Creating-a-TLS-server-certificate"> &para;</a></span></h3>


<p>Here is a brief run up on how to create a server certificate. It has
actually been done this way to get a certificate from CAcert to be used
on a real server.  It has only been tested with this CA, but there
shouldn&rsquo;t be any problem to run this against any other CA.
</p>
<p>We start by generating an X.509 certificate signing request. As there
is no need for a configuration file, you may simply enter:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  $ gpgsm --generate-key &gt;example.com.cert-req.pem
  Please select what kind of key you want:
     (1) RSA
     (2) Existing key
     (3) Existing key from card
  Your selection? 1
</pre></div>
</td></tr></table>

<p>I opted for creating a new RSA key. The other option is to use an
already existing key, by selecting <kbd class="kbd">2</kbd> and entering the so-called
keygrip.  Running the command &lsquo;<samp class="samp">gpgsm --dump-secret-key USERID</samp>&rsquo;
shows you this keygrip.  Using <kbd class="kbd">3</kbd> offers another menu to create a
certificate directly from a smart card based key.
</p>
<p>Let&rsquo;s continue:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  What keysize do you want? (3072)
  Requested keysize is 3072 bits
</pre></div>
</td></tr></table>

<p>Hitting enter chooses the default RSA key size of 3072 bits.  Keys
smaller than 2048 bits are too weak on the modern Internet.  If you
choose a larger (stronger) key, your server will need to do more work.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  Possible actions for a RSA key:
     (1) sign, encrypt
     (2) sign
     (3) encrypt
  Your selection? 1
</pre></div>
</td></tr></table>

<p>Selecting &ldquo;sign&rdquo; enables use of the key for Diffie-Hellman key
exchange mechanisms (DHE and ECDHE) in TLS, which are preferred
because they offer forward secrecy.  Selecting &ldquo;encrypt&rdquo; enables RSA
key exchange mechanisms, which are still common in some places.
Selecting both enables both key exchange mechanisms.
</p>
<p>Now for some real data:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  Enter the X.509 subject name: CN=example.com
</pre></div>
</td></tr></table>

<p>This is the most important value for a server certificate. Enter here
the canonical name of your server machine. You may add other virtual
server names later.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  E-Mail addresses (end with an empty line):
  &gt; 
</pre></div>
</td></tr></table>

<p>We don&rsquo;t need email addresses in a TLS server certificate and CAcert
would anyway ignore such a request. Thus just hit enter.
</p>
<p>If you want to create a client certificate for email encryption, this
would be the place to enter your mail address
(e.g. <a class="email" href="mailto:joe@example.org">joe@example.org</a>). You may enter as many addresses as you like,
however the CA may not accept them all or reject the entire request.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  Enter DNS names (optional; end with an empty line):
  &gt; example.com
  &gt; www.example.com
  &gt; 
</pre></div>
</td></tr></table>

<p>Here I entered the names of the services which the machine actually
provides.  You almost always want to include the canonical name here
too. The browser will accept a certificate for any of these names. As
usual the CA must approve all of these names.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  URIs (optional; end with an empty line):
  &gt;
</pre></div>
</td></tr></table>

<p>It is possible to insert arbitrary URIs into a certificate; for a server
certificate this does not make sense.
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  Create self-signed certificate? (y/N)
</pre></div>
</td></tr></table>

<p>Since we are creating a certificate signing request, and not a full
certificate, we answer no here, or just hit enter for the default.
</p>
<p>We have now entered all required information and <code class="command">gpgsm</code> will
display what it has gathered and ask whether to create the certificate
request:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  These parameters are used:
      Key-Type: RSA
      Key-Length: 3072
      Key-Usage: sign, encrypt
      Name-DN: CN=example.com
      Name-DNS: example.com
      Name-DNS: www.example.com

  Proceed with creation? (y/N) y
</pre></div>
</td></tr></table>

<p><code class="command">gpgsm</code> will now start working on creating the request. As this
includes the creation of an RSA key it may take a while. During this
time you will be asked 3 times for a passphrase to protect the created
private key on your system. A pop up window will appear to ask for
it. The first two prompts are for the new passphrase and for re-entering it;
the third one is required to actually create the certificate signing request.
</p>
<p>When it is ready, you should see the final notice:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  Ready.  You should now send this request to your CA.
</pre></div>
</td></tr></table>

<p>Now, you may look at the created request:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  $ cat example.com.cert-req.pem
  -----BEGIN CERTIFICATE REQUEST-----
  MIIClTCCAX0CAQAwFjEUMBIGA1UEAxMLZXhhbXBsZS5jb20wggEiMA0GCSqGSIb3
  DQEBAQUAA4IBDwAwggEKAoIBAQDP1QEcbTvOLLCX4gAoOzH9AW7jNOMj7OSOL0uW
  h2bCdkK5YVpnX212Z6COTC3ZG0pJiCeGt1TbbDJUlTa4syQ6JXavjK66N8ASZsyC
  Rwcl0m6hbXp541t1dbgt2VgeGk25okWw3j+brw6zxLD2TnthJxOatID0lDIG47HW
  GqzZmA6WHbIBIONmGnReIHTpPAPCDm92vUkpKG1xLPszuRmsQbwEl870W/FHrsvm
  DPvVUUSdIvTV9NuRt7/WY6G4nPp9QlIuTf1ESPzIuIE91gKPdrRCAx0yuT708S1n
  xCv3ETQ/bKPoAQ67eE3mPBqkcVwv9SE/2/36Lz06kAizRgs5AgMBAAGgOjA4Bgkq
  hkiG9w0BCQ4xKzApMCcGA1UdEQQgMB6CC2V4YW1wbGUuY29tgg93d3cuZXhhbXBs
  ZS5jb20wDQYJKoZIhvcNAQELBQADggEBAEWD0Qqz4OENLYp6yyO/KqF0ig9FDsLN
  b5/R+qhms5qlhdB5+Dh+j693Sj0UgbcNKc6JT86IuBqEBZmRCJuXRoKoo5aMS1cJ
  hXga7N9IA3qb4VBUzBWvlL92U2Iptr/cEbikFlYZF2Zv3PBv8RfopVlI3OLbKV9D
  bJJTt/6kuoydXKo/Vx4G0DFzIKNdFdJk86o/Ziz8NOs9JjZxw9H9VY5sHKFM5LKk
  VcLwnnLRlNjBGB+9VK/Tze575eG0cJomTp7UGIB+1xzIQVAhUZOizRDv9tHDeaK3
  k+tUhV0kuJcYHucpJycDSrP/uAY5zuVJ0rs2QSjdnav62YrRgEsxJrU=
  -----END CERTIFICATE REQUEST-----
  $
</pre></div>
</td></tr></table>

<p>You may now proceed by logging into your account at the CAcert website,
choose <code class="code">Server Certificates - New</code>, check <code class="code">sign by class 3 root
certificate</code>, paste the above request block into the text field and
click on <code class="code">Submit</code>.
</p>
<p>If everything works out fine, a certificate will be shown. Now run
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">$ gpgsm --import
</pre></div>
</td></tr></table>

<p>and paste the certificate from the CAcert page into your terminal
followed by a Ctrl-D
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  -----BEGIN CERTIFICATE-----
  MIIEIjCCAgqgAwIBAgIBTDANBgkqhkiG9w0BAQQFADBUMRQwEgYDVQQKEwtDQWNl
   [...]
  rUTFlNElRXCwIl0YcJkIaYYqWf7+A/aqYJCi8+51usZwMy3Jsq3hJ6MA3h1BgwZs
  Rtct3tIX
  -----END CERTIFICATE-----
  gpgsm: issuer certificate (#/CN=CAcert Class 3 Ro[...]) not found
  gpgsm: certificate imported
  
  gpgsm: total number processed: 1
  gpgsm:               imported: 1
</pre></div>
</td></tr></table>

<p><code class="command">gpgsm</code> tells you that it has imported the certificate. It is now
associated with the key you used when creating the request. The root
certificate has not been found, so you may want to import it from the
CACert website.
</p>
<p>To see the content of your certificate, you may now enter:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  $ gpgsm -K example.com
  /home/foo/.gnupg/pubring.kbx
  ---------------------------
  Serial number: 4C
         Issuer: /CN=CAcert Class 3 Root/OU=http:\x2f\x2fwww.[...]
        Subject: /CN=example.com
            aka: (dns-name example.com)
            aka: (dns-name www.example.com)
       validity: 2015-07-01 16:20:51 through 2016-07-01 16:20:51
       key type: 3072 bit RSA
      key usage: digitalSignature keyEncipherment
  ext key usage: clientAuth (suggested), serverAuth (suggested), [...]
    fingerprint: 0F:9C:27:B2:DA:05:5F:CB:33:D8:19:E9:65:B9:4F:BD:B1:98:CC:57
</pre></div>
</td></tr></table>

<p>I used <samp class="option">-K</samp> above because this will only list certificates for
which a private key is available.  To see more details, you may use
<samp class="option">--dump-secret-keys</samp> instead of <samp class="option">-K</samp>.
</p>

<p>To make actual use of the certificate you need to install it on your
server. Server software usually expects a PKCS\#12 file with key and
certificate. To create such a file, run:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  $ gpgsm --export-secret-key-p12 -a &gt;example.com-cert.pem
</pre></div>
</td></tr></table>

<p>You will be asked for the passphrase as well as for a new passphrase to
be used to protect the PKCS\#12 file. The file now contains the
certificate as well as the private key:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example">
<pre class="example-preformatted">  $ cat example-cert.pem
  Issuer ...: /CN=CAcert Class 3 Root/OU=http:\x2f\x2fwww.CA[...]
  Serial ...: 4C
  Subject ..: /CN=example.com
      aka ..: (dns-name example.com)
      aka ..: (dns-name www.example.com)
  
  -----BEGIN PKCS12-----
  MIIHlwIBAzCCB5AGCSqGSIb37QdHAaCCB4EEggd9MIIHeTk1BJ8GCSqGSIb3DQEu
  [...many more lines...]
  -----END PKCS12-----
  $
</pre></div>
</td></tr></table>

<p>Copy this file in a secure way to the server, install it there and
delete the file then. You may export the file again at any time as long
as it is available in GnuPG&rsquo;s private key database.
</p>



<hr>
</div>
</div>
<div class="chapter-level-extent" id="System-Notes">
<div class="nav-panel">
<p>
Next: <a href="#Debugging" accesskey="n" rel="next">How to solve problems</a>, Previous: <a href="#Howtos" accesskey="p" rel="prev">How to do certain things</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="Notes-pertaining-to-certain-OSes"><span>13 Notes pertaining to certain OSes<a class="copiable-link" href="#Notes-pertaining-to-certain-OSes"> &para;</a></span></h2>

<p>GnuPG has been developed on GNU/Linux systems and is know to work on
almost all Free OSes.  All modern POSIX systems should be supported
right now, however there are probably a lot of smaller glitches we need
to fix first.  The major problem areas are:
</p>
<ul class="itemize mark-bullet">
<li>We are planning to use file descriptor passing for interprocess
communication.  This will allow us save a lot of resources and improve
performance of certain operations a lot.  Systems not supporting this
won&rsquo;t gain these benefits but we try to keep them working the standard
way as it is done today.

</li><li>We require more or less full POSIX compatibility.  This has been
around for 15 years now and thus we don&rsquo;t believe it makes sense to
support non POSIX systems anymore.  Well, we of course the usual
workarounds for near POSIX systems well be applied.

<p>There is one exception of this rule: Systems based the Microsoft Windows
API (called here <em class="emph">W32</em>) will be supported to some extend.
</p>
</li></ul>




<ul class="mini-toc">
<li><a href="#W32-Notes" accesskey="1">Microsoft Windows Notes</a></li>
</ul>
<hr>
<div class="section-level-extent" id="W32-Notes">
<div class="nav-panel">
<p>
Up: <a href="#System-Notes" accesskey="u" rel="up">Notes pertaining to certain OSes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Microsoft-Windows-Notes"><span>13.1 Microsoft Windows Notes<a class="copiable-link" href="#Microsoft-Windows-Notes"> &para;</a></span></h3>

<p>Current limitations are:
</p>
<ul class="itemize mark-bullet">
<li><code class="command">gpgconf</code> does not create backup files, so in case of trouble
your configuration file might get lost.

</li><li><code class="command">watchgnupg</code> is not available.  Logging to sockets is not
possible.

</li><li>The periodical smartcard status checking done by <code class="command">scdaemon</code> is
not yet supported.

</li></ul>


<hr>
</div>
</div>
<div class="chapter-level-extent" id="Debugging">
<div class="nav-panel">
<p>
Next: <a href="#Copying" accesskey="n" rel="next">GNU General Public License</a>, Previous: <a href="#System-Notes" accesskey="p" rel="prev">Notes pertaining to certain OSes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="chapter" id="How-to-solve-problems"><span>14 How to solve problems<a class="copiable-link" href="#How-to-solve-problems"> &para;</a></span></h2>

<p>Everyone knows that software often does not do what it should do and thus
there is a need to track down problems.  We call this debugging in a
reminiscent to the moth jamming a relay in a Mark II box back in 1947.
</p>
<p>Most of the problems a merely configuration and user problems but
nevertheless they are the most annoying ones and responsible for many
gray hairs.  We try to give some guidelines here on how to identify and
solve the problem at hand.
</p>



<ul class="mini-toc">
<li><a href="#Debugging-Tools" accesskey="1">Debugging Tools</a></li>
<li><a href="#Debugging-Hints" accesskey="2">Various hints on debugging</a></li>
<li><a href="#Common-Problems" accesskey="3">Commonly Seen Problems</a></li>
<li><a href="#Architecture-Details" accesskey="4">How the whole thing works internally</a></li>
</ul>
<hr>
<div class="section-level-extent" id="Debugging-Tools">
<div class="nav-panel">
<p>
Next: <a href="#Debugging-Hints" accesskey="n" rel="next">Various hints on debugging</a>, Up: <a href="#Debugging" accesskey="u" rel="up">How to solve problems</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Debugging-Tools-1"><span>14.1 Debugging Tools<a class="copiable-link" href="#Debugging-Tools-1"> &para;</a></span></h3>

<p>The GnuPG distribution comes with a couple of tools, useful to help find
and solving problems.
</p>

<ul class="mini-toc">
<li><a href="#kbxutil" accesskey="1">Scrutinizing a keybox file</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="kbxutil">
<div class="nav-panel">
<p>
Up: <a href="#Debugging-Tools" accesskey="u" rel="up">Debugging Tools</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Scrutinizing-a-keybox-file"><span>14.1.1 Scrutinizing a keybox file<a class="copiable-link" href="#Scrutinizing-a-keybox-file"> &para;</a></span></h4>

<p>A keybox is a file format used to store public keys along with meta
information and indices.  The commonly used one is the file
<samp class="file">pubring.kbx</samp> in the <samp class="file">.gnupg</samp> directory.  It contains all
X.509 certificates as well as OpenPGP keys.
</p>
<p>When called the standard way, e.g.:
</p>
<p>&lsquo;<samp class="samp">kbxutil ~/.gnupg/pubring.kbx</samp>&rsquo;
</p>
<p>it lists all records (called <abbr class="acronym">blobs</abbr>) with there meta-information
in a human readable format.
</p>
<p>To see statistics on the keybox in question, run it using
</p>
<p>&lsquo;<samp class="samp">kbxutil --stats ~/.gnupg/pubring.kbx</samp>&rsquo;
</p>
<p>and you get an output like:
</p>
<div class="example">
<pre class="example-preformatted">Total number of blobs:       99
               header:        1
                empty:        0
              openpgp:        0
                 x509:       98
          non flagged:       81
       secret flagged:        0
    ephemeral flagged:       17
</pre></div>

<p>In this example you see that the keybox does not have any OpenPGP keys
but contains 98 X.509 certificates and a total of 17 keys or certificates
are flagged as ephemeral, meaning that they are only temporary stored
(cached) in the keybox and won&rsquo;t get listed using the usual commands
provided by <code class="command">gpgsm</code> or <code class="command">gpg</code>. 81 certificates are stored
in a standard way and directly available from <code class="command">gpgsm</code>.
</p>
<p>To find duplicated certificates and keyblocks in a keybox file (this
should not occur but sometimes things go wrong), run it using
</p>
<p>&lsquo;<samp class="samp">kbxutil --find-dups ~/.gnupg/pubring.kbx</samp>&rsquo;
</p>

<hr>
</div>
</div>
<div class="section-level-extent" id="Debugging-Hints">
<div class="nav-panel">
<p>
Next: <a href="#Common-Problems" accesskey="n" rel="next">Commonly Seen Problems</a>, Previous: <a href="#Debugging-Tools" accesskey="p" rel="prev">Debugging Tools</a>, Up: <a href="#Debugging" accesskey="u" rel="up">How to solve problems</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Various-hints-on-debugging"><span>14.2 Various hints on debugging<a class="copiable-link" href="#Various-hints-on-debugging"> &para;</a></span></h3>

<ul class="itemize mark-bullet">
<li>How to find the IP address of a keyserver

<p>If a round robin URL of is used for a keyserver
(e.g. subkeys.gnupg.org); it is not easy to see what server is actually
used.  Using the keyserver debug option as in
</p>
<div class="example smallexample">
<pre class="example-preformatted"> gpg --keyserver-options debug=1 -v --refresh-key 1E42B367
</pre></div>

<p>is thus often helpful.  Note that the actual output depends on the
backend and may change from release to release.
</p>
</li><li>Logging on WindowsCE

<p>For development, the best logging method on WindowsCE is the use of
remote debugging using a log file name of <samp class="file">tcp://&lt;ip-addr&gt;:&lt;port&gt;</samp>.
The command <code class="command">watchgnupg</code> may be used on the remote host to listen
on the given port (see <a class="pxref" href="#option-watchgnupg-_002d_002dtcp">option watchgnupg --tcp</a>).  For in the field
tests it is better to make use of the logging facility provided by the
<code class="command">gpgcedev</code> driver (part of libassuan); this is enabled by using
a log file name of <samp class="file">GPG2:</samp> (see <a class="pxref" href="#option-_002d_002dlog_002dfile">option --log-file</a>).
</p>
</li></ul>


<hr>
</div>
<div class="section-level-extent" id="Common-Problems">
<div class="nav-panel">
<p>
Next: <a href="#Architecture-Details" accesskey="n" rel="next">How the whole thing works internally</a>, Previous: <a href="#Debugging-Hints" accesskey="p" rel="prev">Various hints on debugging</a>, Up: <a href="#Debugging" accesskey="u" rel="up">How to solve problems</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="Commonly-Seen-Problems"><span>14.3 Commonly Seen Problems<a class="copiable-link" href="#Commonly-Seen-Problems"> &para;</a></span></h3>


<ul class="itemize mark-bullet">
<li>Error code &lsquo;<samp class="samp">Not supported</samp>&rsquo; from Dirmngr

<p>Most likely the option <samp class="option">enable-ocsp</samp> is active for gpgsm
but Dirmngr&rsquo;s OCSP feature has not been enabled using
<samp class="option">allow-ocsp</samp> in <samp class="file">dirmngr.conf</samp>.
</p>
</li><li>The Curses based Pinentry does not work

<p>The far most common reason for this is that the environment variable
<code class="code">GPG_TTY</code> has not been set correctly.  Make sure that it has been
set to a real tty device and not just to &lsquo;<samp class="samp">/dev/tty</samp>&rsquo;;
i.e. &lsquo;<samp class="samp">GPG_TTY=tty</samp>&rsquo; is plainly wrong; what you want is
&lsquo;<samp class="samp">GPG_TTY=`tty`</samp>&rsquo; &mdash; note the back ticks.  Also make sure that
this environment variable gets exported, that is you should follow up
the setting with an &lsquo;<samp class="samp">export GPG_TTY</samp>&rsquo; (assuming a Bourne style
shell). Even for GUI based Pinentries; you should have set
<code class="code">GPG_TTY</code>. See the section on installing the <code class="command">gpg-agent</code>
on how to do it.
</p>

</li><li>SSH hangs while a popping up pinentry was expected

<p>SSH has no way to tell the gpg-agent what terminal or X display it is
running on.  So when remotely logging into a box where a gpg-agent with
SSH support is running, the pinentry will get popped up on whatever
display the gpg-agent has been started.  To solve this problem you may
issue the command
</p>
<div class="example smallexample">
<pre class="example-preformatted">echo UPDATESTARTUPTTY | gpg-connect-agent
</pre></div>

<p>and the next pinentry will pop up on your display or screen. However,
you need to kill the running pinentry first because only one pinentry
may be running at once.  If you plan to use ssh on a new display you
should issue the above command before invoking ssh or any other service
making use of ssh.
</p>

</li><li>Exporting a secret key without a certificate

<p>It may happen that you have created a certificate request using
<code class="command">gpgsm</code> but not yet received and imported the certificate from
the CA.  However, you want to export the secret key to another machine
right now to import the certificate over there then.  You can do this
with a little trick but it requires that you know the approximate time
you created the signing request.  By running the command
</p>
<div class="example smallexample">
<pre class="example-preformatted">  ls -ltr ~/.gnupg/private-keys-v1.d
</pre></div>

<p>you get a listing of all private keys under control of <code class="command">gpg-agent</code>.
Pick the key which best matches the creation time and run the command
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">  /usr/libexec/gpg-protect-tool --p12-export \
     ~/.gnupg/private-keys-v1.d/<var class="var">foo</var> &gt;<var class="var">foo</var>.p12
</pre></div>
</td></tr></table>

<p>(Please adjust the path to <code class="command">gpg-protect-tool</code> to the appropriate
location). <var class="var">foo</var> is the name of the key file you picked (it should
have the suffix <samp class="file">.key</samp>).  A Pinentry box will pop up and ask you
for the current passphrase of the key and a new passphrase to protect it
in the pkcs#12 file.
</p>
<p>To import the created file on the machine you use this command:
</p>
<table class="cartouche" border="1"><tr><td>
<div class="example smallexample">
<pre class="example-preformatted">  /usr/libexec/gpg-protect-tool --p12-import --store  <var class="var">foo</var>.p12
</pre></div>
</td></tr></table>

<p>You will be asked for the pkcs#12 passphrase and a new passphrase to
protect the imported private key at its new location.
</p>
<p>Note that there is no easy way to match existing certificates with
stored private keys because some private keys are used for Secure Shell
or other purposes and don&rsquo;t have a corresponding certificate.
</p>

</li><li>A root certificate does not verify

<p>A common problem is that the root certificate misses the required
basicConstraints attribute and thus <code class="command">gpgsm</code> rejects this
certificate.  An error message indicating &ldquo;no value&rdquo; is a sign for
such a certificate.  You may use the <code class="code">relax</code> flag in
<samp class="file">trustlist.txt</samp> to accept the certificate anyway.  Note that the
fingerprint and this flag may only be added manually to
<samp class="file">trustlist.txt</samp>.
</p>
</li><li>Error message: &ldquo;digest algorithm N has not been enabled&rdquo;

<p>The signature is broken.  You may try the option
<samp class="option">--extra-digest-algo SHA256</samp> to workaround the problem.  The
number N is the internal algorithm identifier; for example 8 refers to
SHA-256.
</p>

</li><li>The Windows version does not work under Wine

<p>When running the W32 version of <code class="command">gpg</code> under Wine you may get
an error messages like:
</p>
<div class="example smallexample">
<pre class="example-preformatted">gpg: fatal: WriteConsole failed: Access denied
</pre></div>

<p>The solution is to use the command <code class="command">wineconsole</code>.
</p>
<p>Some operations like <samp class="option">--generate-key</samp> really want to talk to
the console directly
for increased security (for example to prevent the passphrase from
appearing on the screen).  So, you should use <code class="command">wineconsole</code>
instead of <code class="command">wine</code>, which will launch a windows console that
implements those additional features.
</p>

</li><li>Why does GPG&rsquo;s &ndash;search-key list weird keys?

<p>For performance reasons the keyservers do not check the keys the same
way <code class="command">gpg</code> does.  It may happen that the listing of keys
available on the keyservers shows keys with wrong user IDs or with user
Ids from other keys.  If you try to import this key, the bad keys or bad
user ids won&rsquo;t get imported, though.  This is a bit unfortunate but we
can&rsquo;t do anything about it without actually downloading the keys.
</p>
</li></ul>


<hr>
</div>
<div class="section-level-extent" id="Architecture-Details">
<div class="nav-panel">
<p>
Previous: <a href="#Common-Problems" accesskey="p" rel="prev">Commonly Seen Problems</a>, Up: <a href="#Debugging" accesskey="u" rel="up">How to solve problems</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h3 class="section" id="How-the-whole-thing-works-internally"><span>14.4 How the whole thing works internally<a class="copiable-link" href="#How-the-whole-thing-works-internally"> &para;</a></span></h3>



<ul class="mini-toc">
<li><a href="#Component-interaction" accesskey="1">How the components work together</a></li>
<li><a href="#GnuPG_002d1-and-GnuPG_002d2" accesskey="2">Relationship between GnuPG 1.4 and 2.x</a></li>
</ul>
<hr>
<div class="subsection-level-extent" id="Component-interaction">
<div class="nav-panel">
<p>
Next: <a href="#GnuPG_002d1-and-GnuPG_002d2" accesskey="n" rel="next">Relationship between GnuPG 1.4 and 2.x</a>, Up: <a href="#Architecture-Details" accesskey="u" rel="up">How the whole thing works internally</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="How-the-components-work-together"><span>14.4.1 How the components work together<a class="copiable-link" href="#How-the-components-work-together"> &para;</a></span></h4>


<div class="float" id="fig_003amoduleoverview">
<div class="center"><img class="image" src="gnupg-module-overview.png" alt="GnuPG modules">
</div><div class="caption"><p><strong class="strong">Figure 14.1: </strong>GnuPG module overview</p></div></div>

<hr>
</div>
<div class="subsection-level-extent" id="GnuPG_002d1-and-GnuPG_002d2">
<div class="nav-panel">
<p>
Previous: <a href="#Component-interaction" accesskey="p" rel="prev">How the components work together</a>, Up: <a href="#Architecture-Details" accesskey="u" rel="up">How the whole thing works internally</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h4 class="subsection" id="Relationship-between-GnuPG-1_002e4-and-2_002ex"><span>14.4.2 Relationship between GnuPG 1.4 and 2.x<a class="copiable-link" href="#Relationship-between-GnuPG-1_002e4-and-2_002ex"> &para;</a></span></h4>

<p>Here is a little picture showing how the different GnuPG versions make
use of a smartcard:
</p>
<div class="float" id="fig_003acardarchitecture">
<div class="center"><img class="image" src="gnupg-card-architecture.png" alt="GnuPG card architecture">
</div><div class="caption"><p><strong class="strong">Figure 14.2: </strong>GnuPG card architecture</p></div></div>
<hr>
</div>
</div>
</div>
<div class="unnumbered-level-extent" id="Copying">
<div class="nav-panel">
<p>
Next: <a href="#Contributors" accesskey="n" rel="next">Contributors to GnuPG</a>, Previous: <a href="#Debugging" accesskey="p" rel="prev">How to solve problems</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>

<h2 class="unnumbered" id="GNU-General-Public-License"><span>GNU General Public License<a class="copiable-link" href="#GNU-General-Public-License"> &para;</a></span></h2>
<div class="center">Version 3, 29 June 2007
</div>

<div class="display">
<pre class="display-preformatted">Copyright &copy; 2007 Free Software Foundation, Inc. <a class="url" href="https://fsf.org/">https://fsf.org/</a>

Everyone is permitted to copy and distribute verbatim copies of this
license document, but changing it is not allowed.
</pre></div>

<ul class="mini-toc">
<li><a href="#Preamble" accesskey="1">Preamble</a></li>
<li><a href="#How-to-Apply-These-Terms-to-Your-New-Programs" accesskey="2">How to Apply These Terms to Your New Programs</a></li>
</ul>
<div class="unnumberedsec-level-extent" id="Preamble">
<h3 class="unnumberedsec"><span>Preamble<a class="copiable-link" href="#Preamble"> &para;</a></span></h3>

<p>The GNU General Public License is a free, copyleft license for
software and other kinds of works.
</p>
<p>The licenses for most software and other practical works are designed
to take away your freedom to share and change the works.  By contrast,
the GNU General Public License is intended to guarantee your freedom
to share and change all versions of a program&ndash;to make sure it remains
free software for all its users.  We, the Free Software Foundation,
use the GNU General Public License for most of our software; it
applies also to any other work released this way by its authors.  You
can apply it to your programs, too.
</p>
<p>When we speak of free software, we are referring to freedom, not
price.  Our General Public Licenses are designed to make sure that you
have the freedom to distribute copies of free software (and charge for
them if you wish), that you receive source code or can get it if you
want it, that you can change the software or use pieces of it in new
free programs, and that you know you can do these things.
</p>
<p>To protect your rights, we need to prevent others from denying you
these rights or asking you to surrender the rights.  Therefore, you
have certain responsibilities if you distribute copies of the
software, or if you modify it: responsibilities to respect the freedom
of others.
</p>
<p>For example, if you distribute copies of such a program, whether
gratis or for a fee, you must pass on to the recipients the same
freedoms that you received.  You must make sure that they, too,
receive or can get the source code.  And you must show them these
terms so they know their rights.
</p>
<p>Developers that use the GNU GPL protect your rights with two steps:
(1) assert copyright on the software, and (2) offer you this License
giving you legal permission to copy, distribute and/or modify it.
</p>
<p>For the developers&rsquo; and authors&rsquo; protection, the GPL clearly explains
that there is no warranty for this free software.  For both users&rsquo; and
authors&rsquo; sake, the GPL requires that modified versions be marked as
changed, so that their problems will not be attributed erroneously to
authors of previous versions.
</p>
<p>Some devices are designed to deny users access to install or run
modified versions of the software inside them, although the
manufacturer can do so.  This is fundamentally incompatible with the
aim of protecting users&rsquo; freedom to change the software.  The
systematic pattern of such abuse occurs in the area of products for
individuals to use, which is precisely where it is most unacceptable.
Therefore, we have designed this version of the GPL to prohibit the
practice for those products.  If such problems arise substantially in
other domains, we stand ready to extend this provision to those
domains in future versions of the GPL, as needed to protect the
freedom of users.
</p>
<p>Finally, every program is threatened constantly by software patents.
States should not allow patents to restrict development and use of
software on general-purpose computers, but in those that do, we wish
to avoid the special danger that patents applied to a free program
could make it effectively proprietary.  To prevent this, the GPL
assures that patents cannot be used to render the program non-free.
</p>
<p>The precise terms and conditions for copying, distribution and
modification follow.
</p>

<ol class="enumerate" start="0">
<li> Definitions.

<p>&ldquo;This License&rdquo; refers to version 3 of the GNU General Public License.
</p>
<p>&ldquo;Copyright&rdquo; also means copyright-like laws that apply to other kinds
of works, such as semiconductor masks.
</p>
<p>&ldquo;The Program&rdquo; refers to any copyrightable work licensed under this
License.  Each licensee is addressed as &ldquo;you&rdquo;.  &ldquo;Licensees&rdquo; and
&ldquo;recipients&rdquo; may be individuals or organizations.
</p>
<p>To &ldquo;modify&rdquo; a work means to copy from or adapt all or part of the work
in a fashion requiring copyright permission, other than the making of
an exact copy.  The resulting work is called a &ldquo;modified version&rdquo; of
the earlier work or a work &ldquo;based on&rdquo; the earlier work.
</p>
<p>A &ldquo;covered work&rdquo; means either the unmodified Program or a work based
on the Program.
</p>
<p>To &ldquo;propagate&rdquo; a work means to do anything with it that, without
permission, would make you directly or secondarily liable for
infringement under applicable copyright law, except executing it on a
computer or modifying a private copy.  Propagation includes copying,
distribution (with or without modification), making available to the
public, and in some countries other activities as well.
</p>
<p>To &ldquo;convey&rdquo; a work means any kind of propagation that enables other
parties to make or receive copies.  Mere interaction with a user
through a computer network, with no transfer of a copy, is not
conveying.
</p>
<p>An interactive user interface displays &ldquo;Appropriate Legal Notices&rdquo; to
the extent that it includes a convenient and prominently visible
feature that (1) displays an appropriate copyright notice, and (2)
tells the user that there is no warranty for the work (except to the
extent that warranties are provided), that licensees may convey the
work under this License, and how to view a copy of this License.  If
the interface presents a list of user commands or options, such as a
menu, a prominent item in the list meets this criterion.
</p>
</li><li> Source Code.

<p>The &ldquo;source code&rdquo; for a work means the preferred form of the work for
making modifications to it.  &ldquo;Object code&rdquo; means any non-source form
of a work.
</p>
<p>A &ldquo;Standard Interface&rdquo; means an interface that either is an official
standard defined by a recognized standards body, or, in the case of
interfaces specified for a particular programming language, one that
is widely used among developers working in that language.
</p>
<p>The &ldquo;System Libraries&rdquo; of an executable work include anything, other
than the work as a whole, that (a) is included in the normal form of
packaging a Major Component, but which is not part of that Major
Component, and (b) serves only to enable use of the work with that
Major Component, or to implement a Standard Interface for which an
implementation is available to the public in source code form.  A
&ldquo;Major Component&rdquo;, in this context, means a major essential component
(kernel, window system, and so on) of the specific operating system
(if any) on which the executable work runs, or a compiler used to
produce the work, or an object code interpreter used to run it.
</p>
<p>The &ldquo;Corresponding Source&rdquo; for a work in object code form means all
the source code needed to generate, install, and (for an executable
work) run the object code and to modify the work, including scripts to
control those activities.  However, it does not include the work&rsquo;s
System Libraries, or general-purpose tools or generally available free
programs which are used unmodified in performing those activities but
which are not part of the work.  For example, Corresponding Source
includes interface definition files associated with source files for
the work, and the source code for shared libraries and dynamically
linked subprograms that the work is specifically designed to require,
such as by intimate data communication or control flow between those
subprograms and other parts of the work.
</p>
<p>The Corresponding Source need not include anything that users can
regenerate automatically from other parts of the Corresponding Source.
</p>
<p>The Corresponding Source for a work in source code form is that same
work.
</p>
</li><li> Basic Permissions.

<p>All rights granted under this License are granted for the term of
copyright on the Program, and are irrevocable provided the stated
conditions are met.  This License explicitly affirms your unlimited
permission to run the unmodified Program.  The output from running a
covered work is covered by this License only if the output, given its
content, constitutes a covered work.  This License acknowledges your
rights of fair use or other equivalent, as provided by copyright law.
</p>
<p>You may make, run and propagate covered works that you do not convey,
without conditions so long as your license otherwise remains in force.
You may convey covered works to others for the sole purpose of having
them make modifications exclusively for you, or provide you with
facilities for running those works, provided that you comply with the
terms of this License in conveying all material for which you do not
control copyright.  Those thus making or running the covered works for
you must do so exclusively on your behalf, under your direction and
control, on terms that prohibit them from making any copies of your
copyrighted material outside their relationship with you.
</p>
<p>Conveying under any other circumstances is permitted solely under the
conditions stated below.  Sublicensing is not allowed; section 10
makes it unnecessary.
</p>
</li><li> Protecting Users&rsquo; Legal Rights From Anti-Circumvention Law.

<p>No covered work shall be deemed part of an effective technological
measure under any applicable law fulfilling obligations under article
11 of the WIPO copyright treaty adopted on 20 December 1996, or
similar laws prohibiting or restricting circumvention of such
measures.
</p>
<p>When you convey a covered work, you waive any legal power to forbid
circumvention of technological measures to the extent such
circumvention is effected by exercising rights under this License with
respect to the covered work, and you disclaim any intention to limit
operation or modification of the work as a means of enforcing, against
the work&rsquo;s users, your or third parties&rsquo; legal rights to forbid
circumvention of technological measures.
</p>
</li><li> Conveying Verbatim Copies.

<p>You may convey verbatim copies of the Program&rsquo;s source code as you
receive it, in any medium, provided that you conspicuously and
appropriately publish on each copy an appropriate copyright notice;
keep intact all notices stating that this License and any
non-permissive terms added in accord with section 7 apply to the code;
keep intact all notices of the absence of any warranty; and give all
recipients a copy of this License along with the Program.
</p>
<p>You may charge any price or no price for each copy that you convey,
and you may offer support or warranty protection for a fee.
</p>
</li><li> Conveying Modified Source Versions.

<p>You may convey a work based on the Program, or the modifications to
produce it from the Program, in the form of source code under the
terms of section 4, provided that you also meet all of these
conditions:
</p>
<ol class="enumerate" type="a" start="1">
<li> The work must carry prominent notices stating that you modified it,
and giving a relevant date.

</li><li> The work must carry prominent notices stating that it is released
under this License and any conditions added under section 7.  This
requirement modifies the requirement in section 4 to &ldquo;keep intact all
notices&rdquo;.

</li><li> You must license the entire work, as a whole, under this License to
anyone who comes into possession of a copy.  This License will
therefore apply, along with any applicable section 7 additional terms,
to the whole of the work, and all its parts, regardless of how they
are packaged.  This License gives no permission to license the work in
any other way, but it does not invalidate such permission if you have
separately received it.

</li><li> If the work has interactive user interfaces, each must display
Appropriate Legal Notices; however, if the Program has interactive
interfaces that do not display Appropriate Legal Notices, your work
need not make them do so.
</li></ol>

<p>A compilation of a covered work with other separate and independent
works, which are not by their nature extensions of the covered work,
and which are not combined with it such as to form a larger program,
in or on a volume of a storage or distribution medium, is called an
&ldquo;aggregate&rdquo; if the compilation and its resulting copyright are not
used to limit the access or legal rights of the compilation&rsquo;s users
beyond what the individual works permit.  Inclusion of a covered work
in an aggregate does not cause this License to apply to the other
parts of the aggregate.
</p>
</li><li> Conveying Non-Source Forms.

<p>You may convey a covered work in object code form under the terms of
sections 4 and 5, provided that you also convey the machine-readable
Corresponding Source under the terms of this License, in one of these
ways:
</p>
<ol class="enumerate" type="a" start="1">
<li> Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by the
Corresponding Source fixed on a durable physical medium customarily
used for software interchange.

</li><li> Convey the object code in, or embodied in, a physical product
(including a physical distribution medium), accompanied by a written
offer, valid for at least three years and valid for as long as you
offer spare parts or customer support for that product model, to give
anyone who possesses the object code either (1) a copy of the
Corresponding Source for all the software in the product that is
covered by this License, on a durable physical medium customarily used
for software interchange, for a price no more than your reasonable
cost of physically performing this conveying of source, or (2) access
to copy the Corresponding Source from a network server at no charge.

</li><li> Convey individual copies of the object code with a copy of the written
offer to provide the Corresponding Source.  This alternative is
allowed only occasionally and noncommercially, and only if you
received the object code with such an offer, in accord with subsection
6b.

</li><li> Convey the object code by offering access from a designated place
(gratis or for a charge), and offer equivalent access to the
Corresponding Source in the same way through the same place at no
further charge.  You need not require recipients to copy the
Corresponding Source along with the object code.  If the place to copy
the object code is a network server, the Corresponding Source may be
on a different server (operated by you or a third party) that supports
equivalent copying facilities, provided you maintain clear directions
next to the object code saying where to find the Corresponding Source.
Regardless of what server hosts the Corresponding Source, you remain
obligated to ensure that it is available for as long as needed to
satisfy these requirements.

</li><li> Convey the object code using peer-to-peer transmission, provided you
inform other peers where the object code and Corresponding Source of
the work are being offered to the general public at no charge under
subsection 6d.

</li></ol>

<p>A separable portion of the object code, whose source code is excluded
from the Corresponding Source as a System Library, need not be
included in conveying the object code work.
</p>
<p>A &ldquo;User Product&rdquo; is either (1) a &ldquo;consumer product&rdquo;, which means any
tangible personal property which is normally used for personal,
family, or household purposes, or (2) anything designed or sold for
incorporation into a dwelling.  In determining whether a product is a
consumer product, doubtful cases shall be resolved in favor of
coverage.  For a particular product received by a particular user,
&ldquo;normally used&rdquo; refers to a typical or common use of that class of
product, regardless of the status of the particular user or of the way
in which the particular user actually uses, or expects or is expected
to use, the product.  A product is a consumer product regardless of
whether the product has substantial commercial, industrial or
non-consumer uses, unless such uses represent the only significant
mode of use of the product.
</p>
<p>&ldquo;Installation Information&rdquo; for a User Product means any methods,
procedures, authorization keys, or other information required to
install and execute modified versions of a covered work in that User
Product from a modified version of its Corresponding Source.  The
information must suffice to ensure that the continued functioning of
the modified object code is in no case prevented or interfered with
solely because modification has been made.
</p>
<p>If you convey an object code work under this section in, or with, or
specifically for use in, a User Product, and the conveying occurs as
part of a transaction in which the right of possession and use of the
User Product is transferred to the recipient in perpetuity or for a
fixed term (regardless of how the transaction is characterized), the
Corresponding Source conveyed under this section must be accompanied
by the Installation Information.  But this requirement does not apply
if neither you nor any third party retains the ability to install
modified object code on the User Product (for example, the work has
been installed in ROM).
</p>
<p>The requirement to provide Installation Information does not include a
requirement to continue to provide support service, warranty, or
updates for a work that has been modified or installed by the
recipient, or for the User Product in which it has been modified or
installed.  Access to a network may be denied when the modification
itself materially and adversely affects the operation of the network
or violates the rules and protocols for communication across the
network.
</p>
<p>Corresponding Source conveyed, and Installation Information provided,
in accord with this section must be in a format that is publicly
documented (and with an implementation available to the public in
source code form), and must require no special password or key for
unpacking, reading or copying.
</p>
</li><li> Additional Terms.

<p>&ldquo;Additional permissions&rdquo; are terms that supplement the terms of this
License by making exceptions from one or more of its conditions.
Additional permissions that are applicable to the entire Program shall
be treated as though they were included in this License, to the extent
that they are valid under applicable law.  If additional permissions
apply only to part of the Program, that part may be used separately
under those permissions, but the entire Program remains governed by
this License without regard to the additional permissions.
</p>
<p>When you convey a copy of a covered work, you may at your option
remove any additional permissions from that copy, or from any part of
it.  (Additional permissions may be written to require their own
removal in certain cases when you modify the work.)  You may place
additional permissions on material, added by you to a covered work,
for which you have or can give appropriate copyright permission.
</p>
<p>Notwithstanding any other provision of this License, for material you
add to a covered work, you may (if authorized by the copyright holders
of that material) supplement the terms of this License with terms:
</p>
<ol class="enumerate" type="a" start="1">
<li> Disclaiming warranty or limiting liability differently from the terms
of sections 15 and 16 of this License; or

</li><li> Requiring preservation of specified reasonable legal notices or author
attributions in that material or in the Appropriate Legal Notices
displayed by works containing it; or

</li><li> Prohibiting misrepresentation of the origin of that material, or
requiring that modified versions of such material be marked in
reasonable ways as different from the original version; or

</li><li> Limiting the use for publicity purposes of names of licensors or
authors of the material; or

</li><li> Declining to grant rights under trademark law for use of some trade
names, trademarks, or service marks; or

</li><li> Requiring indemnification of licensors and authors of that material by
anyone who conveys the material (or modified versions of it) with
contractual assumptions of liability to the recipient, for any
liability that these contractual assumptions directly impose on those
licensors and authors.
</li></ol>

<p>All other non-permissive additional terms are considered &ldquo;further
restrictions&rdquo; within the meaning of section 10.  If the Program as you
received it, or any part of it, contains a notice stating that it is
governed by this License along with a term that is a further
restriction, you may remove that term.  If a license document contains
a further restriction but permits relicensing or conveying under this
License, you may add to a covered work material governed by the terms
of that license document, provided that the further restriction does
not survive such relicensing or conveying.
</p>
<p>If you add terms to a covered work in accord with this section, you
must place, in the relevant source files, a statement of the
additional terms that apply to those files, or a notice indicating
where to find the applicable terms.
</p>
<p>Additional terms, permissive or non-permissive, may be stated in the
form of a separately written license, or stated as exceptions; the
above requirements apply either way.
</p>
</li><li> Termination.

<p>You may not propagate or modify a covered work except as expressly
provided under this License.  Any attempt otherwise to propagate or
modify it is void, and will automatically terminate your rights under
this License (including any patent licenses granted under the third
paragraph of section 11).
</p>
<p>However, if you cease all violation of this License, then your license
from a particular copyright holder is reinstated (a) provisionally,
unless and until the copyright holder explicitly and finally
terminates your license, and (b) permanently, if the copyright holder
fails to notify you of the violation by some reasonable means prior to
60 days after the cessation.
</p>
<p>Moreover, your license from a particular copyright holder is
reinstated permanently if the copyright holder notifies you of the
violation by some reasonable means, this is the first time you have
received notice of violation of this License (for any work) from that
copyright holder, and you cure the violation prior to 30 days after
your receipt of the notice.
</p>
<p>Termination of your rights under this section does not terminate the
licenses of parties who have received copies or rights from you under
this License.  If your rights have been terminated and not permanently
reinstated, you do not qualify to receive new licenses for the same
material under section 10.
</p>
</li><li> Acceptance Not Required for Having Copies.

<p>You are not required to accept this License in order to receive or run
a copy of the Program.  Ancillary propagation of a covered work
occurring solely as a consequence of using peer-to-peer transmission
to receive a copy likewise does not require acceptance.  However,
nothing other than this License grants you permission to propagate or
modify any covered work.  These actions infringe copyright if you do
not accept this License.  Therefore, by modifying or propagating a
covered work, you indicate your acceptance of this License to do so.
</p>
</li><li> Automatic Licensing of Downstream Recipients.

<p>Each time you convey a covered work, the recipient automatically
receives a license from the original licensors, to run, modify and
propagate that work, subject to this License.  You are not responsible
for enforcing compliance by third parties with this License.
</p>
<p>An &ldquo;entity transaction&rdquo; is a transaction transferring control of an
organization, or substantially all assets of one, or subdividing an
organization, or merging organizations.  If propagation of a covered
work results from an entity transaction, each party to that
transaction who receives a copy of the work also receives whatever
licenses to the work the party&rsquo;s predecessor in interest had or could
give under the previous paragraph, plus a right to possession of the
Corresponding Source of the work from the predecessor in interest, if
the predecessor has it or can get it with reasonable efforts.
</p>
<p>You may not impose any further restrictions on the exercise of the
rights granted or affirmed under this License.  For example, you may
not impose a license fee, royalty, or other charge for exercise of
rights granted under this License, and you may not initiate litigation
(including a cross-claim or counterclaim in a lawsuit) alleging that
any patent claim is infringed by making, using, selling, offering for
sale, or importing the Program or any portion of it.
</p>
</li><li> Patents.

<p>A &ldquo;contributor&rdquo; is a copyright holder who authorizes use under this
License of the Program or a work on which the Program is based.  The
work thus licensed is called the contributor&rsquo;s &ldquo;contributor version&rdquo;.
</p>
<p>A contributor&rsquo;s &ldquo;essential patent claims&rdquo; are all patent claims owned
or controlled by the contributor, whether already acquired or
hereafter acquired, that would be infringed by some manner, permitted
by this License, of making, using, or selling its contributor version,
but do not include claims that would be infringed only as a
consequence of further modification of the contributor version.  For
purposes of this definition, &ldquo;control&rdquo; includes the right to grant
patent sublicenses in a manner consistent with the requirements of
this License.
</p>
<p>Each contributor grants you a non-exclusive, worldwide, royalty-free
patent license under the contributor&rsquo;s essential patent claims, to
make, use, sell, offer for sale, import and otherwise run, modify and
propagate the contents of its contributor version.
</p>
<p>In the following three paragraphs, a &ldquo;patent license&rdquo; is any express
agreement or commitment, however denominated, not to enforce a patent
(such as an express permission to practice a patent or covenant not to
sue for patent infringement).  To &ldquo;grant&rdquo; such a patent license to a
party means to make such an agreement or commitment not to enforce a
patent against the party.
</p>
<p>If you convey a covered work, knowingly relying on a patent license,
and the Corresponding Source of the work is not available for anyone
to copy, free of charge and under the terms of this License, through a
publicly available network server or other readily accessible means,
then you must either (1) cause the Corresponding Source to be so
available, or (2) arrange to deprive yourself of the benefit of the
patent license for this particular work, or (3) arrange, in a manner
consistent with the requirements of this License, to extend the patent
license to downstream recipients.  &ldquo;Knowingly relying&rdquo; means you have
actual knowledge that, but for the patent license, your conveying the
covered work in a country, or your recipient&rsquo;s use of the covered work
in a country, would infringe one or more identifiable patents in that
country that you have reason to believe are valid.
</p>
<p>If, pursuant to or in connection with a single transaction or
arrangement, you convey, or propagate by procuring conveyance of, a
covered work, and grant a patent license to some of the parties
receiving the covered work authorizing them to use, propagate, modify
or convey a specific copy of the covered work, then the patent license
you grant is automatically extended to all recipients of the covered
work and works based on it.
</p>
<p>A patent license is &ldquo;discriminatory&rdquo; if it does not include within the
scope of its coverage, prohibits the exercise of, or is conditioned on
the non-exercise of one or more of the rights that are specifically
granted under this License.  You may not convey a covered work if you
are a party to an arrangement with a third party that is in the
business of distributing software, under which you make payment to the
third party based on the extent of your activity of conveying the
work, and under which the third party grants, to any of the parties
who would receive the covered work from you, a discriminatory patent
license (a) in connection with copies of the covered work conveyed by
you (or copies made from those copies), or (b) primarily for and in
connection with specific products or compilations that contain the
covered work, unless you entered into that arrangement, or that patent
license was granted, prior to 28 March 2007.
</p>
<p>Nothing in this License shall be construed as excluding or limiting
any implied license or other defenses to infringement that may
otherwise be available to you under applicable patent law.
</p>
</li><li> No Surrender of Others&rsquo; Freedom.

<p>If conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot convey
a covered work so as to satisfy simultaneously your obligations under
this License and any other pertinent obligations, then as a
consequence you may not convey it at all.  For example, if you agree
to terms that obligate you to collect a royalty for further conveying
from those to whom you convey the Program, the only way you could
satisfy both those terms and this License would be to refrain entirely
from conveying the Program.
</p>
</li><li> Use with the GNU Affero General Public License.

<p>Notwithstanding any other provision of this License, you have
permission to link or combine any covered work with a work licensed
under version 3 of the GNU Affero General Public License into a single
combined work, and to convey the resulting work.  The terms of this
License will continue to apply to the part which is the covered work,
but the special requirements of the GNU Affero General Public License,
section 13, concerning interaction through a network will apply to the
combination as such.
</p>
</li><li> Revised Versions of this License.

<p>The Free Software Foundation may publish revised and/or new versions
of the GNU General Public License from time to time.  Such new
versions will be similar in spirit to the present version, but may
differ in detail to address new problems or concerns.
</p>
<p>Each version is given a distinguishing version number.  If the Program
specifies that a certain numbered version of the GNU General Public
License &ldquo;or any later version&rdquo; applies to it, you have the option of
following the terms and conditions either of that numbered version or
of any later version published by the Free Software Foundation.  If
the Program does not specify a version number of the GNU General
Public License, you may choose any version ever published by the Free
Software Foundation.
</p>
<p>If the Program specifies that a proxy can decide which future versions
of the GNU General Public License can be used, that proxy&rsquo;s public
statement of acceptance of a version permanently authorizes you to
choose that version for the Program.
</p>
<p>Later license versions may give you additional or different
permissions.  However, no additional obligations are imposed on any
author or copyright holder as a result of your choosing to follow a
later version.
</p>
</li><li> Disclaimer of Warranty.

<p>THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT PERMITTED BY
APPLICABLE LAW.  EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT
HOLDERS AND/OR OTHER PARTIES PROVIDE THE PROGRAM &ldquo;AS IS&rdquo; WITHOUT
WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND
PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE PROGRAM PROVE
DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING, REPAIR OR
CORRECTION.
</p>
</li><li> Limitation of Liability.

<p>IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MODIFIES AND/OR
CONVEYS THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
ARISING OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT
NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR
LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM
TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH HOLDER OR OTHER
PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
</p>
</li><li> Interpretation of Sections 15 and 16.

<p>If the disclaimer of warranty and limitation of liability provided
above cannot be given local legal effect according to their terms,
reviewing courts shall apply local law that most closely approximates
an absolute waiver of all civil liability in connection with the
Program, unless a warranty or assumption of liability accompanies a
copy of the Program in return for a fee.
</p>
</li></ol>


</div>
<div class="unnumberedsec-level-extent" id="How-to-Apply-These-Terms-to-Your-New-Programs">
<h3 class="unnumberedsec"><span>How to Apply These Terms to Your New Programs<a class="copiable-link" href="#How-to-Apply-These-Terms-to-Your-New-Programs"> &para;</a></span></h3>

<p>If you develop a new program, and you want it to be of the greatest
possible use to the public, the best way to achieve this is to make it
free software which everyone can redistribute and change under these
terms.
</p>
<p>To do so, attach the following notices to the program.  It is safest
to attach them to the start of each source file to most effectively
state the exclusion of warranty; and each file should have at least
the &ldquo;copyright&rdquo; line and a pointer to where the full notice is
found.
</p>
<div class="example">
<pre class="example-preformatted"><var class="var">one line to give the program's name and a brief idea of what it does.</var>
Copyright (C) <var class="var">year</var> <var class="var">name of author</var>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at
your option) any later version.

This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <a class="url" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
</pre></div>

<p>Also add information on how to contact you by electronic and paper mail.
</p>
<p>If the program does terminal interaction, make it output a short
notice like this when it starts in an interactive mode:
</p>
<div class="example smallexample">
<pre class="example-preformatted"><var class="var">program</var> Copyright (C) <var class="var">year</var> <var class="var">name of author</var>
This program comes with ABSOLUTELY NO WARRANTY; for details
type &lsquo;<samp class="samp">show w</samp>&rsquo;.  This is free software, and you are
welcome to redistribute it under certain conditions;
type &lsquo;<samp class="samp">show c</samp>&rsquo; for details.
</pre></div>

<p>The hypothetical commands &lsquo;<samp class="samp">show w</samp>&rsquo; and &lsquo;<samp class="samp">show c</samp>&rsquo; should show
the appropriate parts of the General Public License.  Of course, your
program&rsquo;s commands might be different; for a GUI interface, you would
use an &ldquo;about box&rdquo;.
</p>
<p>You should also get your employer (if you work as a programmer) or school,
if any, to sign a &ldquo;copyright disclaimer&rdquo; for the program, if necessary.
For more information on this, and how to apply and follow the GNU GPL, see
<a class="url" href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
</p>
<p>The GNU General Public License does not permit incorporating your
program into proprietary programs.  If your program is a subroutine
library, you may consider it more useful to permit linking proprietary
applications with the library.  If this is what you want to do, use
the GNU Lesser General Public License instead of this License.  But
first, please read <a class="url" href="https://www.gnu.org/philosophy/why-not-lgpl.html">https://www.gnu.org/philosophy/why-not-lgpl.html</a>.
</p>

<hr>
</div>
</div>
<div class="unnumbered-level-extent" id="Contributors">
<div class="nav-panel">
<p>
Next: <a href="#Glossary" accesskey="n" rel="next">Glossary</a>, Previous: <a href="#Copying" accesskey="p" rel="prev">GNU General Public License</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="unnumbered" id="Contributors-to-GnuPG"><span>Contributors to GnuPG<a class="copiable-link" href="#Contributors-to-GnuPG"> &para;</a></span></h2>
<a class="index-entry-id" id="index-contributors"></a>

<p>The GnuPG project would like to thank its many contributors.  Without
them the project would not have been nearly as successful as it has
been.  Any omissions in this list are accidental.  Feel free to contact
the maintainer if you have been left out or some of your contributions
are not listed.
</p>
<p>David Shaw, Matthew Skala, Michael Roth, Niklas Hernaeus, Nils
Ellmenreich, Rémi Guyomarch, Stefan Bellon, Timo Schulz and Werner
Koch wrote the code.  Birger Langkjer, Daniel Resare, Dokianakis
Theofanis, Edmund GRIMLEY EVANS, Gaël Quéri, Gregory Steuck, Nagy
Ferenc László, Ivo Timmermans, Jacobo Tarri&rsquo;o Barreiro, Janusz
Aleksander Urbanowicz, Jedi Lin, Jouni Hiltunen, Laurentiu Buzdugan,
Magda Procha&rsquo;zkova&rsquo;, Michael Anckaert, Michal Majer, Marco d&rsquo;Itri,
Nilgun Belma Buguner, Pedro Morais, Tedi Heriyanto, Thiago Jung
Bauermann, Rafael Caetano dos Santos, Toomas Soome, Urko Lusa, Walter
Koch, Yosiaki IIDA did the official translations. Mike Ashley wrote
and maintains the GNU Privacy Handbook. David Scribner is the current
FAQ editor.  Lorenzo Cappelletti maintains the web site.
</p>
<p>The new modularized architecture of gnupg 1.9 as well as the X.509/CMS
part has been developed as part of the Ägypten project.  Direct
contributors to this project are: Bernhard Herzog, who did extensive
testing and tracked down a lot of bugs.  Bernhard Reiter, who made sure
that we met the specifications and the deadlines. He did extensive
testing and came up with a lot of suggestions. Jan-Oliver Wagner made
sure that we met the specifications and the deadlines.  He also did
extensive testing and came up with a lot of suggestions. Karl-Heinz
Zimmer and Marc Mutz had to struggle with all the bugs and
misconceptions while working on KDE integration. Marcus Brinkman
extended GPGME, cleaned up the Assuan code and fixed bugs all over the
place. Moritz Schulte took over Libgcrypt maintenance and developed it
into a stable an useful library.  Steffen Hansen had a hard time to
write the dirmngr due to underspecified interfaces. Thomas Koester did
extensive testing and tracked down a lot of bugs.  Werner Koch designed
the system and wrote most of the code.
</p>
<p>The following people helped greatly by suggesting improvements,
testing, fixing bugs, providing resources and doing other important
tasks: Adam Mitchell, Albert Chin, Alec Habig, Allan Clark, Anand
Kumria, Andreas Haumer, Anthony Mulcahy, Ariel T Glenn, Bob Mathews,
Bodo Moeller, Brendan O&rsquo;Dea, Brenno de Winter, Brian M. Carlson, Brian
Moore, Brian Warner, Bryan Fullerton, Caskey L. Dickson, Cees van de
Griend, Charles Levert, Chip Salzenberg, Chris Adams, Christian Biere,
Christian Kurz, Christian von Roques, Christopher Oliver, Christian
Recktenwald, Dan Winship, Daniel Eisenbud, Daniel Koening, Dave
Dykstra, David C Niemi, David Champion, David Ellement, David
Hallinan, David Hollenberg, David Mathog, David R. Bergstein, Detlef
Lannert, Dimitri, Dirk Lattermann, Dirk Meyer, Disastry, Douglas
Calvert, Ed Boraas, Edmund GRIMLEY EVANS, Edwin Woudt, Enzo
Michelangeli, Ernst Molitor, Fabio Coatti, Felix von Leitner, fish
stiqz, Florian Weimer, Francesco Potorti, Frank Donahoe, Frank
Heckenbach, Frank Stajano, Frank Tobin, Gabriel Rosenkoetter, Gaël
Quéri, Gene Carter, Geoff Keating, Georg Schwarz, Giampaolo Tomassoni,
Gilbert Fernandes, Greg Louis, Greg Troxel, Gregory Steuck, Gregery
Barton, Harald Denker, Holger Baust, Hendrik Buschkamp, Holger
Schurig, Holger Smolinski, Holger Trapp, Hugh Daniel, Huy Le, Ian
McKellar, Ivo Timmermans, Jan Krueger, Jan Niehusmann, Janusz
A. Urbanowicz, James Troup, Jean-loup Gailly, Jeff Long, Jeffery Von
Ronne, Jens Bachem, Jeroen C. van Gelderen, J Horacio MG, J. Michael
Ashley, Jim Bauer, Jim Small, Joachim Backes, Joe Rhett, John
A. Martin, Johnny Teveßen, Jörg Schilling, Jos Backus, Joseph Walton,
Juan F. Codagnone, Jun Kuriyama, Kahil D. Jallad, Karl Fogel, Karsten
Thygesen, Katsuhiro Kondou, Kazu Yamamoto, Keith Clayton, Kevin Ryde,
Klaus Singvogel, Kurt Garloff, Lars Kellogg-Stedman, L. Sassaman, M
Taylor, Marcel Waldvogel, Marco d&rsquo;Itri, Marco Parrone, Marcus
Brinkmann, Mark Adler, Mark Elbrecht, Mark Pettit, Markus Friedl,
Martin Kahlert, Martin Hamilton, Martin Schulte, Matt Kraai, Matthew
Skala, Matthew Wilcox, Matthias Urlichs, Max Valianskiy, Michael
Engels, Michael Fischer v. Mollard, Michael Roth, Michael Sobolev,
Michael Tokarev, Nicolas Graner, Mike McEwan, Neal H Walfield, Nelson
H. F. Beebe, NIIBE Yutaka, Niklas Hernaeus, Nimrod Zimerman, N J Doye,
Oliver Haakert, Oskari Jääskeläinen, Pascal Scheffers, Paul D. Smith,
Per Cederqvist, Phil Blundell, Philippe Laliberte, Peter Fales, Peter
Gutmann, Peter Marschall, Peter Valchev, Piotr Krukowiecki, QingLong,
Ralph Gillen, Rat, Reinhard Wobst, Rémi Guyomarch, Reuben Sumner,
Richard Outerbridge, Robert Joop, Roddy Strachan, Roger Sondermann,
Roland Rosenfeld, Roman Pavlik, Ross Golder, Ryan Malayter, Sam
Roberts, Sami Tolvanen, Sean MacLennan, Sebastian Klemke, Serge
Munhoven, SL Baur, Stefan Bellon, Dr.Stefan.Dalibor, Stefan Karrmann,
Stefan Keller, Steffen Ullrich, Steffen Zahn, Steven Bakker, Steven
Murdoch, Susanne Schultz, Ted Cabeen, Thiago Jung Bauermann, Thijmen
Klok, Thomas Roessler, Tim Mooney, Timo Schulz, Todd Vierling, TOGAWA
Satoshi, Tom Spindler, Tom Zerucha, Tomas Fasth, Tommi Komulainen,
Thomas Klausner, Tomasz Kozlowski, Thomas Mikkelsen, Ulf Möller, Urko
Lusa, Vincent P. Broman, Volker Quetschke, W Lewis, Walter Hofmann,
Walter Koch, Wayne Chapeskie, Wim Vandeputte, Winona Brown, Yosiaki
IIDA, Yoshihiro Kajiki and Gerlinde Klaes.
</p>
<p>This software has been made possible by the previous work of Chris
Wedgwood, Jean-loup Gailly, Jon Callas, Mark Adler, Martin Hellman,
Paul Kendall, Philip R. Zimmermann, Peter Gutmann, Philip A. Nelson,
Taher Elgamal, Torbjorn Granlund, Whitfield Diffie, some unknown NSA
mathematicians and all the folks who have worked hard to create
complete and free operating systems.
</p>
<p>And finally we&rsquo;d like to thank everyone who uses these tools, submits
bug reports and generally reminds us why we&rsquo;re doing this work in the
first place.
</p>


<hr>
</div>
<div class="unnumbered-level-extent" id="Glossary">
<div class="nav-panel">
<p>
Next: <a href="#Option-Index" accesskey="n" rel="next">Option Index</a>, Previous: <a href="#Contributors" accesskey="p" rel="prev">Contributors to GnuPG</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="unnumbered" id="Glossary-1"><span>Glossary<a class="copiable-link" href="#Glossary-1"> &para;</a></span></h2>


<dl class="table">
<dt>&lsquo;<samp class="samp">ARL</samp>&rsquo;</dt>
<dd><p>The <em class="emph">Authority Revocation List</em> is technical identical to a
<abbr class="acronym">CRL</abbr> but used for <abbr class="acronym">CA</abbr>s and not for end user
certificates.
</p>
</dd>
<dt>&lsquo;<samp class="samp">Chain model</samp>&rsquo;</dt>
<dd><p>Verification model for X.509 which uses the creation date of a
signature as the date the validation starts and in turn checks that each
certificate has been issued within the time frame, the issuing
certificate was valid.  This allows the verification of signatures after
the CA&rsquo;s certificate expired.  The validation test also required an
online check of the certificate status.  The chain model is required by
the German signature law.  See also <em class="emph">Shell model</em>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">CMS</samp>&rsquo;</dt>
<dd><p>The <em class="emph">Cryptographic Message Standard</em> describes a message
format for encryption and digital signing.  It is closely related to the
X.509 certificate format.  <abbr class="acronym">CMS</abbr> was formerly known under the
name <code class="code">PKCS#7</code> and is described by <code class="code">RFC3369</code>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">CRL</samp>&rsquo;</dt>
<dd><p>The <em class="emph">Certificate Revocation List</em> is a list containing
certificates revoked by the issuer.
</p>
</dd>
<dt>&lsquo;<samp class="samp">CSR</samp>&rsquo;</dt>
<dd><p>The <em class="emph">Certificate Signing Request</em> is a message send to a CA to
ask them to issue a new certificate.  The data format of such a signing
request is called PCKS#10.
</p>
</dd>
<dt>&lsquo;<samp class="samp">OpenPGP</samp>&rsquo;</dt>
<dd><p>A data format used to build a PKI and to exchange encrypted or
signed messages.  In contrast to X.509, OpenPGP also includes the
message format but does not explicitly demand a specific PKI.  However
any kind of PKI may be build upon the OpenPGP protocol.
</p>
</dd>
<dt>&lsquo;<samp class="samp">Keygrip</samp>&rsquo;</dt>
<dd><p>This term is used by GnuPG to describe a 20 byte hash value used
to identify a certain key without referencing to a concrete protocol.
It is used internally to access a private key.  Usually it is shown and
entered as a 40 character hexadecimal formatted string.
</p>
</dd>
<dt>&lsquo;<samp class="samp">OCSP</samp>&rsquo;</dt>
<dd><p>The <em class="emph">Online Certificate Status Protocol</em> is used as an
alternative to a <abbr class="acronym">CRL</abbr>.  It is described in <code class="code">RFC 2560</code>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">PSE</samp>&rsquo;</dt>
<dd><p>The <em class="emph">Personal Security Environment</em> describes a database to
store private keys.  This is either a smartcard or a collection of files
on a disk; the latter is often called a Soft-PSE.
</p>

</dd>
<dt>&lsquo;<samp class="samp">Shell model</samp>&rsquo;</dt>
<dd><p>The standard model for validation of certificates under X.509.  At the
time of the verification all certificates must be valid and not expired.
See also <em class="emph">Chain model</em>.
</p>

</dd>
<dt>&lsquo;<samp class="samp">X.509</samp>&rsquo;</dt>
<dd><p>Description of a PKI used with CMS.  It is for example
defined by <code class="code">RFC3280</code>.
</p>

</dd>
</dl>

<hr>
</div>
<div class="unnumbered-level-extent" id="Option-Index">
<div class="nav-panel">
<p>
Next: <a href="#Environment-Index" accesskey="n" rel="next">Environment Variable and File Index</a>, Previous: <a href="#Glossary" accesskey="p" rel="prev">Glossary</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="unnumbered" id="Option-Index-1"><span>Option Index<a class="copiable-link" href="#Option-Index-1"> &para;</a></span></h2>

<div class="printindex op-printindex">
<table class="op-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Option-Index_op_symbol-1"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#Option-Index_op_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-X"><b>X</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-Y"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
<table class="op-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_symbol-1">-</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dno_002dhistory"><code>--no-history</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002d_002dno_002dhistory-1"><code>--no-history</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-add_002ddesig_002drevoker"><code>add-desig-revoker</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-add_002drevocs"><code>add-revocs</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-add_002dservers"><code>add-servers</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-agent_002dprogram"><code>agent-program</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-agent_002dprogram-1"><code>agent-program</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-agent_002dprogram-2"><code>agent-program</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-agent_002dprogram-3"><code>agent-program</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dadmin"><code>allow-admin</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002demacs_002dpinentry"><code>allow-emacs-pinentry</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dfreeform_002duid"><code>allow-freeform-uid</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dloopback_002dpinentry"><code>allow-loopback-pinentry</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dnon_002dselfsigned_002duid"><code>allow-non-selfsigned-uid</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002docsp"><code>allow-ocsp</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dold_002dcipher_002dalgos"><code>allow-old-cipher-algos</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dpreset_002dpassphrase"><code>allow-preset-passphrase</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dsecret_002dkey_002dimport"><code>allow-secret-key-import</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dversion_002dcheck"><code>allow-version-check</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dweak_002ddigest_002dalgos"><code>allow-weak-digest-algos</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-allow_002dweak_002dkey_002dsignatures"><code>allow-weak-key-signatures</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-always_002dtrust"><code>always-trust</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-always_002dtrust-1"><code>always-trust</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-application_002dpriority"><code>application-priority</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-armor"><code>armor</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-armor-1"><code>armor</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ask_002dcert_002dexpire"><code>ask-cert-expire</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ask_002dcert_002dlevel"><code>ask-cert-level</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ask_002dsig_002dexpire"><code>ask-sig-expire</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assert_002dpubkey_002dalgo"><code>assert-pubkey-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assert_002dpubkey_002dalgo-1"><code>assert-pubkey-algo</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assert_002dsigner"><code>assert-signer</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assume_002darmor"><code>assume-armor</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assume_002dbase64"><code>assume-base64</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-assume_002dbinary"><code>assume-binary</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-attribute_002dfd"><code>attribute-fd</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-attribute_002dfile"><code>attribute-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-authenticate"><code>authenticate</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dcheck_002dtrustdb"><code>auto-check-trustdb</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dexpand_002dsecmem"><code>auto-expand-secmem</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dissuer_002dkey_002dretrieve"><code>auto-issuer-key-retrieve</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dkey_002dimport"><code>auto-key-import</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dkey_002dlocate"><code>auto-key-locate</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-auto_002dkey_002dretrieve"><code>auto-key-retrieve</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-B">B</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-base64"><code>base64</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-batch"><code>batch</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-batch-1"><code>batch</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-batch-2"><code>batch</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-blacklist"><code>blacklist</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bzip2_002dcompress_002dlevel"><code>bzip2-compress-level</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-bzip2_002ddecompress_002dlowmem"><code>bzip2-decompress-lowmem</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-c"><code>c</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cache_002dcert"><code>cache-cert</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cafpr"><code>cafpr</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-call_002ddirmngr"><code>call-dirmngr</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-call_002dprotect_002dtool"><code>call-protect-tool</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-card_002dedit"><code>card-edit</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-card_002dstatus"><code>card-status</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-card_002dtimeout"><code>card-timeout</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cert_002ddigest_002dalgo"><code>cert-digest-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cert_002dnotation"><code>cert-notation</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cert_002dpolicy_002durl"><code>cert-policy-url</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-change_002dpassphrase"><code>change-passphrase</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-change_002dpassphrase-1"><code>change-passphrase</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-change_002dpin"><code>change-pin</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check"><code>check</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcheck_002dpattern">gpg-check-pattern</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dpassphrase_002dpattern"><code>check-passphrase-pattern</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dsignatures"><code>check-signatures</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dsigs"><code>check-sigs</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dsym_002dpassphrase_002dpattern"><code>check-sym-passphrase-pattern</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-check_002dtrustdb"><code>check-trustdb</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-checkkeys"><code>checkkeys</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chuid"><code>chuid</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chuid-1"><code>chuid</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chuid-2"><code>chuid</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chuid-3"><code>chuid</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chuid-4"><code>chuid</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-chunk_002dsize"><code>chunk-size</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cipher_002dalgo"><code>cipher-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cipher_002dalgo-1"><code>cipher-algo</code></a></td><td class="printindex-index-section"><a href="#CMS-Options">CMS Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-clear_002dsign"><code>clear-sign</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-clearsign"><code>clearsign</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-cms"><code>cms</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command_002dfd"><code>command-fd</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command_002dfile"><code>command-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-comment"><code>comment</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compatibility_002dflags"><code>compatibility-flags</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compatibility_002dflags-1"><code>compatibility-flags</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compatibility_002dflags-2"><code>compatibility-flags</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compliance"><code>compliance</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compliance-1"><code>compliance</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compliant_002dneeded"><code>compliant-needed</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compress_002dalgo"><code>compress-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-compress_002dlevel"><code>compress-level</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-connect_002dquick_002dtimeout"><code>connect-quick-timeout</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-connect_002dtimeout"><code>connect-timeout</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-create"><code>create</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-create_002dsocketdir"><code>create-socketdir</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh"><code>csh</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-csh-1"><code>csh</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-daemon"><code>daemon</code></a></td><td class="printindex-index-section"><a href="#Agent-Commands">Agent Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-daemon-1"><code>daemon</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-daemon-2"><code>daemon</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Commands">Scdaemon Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dearmor"><code>dearmor</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug"><code>debug</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug-1"><code>debug</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug-2"><code>debug</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug-3"><code>debug</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug-4"><code>debug</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dall"><code>debug-all</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dall-1"><code>debug-all</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dall-2"><code>debug-all</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dall-3"><code>debug-all</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dall-4"><code>debug-all</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dallow_002dcore_002ddump"><code>debug-allow-core-dump</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dallow_002dcore_002ddump-1"><code>debug-allow-core-dump</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dallow_002dlarge_002dchunks"><code>debug-allow-large-chunks</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dassuan_002dlog_002dcats"><code>debug-assuan-log-cats</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002ddisable_002dticker"><code>debug-disable-ticker</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dignore_002dexpiration"><code>debug-ignore-expiration</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dignore_002dexpiration-1"><code>debug-ignore-expiration</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002diolbf"><code>debug-iolbf</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002diolbf-1"><code>debug-iolbf</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dlevel"><code>debug-level</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dlevel-1"><code>debug-level</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dlevel-2"><code>debug-level</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dlevel-3"><code>debug-level</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dlevel-4"><code>debug-level</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dlog_002dtid"><code>debug-log-tid</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dno_002dchain_002dvalidation"><code>debug-no-chain-validation</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dpinentry"><code>debug-pinentry</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dquick_002drandom"><code>debug-quick-random</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dwait"><code>debug-wait</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dwait-1"><code>debug-wait</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dwait-2"><code>debug-wait</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-debug_002dwait-3"><code>debug-wait</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-decode"><code>decode</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-decrypt"><code>decrypt</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-decrypt-1"><code>decrypt</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-decrypt-2"><code>decrypt</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-decrypt_002dfiles"><code>decrypt-files</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dcache_002dttl"><code>default-cache-ttl</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dcache_002dttl-1"><code>default-cache-ttl</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dcert_002dexpire"><code>default-cert-expire</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dcert_002dlevel"><code>default-cert-level</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dkey"><code>default-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dkey-1"><code>default-key</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dkeyserver_002durl"><code>default-keyserver-url</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dnew_002dkey_002dalgo-string"><code>default-new-key-algo <var class="var">string</var></code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dpreference_002dlist"><code>default-preference-list</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002drecipient"><code>default-recipient</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002drecipient_002dself"><code>default-recipient-self</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-default_002dsig_002dexpire"><code>default-sig-expire</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dkeys"><code>delete-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dkeys-1"><code>delete-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dsecret_002dand_002dpublic_002dkey"><code>delete-secret-and-public-key</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-delete_002dsecret_002dkeys"><code>delete-secret-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-deny_002dadmin"><code>deny-admin</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-desig_002drevoke"><code>desig-revoke</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-detach_002dsign"><code>detach-sign</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-digest_002dalgo"><code>digest-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-directory"><code>directory</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-directory-1"><code>directory</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-directory-2"><code>directory</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirmngr"><code>dirmngr</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirmngr_002dprogram"><code>dirmngr-program</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirmngr_002dprogram-1"><code>dirmngr-program</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirmngr_002dprogram-2"><code>dirmngr-program</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dapplication"><code>disable-application</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dccid"><code>disable-ccid</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dcheck_002down_002dsocket"><code>disable-check-own-socket</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dcheck_002down_002dsocket-1"><code>disable-check-own-socket</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dcipher_002dalgo"><code>disable-cipher-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dcrl_002dchecks"><code>disable-crl-checks</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002ddsa2"><code>disable-dsa2</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dextended_002dkey_002dformat"><code>disable-extended-key-format</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dhttp"><code>disable-http</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dipv4"><code>disable-ipv4</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dipv6"><code>disable-ipv6</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dlarge_002drsa"><code>disable-large-rsa</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dldap"><code>disable-ldap</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dmdc"><code>disable-mdc</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002docsp"><code>disable-ocsp</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dpinpad"><code>disable-pinpad</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dpolicy_002dchecks"><code>disable-policy-checks</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dpubkey_002dalgo"><code>disable-pubkey-algo</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dscdaemon"><code>disable-scdaemon</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dsigner_002duid"><code>disable-signer-uid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-disable_002dtrusted_002dcert_002dcrl_002dcheck"><code>disable-trusted-cert-crl-check</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display"><code>display</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display_002dcharset"><code>display-charset</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display_002dcharset_003aiso_002d8859_002d1"><code>display-charset:iso-8859-1</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display_002dcharset_003aiso_002d8859_002d15"><code>display-charset:iso-8859-15</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display_002dcharset_003aiso_002d8859_002d2"><code>display-charset:iso-8859-2</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display_002dcharset_003akoi8_002dr"><code>display-charset:koi8-r</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-display_002dcharset_003autf_002d8"><code>display-charset:utf-8</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dry_002drun"><code>dry-run</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dry_002drun-1"><code>dry-run</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002dcert"><code>dump-cert</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002dchain"><code>dump-chain</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002dexternal_002dkeys"><code>dump-external-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002dkeys"><code>dump-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002doptions"><code>dump-options</code></a></td><td class="printindex-index-section"><a href="#Agent-Commands">Agent Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002doptions-1"><code>dump-options</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002doptions-2"><code>dump-options</code></a></td><td class="printindex-index-section"><a href="#General-GPG-Commands">General GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002doptions-3"><code>dump-options</code></a></td><td class="printindex-index-section"><a href="#General-GPGSM-Commands">General GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002doptions-4"><code>dump-options</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Commands">Scdaemon Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dump_002dsecret_002dkeys"><code>dump-secret-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-E">E</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-edit_002dcard"><code>edit-card</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-edit_002dkey"><code>edit-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-emit_002dversion"><code>emit-version</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dcrl_002dchecks"><code>enable-crl-checks</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002ddsa2"><code>enable-dsa2</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dextended_002dkey_002dformat"><code>enable-extended-key-format</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dissuer_002dbased_002dcrl_002dcheck"><code>enable-issuer-based-crl-check</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dlarge_002drsa"><code>enable-large-rsa</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002docsp"><code>enable-ocsp</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dpassphrase_002dhistory"><code>enable-passphrase-history</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dpinpad_002dvarlen"><code>enable-pinpad-varlen</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dpolicy_002dchecks"><code>enable-policy-checks</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dprogress_002dfilter"><code>enable-progress-filter</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dputty_002dsupport"><code>enable-putty-support</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dspecial_002dfilenames"><code>enable-special-filenames</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dspecial_002dfilenames-1"><code>enable-special-filenames</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dssh_002dsupport"><code>enable-ssh-support</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dtrusted_002dcert_002dcrl_002dcheck"><code>enable-trusted-cert-crl-check</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enable_002dwin32_002dopenssh_002dsupport"><code>enable-win32-openssh-support</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enarmor"><code>enarmor</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-encrypt"><code>encrypt</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-encrypt-1"><code>encrypt</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-encrypt-2"><code>encrypt</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-encrypt_002dfiles"><code>encrypt-files</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-encrypt_002dto"><code>encrypt-to</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-enforce_002dpassphrase_002dconstraints"><code>enforce-passphrase-constraints</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-escape_002dfrom_002dlines"><code>escape-from-lines</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exec"><code>exec</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exec_002dpath"><code>exec-path</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-exit_002don_002dstatus_002dwrite_002derror"><code>exit-on-status-write-error</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-expert"><code>expert</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export"><code>export</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export-1"><code>export</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dfilter"><code>export-filter</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002doptions"><code>export-options</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002downertrust"><code>export-ownertrust</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dsecret_002dkey_002dp12"><code>export-secret-key-p12</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dsecret_002dkey_002dp8"><code>export-secret-key-p8</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dsecret_002dkey_002draw"><code>export-secret-key-raw</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dsecret_002dkeys"><code>export-secret-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dsecret_002dsubkeys"><code>export-secret-subkeys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-export_002dssh_002dkey"><code>export-ssh-key</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-extra_002ddigest_002dalgo"><code>extra-digest-algo</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-extra_002dsocket"><code>extra-socket</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-extract"><code>extract</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-F">F</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-factory_002dreset"><code>factory-reset</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-faked_002dsystem_002dtime"><code>faked-system-time</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-faked_002dsystem_002dtime-1"><code>faked-system-time</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-faked_002dsystem_002dtime-2"><code>faked-system-time</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-faked_002dsystem_002dtime-3"><code>faked-system-time</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fast_002dlist_002dmode"><code>fast-list-mode</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fetch"><code>fetch</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fetch_002dcrl"><code>fetch-crl</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fetch_002dkeys"><code>fetch-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fingerprint"><code>fingerprint</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-fixed_002dlist_002dmode"><code>fixed-list-mode</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-flush"><code>flush</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-for_002dyour_002deyes_002donly"><code>for-your-eyes-only</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-forbid_002dgen_002dkey"><code>forbid-gen-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force"><code>force</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force-1"><code>force</code></a></td><td class="printindex-index-section"><a href="#watchgnupg">watchgnupg</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002daead"><code>force-aead</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002dcrl_002drefresh"><code>force-crl-refresh</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002ddefault_002dresponder"><code>force-default-responder</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002dmdc"><code>force-mdc</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002docb"><code>force-ocb</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-force_002dsign_002dkey"><code>force-sign-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-forcesig"><code>forcesig</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-forget"><code>forget</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dpreset_002dpassphrase">Invoking gpg-preset-passphrase</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-from"><code>from</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-full_002dgen_002dkey"><code>full-gen-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-full_002dgenerate_002dkey"><code>full-generate-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-full_002dtimestrings"><code>full-timestrings</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gen_002dkey"><code>gen-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gen_002dkey-1"><code>gen-key</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gen_002dprime"><code>gen-prime</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gen_002drandom"><code>gen-random</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gen_002drevoke"><code>gen-revoke</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-generate"><code>generate</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-generate_002ddesignated_002drevocation"><code>generate-designated-revocation</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-generate_002dkey"><code>generate-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-generate_002dkey-1"><code>generate-key</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-generate_002drevocation"><code>generate-revocation</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gnupg"><code>gnupg</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpg"><code>gpg</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpg_002dagent_002dinfo"><code>gpg-agent-info</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpg_002dargs"><code>gpg-args</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpg_002dprogram"><code>gpg-program</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpgconf_002dlist"><code>gpgconf-list</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpgconf_002dtest"><code>gpgconf-test</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpgsm_002dprogram"><code>gpgsm-program</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-grab"><code>grab</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-group"><code>group</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-header"><code>header</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help"><code>help</code></a></td><td class="printindex-index-section"><a href="#Agent-Commands">Agent Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-1"><code>help</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-2"><code>help</code></a></td><td class="printindex-index-section"><a href="#General-GPG-Commands">General GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-3"><code>help</code></a></td><td class="printindex-index-section"><a href="#General-GPGSM-Commands">General GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-4"><code>help</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Commands">Scdaemon Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-5"><code>help</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-6"><code>help</code></a></td><td class="printindex-index-section"><a href="#watchgnupg">watchgnupg</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-7"><code>help</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-8"><code>help</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-9"><code>help</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help-10"><code>help</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hex"><code>hex</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hidden_002dencrypt_002dto"><code>hidden-encrypt-to</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hidden_002drecipient"><code>hidden-recipient</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-hidden_002drecipient_002dfile"><code>hidden-recipient-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir-1"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir-2"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir-3"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir-4"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir-5"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-homedir-6"><code>homedir</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-honor_002dhttp_002dproxy"><code>honor-http-proxy</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-http_002dproxy"><code>http-proxy</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-I">I</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcache_002dfor_002dsigning"><code>ignore-cache-for-signing</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcert"><code>ignore-cert</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcert_002dextension"><code>ignore-cert-extension</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcert_002dextension-1"><code>ignore-cert-extension</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcert_002dwith_002doid"><code>ignore-cert-with-oid</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcrc_002derror"><code>ignore-crc-error</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dcrl_002dextension"><code>ignore-crl-extension</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dhttp_002ddp"><code>ignore-http-dp</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dldap_002ddp"><code>ignore-ldap-dp</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dmdc_002derror"><code>ignore-mdc-error</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002docsp_002dservice_002durl"><code>ignore-ocsp-service-url</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dtime_002dconflict"><code>ignore-time-conflict</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dtime_002dconflict-1"><code>ignore-time-conflict</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ignore_002dvalid_002dfrom"><code>ignore-valid-from</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-import"><code>import</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-import-1"><code>import</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-import_002dfilter"><code>import-filter</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-import_002doptions"><code>import-options</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-import_002downertrust"><code>import-ownertrust</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-include_002dcerts"><code>include-certs</code></a></td><td class="printindex-index-section"><a href="#CMS-Options">CMS Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-include_002dkey_002dblock"><code>include-key-block</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-input_002dsize_002dhint"><code>input-size-hint</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-input_002dsize_002dhint-1"><code>input-size-hint</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-interactive"><code>interactive</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-K">K</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kdf_002dsetup"><code>kdf-setup</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keep_002ddisplay"><code>keep-display</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keep_002dtty"><code>keep-tty</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-key_002dorigin"><code>key-origin</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyboxd"><code>keyboxd</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyboxd_002dprogram"><code>keyboxd-program</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keydb_002dclear_002dsome_002dcert_002dflags"><code>keydb-clear-some-cert-flags</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aaddadsk"><code>keyedit:addadsk</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aaddcardkey"><code>keyedit:addcardkey</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aaddkey"><code>keyedit:addkey</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aaddphoto"><code>keyedit:addphoto</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aaddrevoker"><code>keyedit:addrevoker</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aadduid"><code>keyedit:adduid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003abkuptocard"><code>keyedit:bkuptocard</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003achange_002dusage"><code>keyedit:change-usage</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003acheck"><code>keyedit:check</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aclean"><code>keyedit:clean</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003across_002dcertify"><code>keyedit:cross-certify</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003adelkey"><code>keyedit:delkey</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003adelsig"><code>keyedit:delsig</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003adeluid"><code>keyedit:deluid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003adisable"><code>keyedit:disable</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aenable"><code>keyedit:enable</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aexpire"><code>keyedit:expire</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003akey"><code>keyedit:key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003akeyserver"><code>keyedit:keyserver</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003akeytocard"><code>keyedit:keytocard</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003akeytotpm"><code>keyedit:keytotpm</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003alsign"><code>keyedit:lsign</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aminimize"><code>keyedit:minimize</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003anotation"><code>keyedit:notation</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003anrsign"><code>keyedit:nrsign</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003apasswd"><code>keyedit:passwd</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003apref"><code>keyedit:pref</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aprimary"><code>keyedit:primary</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003aquit"><code>keyedit:quit</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003arevkey"><code>keyedit:revkey</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003arevsig"><code>keyedit:revsig</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003arevuid"><code>keyedit:revuid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003asave"><code>keyedit:save</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003asetpref"><code>keyedit:setpref</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003ashowphoto"><code>keyedit:showphoto</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003ashowpref"><code>keyedit:showpref</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003asign"><code>keyedit:sign</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003atoggle"><code>keyedit:toggle</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003atrust"><code>keyedit:trust</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003atsign"><code>keyedit:tsign</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyedit_003auid"><code>keyedit:uid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyid_002dformat"><code>keyid-format</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyring"><code>keyring</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyring-1"><code>keyring</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyserver"><code>keyserver</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyserver-1"><code>keyserver</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyserver-2"><code>keyserver</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-keyserver_002doptions"><code>keyserver-options</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-kill"><code>kill</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-known_002dnotation"><code>known-notation</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lang"><code>lang</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-launch"><code>launch</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lc_002dctype"><code>lc-ctype</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lc_002dmessages"><code>lc-messages</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ldap_002dproxy"><code>ldap-proxy</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ldapserver"><code>ldapserver</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ldapserverlist_002dfile"><code>ldapserverlist-file</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ldaptimeout"><code>ldaptimeout</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-learn_002dcard"><code>learn-card</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-legacy_002dlist_002dmode"><code>legacy-list-mode</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-limit_002dcard_002dinsert_002dtries"><code>limit-card-insert-tries</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list"><code>list</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002darchive"><code>list-archive</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dchain"><code>list-chain</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dconfig"><code>list-config</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dcrls"><code>list-crls</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dfilter"><code>list-filter</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dgcrypt_002dconfig"><code>list-gcrypt-config</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dkeys"><code>list-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dkeys-1"><code>list-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dkeys-2"><code>list-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002donly"><code>list-only</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions"><code>list-options</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dkeyring"><code>list-options:show-keyring</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dkeyserver_002durls"><code>list-options:show-keyserver-urls</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dnotations"><code>list-options:show-notations</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002donly_002dfpr_002dmbox"><code>list-options:show-only-fpr-mbox</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dphotos"><code>list-options:show-photos</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dpolicy_002durls"><code>list-options:show-policy-urls</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dsig_002dexpire"><code>list-options:show-sig-expire</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dsig_002dsubpackets"><code>list-options:show-sig-subpackets</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dstd_002dnotations"><code>list-options:show-std-notations</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002duid_002dvalidity"><code>list-options:show-uid-validity</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dunusable_002dsigs"><code>list-options:show-unusable-sigs</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dunusable_002dsubkeys"><code>list-options:show-unusable-subkeys</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dunusable_002duids"><code>list-options:show-unusable-uids</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002dusage"><code>list-options:show-usage</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003ashow_002duser_002dnotations"><code>list-options:show-user-notations</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002doptions_003asort_002dsigs"><code>list-options:sort-sigs</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dpackets"><code>list-packets</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dsecret_002dkeys"><code>list-secret-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dsecret_002dkeys-1"><code>list-secret-keys</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dsignatures"><code>list-signatures</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-list_002dsigs"><code>list-sigs</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-listen_002dbacklog"><code>listen-backlog</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-listen_002dbacklog-1"><code>listen-backlog</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-listen_002dbacklog-2"><code>listen-backlog</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-load_002dcrl"><code>load-crl</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-load_002dcrl-1"><code>load-crl</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-local_002duser"><code>local-user</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-local_002duser-1"><code>local-user</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-local_002duser-2"><code>local-user</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-locate_002dexternal_002dkeys"><code>locate-external-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-locate_002dkeys"><code>locate-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lock_002dmultiple"><code>lock-multiple</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lock_002dnever"><code>lock-never</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lock_002donce"><code>lock-once</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dfile"><code>log-file</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dfile-1"><code>log-file</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dfile-2"><code>log-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dfile-3"><code>log-file</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dfile-4"><code>log-file</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dfile-5"><code>log-file</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dtime"><code>log-time</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-log_002dtime-1"><code>log-time</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-logger_002dfd"><code>logger-fd</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-logger_002dfd-1"><code>logger-fd</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-login"><code>login</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lookup"><code>lookup</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-lsign_002dkey"><code>lsign-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-M">M</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-mangle_002ddos_002dfilenames"><code>mangle-dos-filenames</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-marginals_002dneeded"><code>marginals-needed</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dcache_002dttl"><code>max-cache-ttl</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dcache_002dttl_002dssh"><code>max-cache-ttl-ssh</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dcert_002ddepth"><code>max-cert-depth</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002doutput"><code>max-output</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dpassphrase_002ddays"><code>max-passphrase-days</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-max_002dreplies"><code>max-replies</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-min_002dcert_002dlevel"><code>min-cert-level</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-min_002dpassphrase_002dlen"><code>min-passphrase-len</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-min_002dpassphrase_002dnonalpha"><code>min-passphrase-nonalpha</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-min_002drsa_002dlength"><code>min-rsa-length</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-min_002drsa_002dlength-1"><code>min-rsa-length</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-multi_002dserver"><code>multi-server</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Commands">Scdaemon Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-multifile"><code>multifile</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-N">N</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-name"><code>name</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-nameserver"><code>nameserver</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no"><code>no</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no-1"><code>no</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dadd_002drevocs"><code>no-add-revocs</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dallow_002dexternal_002dcache"><code>no-allow-external-cache</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dallow_002dloopback_002dpinentry"><code>no-allow-loopback-pinentry</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dallow_002dmark_002dtrusted"><code>no-allow-mark-trusted</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002darmor"><code>no-armor</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dauto_002dkey_002dimport"><code>no-auto-key-import</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dauto_002dkey_002dretrieve"><code>no-auto-key-retrieve</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dauto_002dtrust_002dnew_002dkey"><code>no-auto-trust-new-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dautostart"><code>no-autostart</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dautostart-1"><code>no-autostart</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dautostart-2"><code>no-autostart</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dautostart-3"><code>no-autostart</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dbatch"><code>no-batch</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dcommon_002dcerts_002dimport"><code>no-common-certs-import</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dcompress"><code>no-compress</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dcompress-1"><code>no-compress</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002ddefault_002dkeyring"><code>no-default-keyring</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002ddefault_002drecipient"><code>no-default-recipient</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002ddetach"><code>no-detach</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002ddetach-1"><code>no-detach</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dencrypt_002dto"><code>no-encrypt-to</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dexpensive_002dtrust_002dchecks"><code>no-expensive-trust-checks</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dext_002dconnect"><code>no-ext-connect</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dgrab"><code>no-grab</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dgreeting"><code>no-greeting</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dgroups"><code>no-groups</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dinclude_002dkey_002dblock"><code>no-include-key-block</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dkeyring"><code>no-keyring</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dliteral"><code>no-literal</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dmangle_002ddos_002dfilenames"><code>no-mangle-dos-filenames</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002doptions"><code>no-options</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dpretty_002ddn"><code>no-pretty-dn</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002drandom_002dseed_002dfile"><code>no-random-seed-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dsecmem_002dwarning"><code>no-secmem-warning</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dsecmem_002dwarning-1"><code>no-secmem-warning</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dsig_002dcache"><code>no-sig-cache</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dskip_002dhidden_002drecipients"><code>no-skip-hidden-recipients</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dsymkey_002dcache"><code>no-symkey-cache</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dtty"><code>no-tty</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002duse_002dstandard_002dsocket"><code>no-use-standard-socket</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002duse_002dtor"><code>no-use-tor</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002duser_002dtrustlist"><code>no-user-trustlist</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-no_002dverbose"><code>no-verbose</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-not_002ddash_002descaped"><code>not-dash-escaped</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-null"><code>null</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-null-1"><code>null</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcheck_002dpattern">gpg-check-pattern</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ocsp"><code>ocsp</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ocsp_002dcurrent_002dperiod"><code>ocsp-current-period</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ocsp_002dmax_002dclock_002dskew"><code>ocsp-max-clock-skew</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ocsp_002dmax_002dperiod"><code>ocsp-max-period</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ocsp_002dresponder"><code>ocsp-responder</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ocsp_002dsigner"><code>ocsp-signer</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-only_002dldap_002dproxy"><code>only-ldap-proxy</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-openpgp"><code>openpgp</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-openpgp-1"><code>openpgp</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options"><code>options</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options-1"><code>options</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options-2"><code>options</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options-3"><code>options</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options-4"><code>options</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options-5"><code>options</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output"><code>output</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-1"><code>output</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-2"><code>output</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-3"><code>output</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-4"><code>output</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-output-5"><code>output</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-override_002dsession_002dkey"><code>override-session-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-p12_002dcharset"><code>p12-charset</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passphrase"><code>passphrase</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passphrase-1"><code>passphrase</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dpreset_002dpassphrase">Invoking gpg-preset-passphrase</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passphrase_002dfd"><code>passphrase-fd</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passphrase_002dfd-1"><code>passphrase-fd</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passphrase_002dfile"><code>passphrase-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passphrase_002drepeat"><code>passphrase-repeat</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passwd"><code>passwd</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passwd-1"><code>passwd</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-passwd-2"><code>passwd</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pcsc_002ddriver"><code>pcsc-driver</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pcsc_002dshared"><code>pcsc-shared</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pem"><code>pem</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-permission_002dwarning"><code>permission-warning</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-personal_002daead_002dpreferences"><code>personal-aead-preferences</code></a></td><td class="printindex-index-section"><a href="#Deprecated-Options">Deprecated Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-personal_002dcipher_002dpreferences"><code>personal-cipher-preferences</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-personal_002dcompress_002dpreferences"><code>personal-compress-preferences</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-personal_002ddigest_002dpreferences"><code>personal-digest-preferences</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pgp6"><code>pgp6</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pgp7"><code>pgp7</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pgp8"><code>pgp8</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-photo_002dviewer"><code>photo-viewer</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dformatted_002dpassphrase"><code>pinentry-formatted-passphrase</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dinvisible_002dchar"><code>pinentry-invisible-char</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dmode"><code>pinentry-mode</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dmode-1"><code>pinentry-mode</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dprogram"><code>pinentry-program</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dtimeout"><code>pinentry-timeout</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pinentry_002dtouch_002dfile"><code>pinentry-touch-file</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ping"><code>ping</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-policy_002dfile"><code>policy-file</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-prefer_002dsystem_002ddirmngr"><code>prefer-system-dirmngr</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-preserve_002dpermissions"><code>preserve-permissions</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-preset"><code>preset</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dpreset_002dpassphrase">Invoking gpg-preset-passphrase</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-primary_002dkeyring"><code>primary-keyring</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-print_002dmd"><code>print-md</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-privatedo"><code>privatedo</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-q"><code>q</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-q-1"><code>q</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dadd_002dadsk"><code>quick-add-adsk</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dadd_002dkey"><code>quick-add-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dadd_002duid"><code>quick-add-uid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dgen_002dkey"><code>quick-gen-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dgenerate_002dkey"><code>quick-generate-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dlsign_002dkey"><code>quick-lsign-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002drevoke_002dsig"><code>quick-revoke-sig</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002drevoke_002duid"><code>quick-revoke-uid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dset_002dexpire"><code>quick-set-expire</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dset_002dprimary_002duid"><code>quick-set-primary-uid</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dsign_002dkey"><code>quick-sign-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quick_002dupdate_002dpref"><code>quick-update-pref</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-1"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-2"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-3"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-4"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-5"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-6"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-7"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-8"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quiet-9"><code>quiet</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-quit"><code>quit</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-raw_002dsocket"><code>raw-socket</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-readcert"><code>readcert</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reader_002dport"><code>reader-port</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rebuild_002dkeydb_002dcaches"><code>rebuild-keydb-caches</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-receive_002dkeys"><code>receive-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recipient"><code>recipient</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recipient-1"><code>recipient</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recipient-2"><code>recipient</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recipient_002dfile"><code>recipient-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recursive_002dresolver"><code>recursive-resolver</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-recv_002dkeys"><code>recv-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-refresh_002dkeys"><code>refresh-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reload"><code>reload</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-remove_002dsocketdir"><code>remove-socketdir</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-request_002dorigin"><code>request-origin</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-request_002dorigin-1"><code>request-origin</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-require_002dcompliance"><code>require-compliance</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-require_002dcompliance-1"><code>require-compliance</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-require_002dcompliance-2"><code>require-compliance</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-require_002dcross_002dcertification"><code>require-cross-certification</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-require_002dsecmem"><code>require-secmem</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-reset"><code>reset</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-resolver_002dtimeout"><code>resolver-timeout</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rfc2440"><code>rfc2440</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rfc4880"><code>rfc4880</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-rfc4880bis"><code>rfc4880bis</code></a></td><td class="printindex-index-section"><a href="#Compliance-Options">Compliance Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-run"><code>run</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s"><code>s</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s2k_002dcalibration"><code>s2k-calibration</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s2k_002dcipher_002dalgo"><code>s2k-cipher-algo</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s2k_002dcount"><code>s2k-count</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s2k_002dcount-1"><code>s2k-count</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s2k_002ddigest_002dalgo"><code>s2k-digest-algo</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-s2k_002dmode"><code>s2k-mode</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Options">OpenPGP Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-salut"><code>salut</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-salutation"><code>salutation</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-scdaemon_002dprogram"><code>scdaemon-program</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-search_002dkeys"><code>search-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-secret_002dkeyring"><code>secret-keyring</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-send"><code>send</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-send-1"><code>send</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-send_002dkeys"><code>send-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sender"><code>sender</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-server"><code>server</code></a></td><td class="printindex-index-section"><a href="#Agent-Commands">Agent Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-server-1"><code>server</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-server-2"><code>server</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-server-3"><code>server</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Commands">Scdaemon Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dfilename"><code>set-filename</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dfilename-1"><code>set-filename</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dfilesize"><code>set-filesize</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dnotation"><code>set-notation</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-set_002dpolicy_002durl"><code>set-policy-url</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh"><code>sh</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sh-1"><code>sh</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dcerts"><code>show-certs</code></a></td><td class="printindex-index-section"><a href="#Certificate-Management">Certificate Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dkeyring"><code>show-keyring</code></a></td><td class="printindex-index-section"><a href="#Deprecated-Options">Deprecated Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dkeys"><code>show-keys</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dnotation"><code>show-notation</code></a></td><td class="printindex-index-section"><a href="#Deprecated-Options">Deprecated Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dphotos"><code>show-photos</code></a></td><td class="printindex-index-section"><a href="#Deprecated-Options">Deprecated Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dpolicy_002durl"><code>show-policy-url</code></a></td><td class="printindex-index-section"><a href="#Deprecated-Options">Deprecated Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-show_002dsession_002dkey"><code>show-session-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-shutdown"><code>shutdown</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sig_002dkeyserver_002durl"><code>sig-keyserver-url</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sig_002dnotation"><code>sig-notation</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sig_002dpolicy_002durl"><code>sig-policy-url</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sign"><code>sign</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sign-1"><code>sign</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sign_002dkey"><code>sign-key</code></a></td><td class="printindex-index-section"><a href="#OpenPGP-Key-Management">OpenPGP Key Management</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-skip_002dcrypto"><code>skip-crypto</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-skip_002dhidden_002drecipients"><code>skip-hidden-recipients</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-skip_002dverify"><code>skip-verify</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-squid_002dmode"><code>squid-mode</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ssh_002dfingerprint_002ddigest"><code>ssh-fingerprint-digest</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-standard_002dresolver"><code>standard-resolver</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfd"><code>status-fd</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfd-1"><code>status-fd</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfd-2"><code>status-fd</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfd-3"><code>status-fd</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfd-4"><code>status-fd</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfd-5"><code>status-fd</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-status_002dfile"><code>status-file</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-steal_002dsocket"><code>steal-socket</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-store"><code>store</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-subst"><code>subst</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-supervised"><code>supervised</code></a></td><td class="printindex-index-section"><a href="#Agent-Commands">Agent Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-supervised-1"><code>supervised</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-symmetric"><code>symmetric</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sys_002dtrustlist_002dname"><code>sys-trustlist-name</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tar"><code>tar</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tar_002dargs"><code>tar-args</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-textmode"><code>textmode</code></a></td><td class="printindex-index-section"><a href="#Deprecated-Options">Deprecated Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-throw_002dkeyids"><code>throw-keyids</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-time_002donly"><code>time-only</code></a></td><td class="printindex-index-section"><a href="#watchgnupg">watchgnupg</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tls_002ddebug"><code>tls-debug</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tofu_002ddefault_002dpolicy"><code>tofu-default-policy</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-tofu_002dpolicy"><code>tofu-policy</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel"><code>trust-model</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003aalways"><code>trust-model:always</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003aauto"><code>trust-model:auto</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003aclassic"><code>trust-model:classic</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003adirect"><code>trust-model:direct</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003apgp"><code>trust-model:pgp</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003atofu"><code>trust-model:tofu</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust_002dmodel_003atofu_002bpgp"><code>trust-model:tofu+pgp</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trustdb_002dname"><code>trustdb-name</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trusted_002dkey"><code>trusted-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-try_002dall_002dsecrets"><code>try-all-secrets</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-try_002dsecret_002dkey"><code>try-secret-key</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ttyname"><code>ttyname</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ttytype"><code>ttytype</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-U">U</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-uif"><code>uif</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unblock"><code>unblock</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unbuffered"><code>unbuffered</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ungroup"><code>ungroup</code></a></td><td class="printindex-index-section"><a href="#GPG-Key-related-Options">GPG Key related Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-unwrap"><code>unwrap</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-update_002dtrustdb"><code>update-trustdb</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-url"><code>url</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-url-1"><code>url</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-url-2"><code>url</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dagent"><code>use-agent</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dembedded_002dfilename"><code>use-embedded-filename</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dstandard_002dsocket"><code>use-standard-socket</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dstandard_002dsocket_002dp"><code>use-standard-socket-p</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-use_002dtor"><code>use-tor</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-utf8_002dstrings"><code>utf8-strings</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-utf8_002dstrings-1"><code>utf8-strings</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-V">V</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-v"><code>v</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-v-1"><code>v</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-v-2"><code>v</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-v-3"><code>v</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-validate"><code>validate</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-validation_002dmodel"><code>validation-model</code></a></td><td class="printindex-index-section"><a href="#Certificate-Options">Certificate Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-1"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-2"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-3"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-4"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-5"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-6"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#watchgnupg">watchgnupg</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-7"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-8"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dpreset_002dpassphrase">Invoking gpg-preset-passphrase</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-9"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-10"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-11"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-12"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcheck_002dpattern">gpg-check-pattern</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-13"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verbose-14"><code>verbose</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify"><code>verify</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify-1"><code>verify</code></a></td><td class="printindex-index-section"><a href="#Operational-GPGSM-Commands">Operational GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify-2"><code>verify</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002dfiles"><code>verify-files</code></a></td><td class="printindex-index-section"><a href="#Operational-GPG-Commands">Operational GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions"><code>verify-options</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dkeyserver_002durls"><code>verify-options:show-keyserver-urls</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dnotations"><code>verify-options:show-notations</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dphotos"><code>verify-options:show-photos</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dpolicy_002durls"><code>verify-options:show-policy-urls</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dprimary_002duid_002donly"><code>verify-options:show-primary-uid-only</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dstd_002dnotations"><code>verify-options:show-std-notations</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002duid_002dvalidity"><code>verify-options:show-uid-validity</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002dunusable_002duids"><code>verify-options:show-unusable-uids</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-verify_002doptions_003ashow_002duser_002dnotations"><code>verify-options:show-user-notations</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version"><code>version</code></a></td><td class="printindex-index-section"><a href="#Agent-Commands">Agent Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-1"><code>version</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Commands">Dirmngr Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-2"><code>version</code></a></td><td class="printindex-index-section"><a href="#General-GPG-Commands">General GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-3"><code>version</code></a></td><td class="printindex-index-section"><a href="#General-GPGSM-Commands">General GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-4"><code>version</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Commands">Scdaemon Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-5"><code>version</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-6"><code>version</code></a></td><td class="printindex-index-section"><a href="#watchgnupg">watchgnupg</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-7"><code>version</code></a></td><td class="printindex-index-section"><a href="#dirmngr_002dclient">dirmngr-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-8"><code>version</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-9"><code>version</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-version-10"><code>version</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-W">W</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-warranty"><code>warranty</code></a></td><td class="printindex-index-section"><a href="#General-GPG-Commands">General GPG Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-warranty-1"><code>warranty</code></a></td><td class="printindex-index-section"><a href="#General-GPGSM-Commands">General GPGSM Commands</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-weak_002ddigest"><code>weak-digest</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-weak_002ddigest-1"><code>weak-digest</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dcolons"><code>with-colons</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dcolons-1"><code>with-colons</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dcolons-2"><code>with-colons</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dclient">gpg-wks-client</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002ddir"><code>with-dir</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dephemeral_002dkeys"><code>with-ephemeral-keys</code></a></td><td class="printindex-index-section"><a href="#Esoteric-Options">Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dfile"><code>with-file</code></a></td><td class="printindex-index-section"><a href="#gpg_002dwks_002dserver">gpg-wks-server</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dfingerprint"><code>with-fingerprint</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dicao_002dspelling"><code>with-icao-spelling</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dkey_002ddata"><code>with-key-data</code></a></td><td class="printindex-index-section"><a href="#GPG-Esoteric-Options">GPG Esoteric Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dkey_002ddata-1"><code>with-key-data</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dkey_002dorigin"><code>with-key-origin</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dkeygrip"><code>with-keygrip</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dlog"><code>with-log</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dsecret"><code>with-secret</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dsecret-1"><code>with-secret</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dsubkey_002dfingerprint"><code>with-subkey-fingerprint</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dv5_002dfingerprint"><code>with-v5-fingerprint</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dvalidation"><code>with-validation</code></a></td><td class="printindex-index-section"><a href="#Input-and-Output">Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-with_002dwkd_002dhash"><code>with-wkd-hash</code></a></td><td class="printindex-index-section"><a href="#GPG-Input-and-Output">GPG Input and Output</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-writecert"><code>writecert</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-writekey"><code>writekey</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-X">X</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-xauthority"><code>xauthority</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Option-Index_op_letter-Y">Y</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-yes"><code>yes</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-yes-1"><code>yes</code></a></td><td class="printindex-index-section"><a href="#gpgtar">gpgtar</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-yubikey"><code>yubikey</code></a></td><td class="printindex-index-section"><a href="#gpg_002dcard">gpg-card</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="op-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Option-Index_op_symbol-1"><b>-</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#Option-Index_op_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-K"><b>K</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-W"><b>W</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-X"><b>X</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Option-Index_op_letter-Y"><b>Y</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="Environment-Index">
<div class="nav-panel">
<p>
Next: <a href="#Index" accesskey="n" rel="next">Index</a>, Previous: <a href="#Option-Index" accesskey="p" rel="prev">Option Index</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="unnumbered" id="Environment-Variable-and-File-Index"><span>Environment Variable and File Index<a class="copiable-link" href="#Environment-Variable-and-File-Index"> &para;</a></span></h2>

<div class="printindex ef-printindex">
<table class="ef-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Environment-Index_ef_symbol-1"><b>.</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_symbol-2"><b>~</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-X"><b>X</b></a>
 &nbsp; 
</td></tr></table>
<table class="ef-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_symbol-1">.</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_002egpg_002dv21_002dmigrated"><code>.gpg-v21-migrated</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_symbol-2">~</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-_007e_002f_002egnupg"><code>~/.gnupg</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-A">A</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-ASSUAN_005fDEBUG"><code>ASSUAN_DEBUG</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-COLUMNS"><code>COLUMNS</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-com_002dcerts_002epem"><code>com-certs.pem</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-common_002econf"><code>common.conf</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-common_002econf-1"><code>common.conf</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-dirmngr_002econf"><code>dirmngr.conf</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Configuration">Dirmngr Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DISPLAY"><code>DISPLAY</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPG_005fBUILD_005fROOT"><code>GNUPG_BUILD_ROOT</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPG_005fEXEC_005fDEBUG_005fFLAGS"><code>GNUPG_EXEC_DEBUG_FLAGS</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-1"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-2"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-3"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-4"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-5"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-6"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GNUPGHOME-7"><code>GNUPGHOME</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GPG_005fTTY"><code>GPG_TTY</code></a></td><td class="printindex-index-section"><a href="#Invoking-GPG_002dAGENT">Invoking GPG-AGENT</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GPG_005fTTY-1"><code>GPG_TTY</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpg_002dagent_002econf"><code>gpg-agent.conf</code></a></td><td class="printindex-index-section"><a href="#Agent-Configuration">Agent Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpg_002econf"><code>gpg.conf</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpgsm_002econf"><code>gpgsm.conf</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-H">H</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-help_002etxt"><code>help.txt</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aDefaultLogFile"><code>HKCU\Software\GNU\GnuPG:DefaultLogFile</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-1"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-2"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#Configuration-Options">Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-3"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#Scdaemon-Options">Scdaemon Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-4"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#gpgv">gpgv</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-5"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpgconf">Invoking gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HKCU_005cSoftware_005cGNU_005cGnuPG_003aHomeDir-6"><code>HKCU\Software\GNU\GnuPG:HomeDir</code></a></td><td class="printindex-index-section"><a href="#Invoking-gpg_002dconnect_002dagent">Invoking gpg-connect-agent</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-HOME"><code>HOME</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-http_005fproxy"><code>http_proxy</code></a></td><td class="printindex-index-section"><a href="#Dirmngr-Options">Dirmngr Options</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-L">L</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LANGUAGE"><code>LANGUAGE</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fCTYPE"><code>LC_CTYPE</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LC_005fMESSAGES"><code>LC_MESSAGES</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-LINES"><code>LINES</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-openpgp_002drevocs_002ed"><code>openpgp-revocs.d</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-P">P</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PATH"><code>PATH</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration-Options">GPG Configuration Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PINENTRY_005fUSER_005fDATA"><code>PINENTRY_USER_DATA</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-PINENTRY_005fUSER_005fDATA-1"><code>PINENTRY_USER_DATA</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-policies_002etxt"><code>policies.txt</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-private_002dkeys_002dv1_002ed"><code>private-keys-v1.d</code></a></td><td class="printindex-index-section"><a href="#Agent-Configuration">Agent Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pubring_002egpg"><code>pubring.gpg</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pubring_002ekbx"><code>pubring.kbx</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-pubring_002ekbx-1"><code>pubring.kbx</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-Q">Q</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-qualified_002etxt"><code>qualified.txt</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-random_005fseed"><code>random_seed</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-random_005fseed-1"><code>random_seed</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-S_002egpg_002dagent"><code>S.gpg-agent</code></a></td><td class="printindex-index-section"><a href="#GPGSM-Configuration">GPGSM Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-secring_002egpg"><code>secring.gpg</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SHELL"><code>SHELL</code></a></td><td class="printindex-index-section"><a href="#Agent-Options">Agent Options</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-sshcontrol"><code>sshcontrol</code></a></td><td class="printindex-index-section"><a href="#Agent-Configuration">Agent Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-TERM"><code>TERM</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trustdb_002egpg"><code>trustdb.gpg</code></a></td><td class="printindex-index-section"><a href="#GPG-Configuration">GPG Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trustlist_002etxt"><code>trustlist.txt</code></a></td><td class="printindex-index-section"><a href="#Agent-Configuration">Agent Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Environment-Index_ef_letter-X">X</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-XAUTHORITY"><code>XAUTHORITY</code></a></td><td class="printindex-index-section"><a href="#GPGSM-OPTION">GPGSM OPTION</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="ef-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Environment-Index_ef_symbol-1"><b>.</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_symbol-2"><b>~</b></a>
 &nbsp; 
<br>
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-H"><b>H</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-Q"><b>Q</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Environment-Index_ef_letter-X"><b>X</b></a>
 &nbsp; 
</td></tr></table>
</div>

<hr>
</div>
<div class="unnumbered-level-extent" id="Index">
<div class="nav-panel">
<p>
Previous: <a href="#Environment-Index" accesskey="p" rel="prev">Environment Variable and File Index</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Option-Index" title="Index" rel="index">Index</a>]</p>
</div>
<h2 class="unnumbered" id="Index-1"><span>Index<a class="copiable-link" href="#Index-1"> &para;</a></span></h2>

<div class="printindex cp-printindex">
<table class="cp-letters-header-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
</td></tr></table>
<table class="cp-entries-printindex" border="0">
<tr><td></td><th class="entries-header-printindex">Index Entry</th><th class="sections-header-printindex">Section</th></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-C">C</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-options">command options</a></td><td class="printindex-index-section"><a href="#Invoking-GPG_002dAGENT">Invoking GPG-AGENT</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-options-1">command options</a></td><td class="printindex-index-section"><a href="#Invoking-DIRMNGR">Invoking DIRMNGR</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-options-2">command options</a></td><td class="printindex-index-section"><a href="#Invoking-GPG">Invoking GPG</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-options-3">command options</a></td><td class="printindex-index-section"><a href="#Invoking-GPGSM">Invoking GPGSM</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-command-options-4">command options</a></td><td class="printindex-index-section"><a href="#Invoking-SCDAEMON">Invoking SCDAEMON</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-contributors">contributors</a></td><td class="printindex-index-section"><a href="#Contributors">Contributors</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-D">D</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-DIRMNGR-command-options">DIRMNGR command options</a></td><td class="printindex-index-section"><a href="#Invoking-DIRMNGR">Invoking DIRMNGR</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-G">G</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GPG-command-options">GPG command options</a></td><td class="printindex-index-section"><a href="#Invoking-GPG">Invoking GPG</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GPG_002dAGENT-command-options">GPG-AGENT command options</a></td><td class="printindex-index-section"><a href="#Invoking-GPG_002dAGENT">Invoking GPG-AGENT</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpgconf_002econf">gpgconf.conf</a></td><td class="printindex-index-section"><a href="#Files-used-by-gpgconf">Files used by gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-gpgconf_002ectl">gpgconf.ctl</a></td><td class="printindex-index-section"><a href="#Files-used-by-gpgconf">Files used by gpgconf</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-GPGSM-command-options">GPGSM command options</a></td><td class="printindex-index-section"><a href="#Invoking-GPGSM">Invoking GPGSM</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-O">O</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options_002c-DIRMNGR-command">options, DIRMNGR command</a></td><td class="printindex-index-section"><a href="#Invoking-DIRMNGR">Invoking DIRMNGR</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options_002c-GPG-command">options, GPG command</a></td><td class="printindex-index-section"><a href="#Invoking-GPG">Invoking GPG</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options_002c-GPG_002dAGENT-command">options, GPG-AGENT command</a></td><td class="printindex-index-section"><a href="#Invoking-GPG_002dAGENT">Invoking GPG-AGENT</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options_002c-GPGSM-command">options, GPGSM command</a></td><td class="printindex-index-section"><a href="#Invoking-GPGSM">Invoking GPGSM</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-options_002c-SCDAEMON-command">options, SCDAEMON command</a></td><td class="printindex-index-section"><a href="#Invoking-SCDAEMON">Invoking SCDAEMON</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-R">R</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-relax">relax</a></td><td class="printindex-index-section"><a href="#Agent-Configuration">Agent Configuration</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-S">S</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-scd_002devent">scd-event</a></td><td class="printindex-index-section"><a href="#Scdaemon-Configuration">Scdaemon Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SCDAEMON-command-options">SCDAEMON command options</a></td><td class="printindex-index-section"><a href="#Invoking-SCDAEMON">Invoking SCDAEMON</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-scdaemon_002econf">scdaemon.conf</a></td><td class="printindex-index-section"><a href="#Scdaemon-Configuration">Scdaemon Configuration</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGHUP">SIGHUP</a></td><td class="printindex-index-section"><a href="#Agent-Signals">Agent Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGHUP-1">SIGHUP</a></td><td class="printindex-index-section"><a href="#Dirmngr-Signals">Dirmngr Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGINT">SIGINT</a></td><td class="printindex-index-section"><a href="#Agent-Signals">Agent Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGINT-1">SIGINT</a></td><td class="printindex-index-section"><a href="#Dirmngr-Signals">Dirmngr Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGTERM">SIGTERM</a></td><td class="printindex-index-section"><a href="#Agent-Signals">Agent Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGTERM-1">SIGTERM</a></td><td class="printindex-index-section"><a href="#Dirmngr-Signals">Dirmngr Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGUSR1">SIGUSR1</a></td><td class="printindex-index-section"><a href="#Agent-Signals">Agent Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGUSR1-1">SIGUSR1</a></td><td class="printindex-index-section"><a href="#Dirmngr-Signals">Dirmngr Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-SIGUSR2">SIGUSR2</a></td><td class="printindex-index-section"><a href="#Agent-Signals">Agent Signals</a></td></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-swdb_002elst">swdb.lst</a></td><td class="printindex-index-section"><a href="#Files-used-by-gpgconf">Files used by gpgconf</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
<tr><th id="Index_cp_letter-T">T</th></tr>
<tr><td></td><td class="printindex-index-entry"><a href="#index-trust-values">trust values</a></td><td class="printindex-index-section"><a href="#Trust-Values">Trust Values</a></td></tr>
<tr><td colspan="3"><hr></td></tr>
</table>
<table class="cp-letters-footer-printindex"><tr><th>Jump to: &nbsp; </th><td><a class="summary-letter-printindex" href="#Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter-printindex" href="#Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
</td></tr></table>
</div>




</div>
</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT1" href="#DOCF1">(1)</a></h5>
<p>The <code class="command">gpgconf</code> tool might be
helpful for frontends as it enables editing this configuration file using
percent-escaped strings.</p>
<h5 class="footnote-body-heading"><a id="FOOT2" href="#DOCF2">(2)</a></h5>
<p>Using a little social engineering
anyone who is able to decrypt the message can check whether one of the
other recipients is the one he suspects.</p>
<h5 class="footnote-body-heading"><a id="FOOT3" href="#DOCF3">(3)</a></h5>
<p>Please note
that currently no locking is done, so concurrent access should be
avoided.  There are some precautions to avoid corruption with
concurrent usage, but results may be inconsistent and some changes may
get lost.  The stateless design makes it difficult to provide more
guarantees.</p>
</div>



</body>
</html>
